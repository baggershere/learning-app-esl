(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(14),r=n.n(s),c=n(12),o=n(26),l=n(13),d=n(209),u=n(211),h=n(213),p=n(214),g=n(119),b=n(215),m=n(249),f=n(112),y=n.n(f),v=n(248),x=n(216),j=n(217),w=n(247),O=n(17),k=n.n(O),E=n(28),S="REQUEST_LOGIN",T="REQUEST_LOGIN_SUCCESS",C="REQUEST_LOGIN_FAILED",I="SET_USER_STATE",M="FETCH_INITIAL_STATE",_="FETCH_INITIAL_STATE_SUCCESS",A="FETCH_INITIAL_STATE_FAIL",G="RESET_USER_STATE",L="SET_SELECTED_CHILD",D="RESET_SELECTED_CHILD",z="SWITCH_LANGUAGE",N=n(32),W=n.n(N),F=n(9),U=n(73),R=n(2),B=Object(d.a)((function(){return{title:{flexGrow:1},list:{width:"50vw",minWidth:"200px",maxWidth:"300px"},button:{fontSize:"25px",textTransform:"none"},link:{textDecoration:"none"}}})),H=Object(F.b)((function(e){return{state:e}}),(function(e){return{resetUserState:function(){return e((function(e){e({type:G})}))},switchLanguage:function(){return e((function(e,t){var n="English"===t().user.language?"Chinese":"English";e({type:z,payload:n})}))}}}))((function(e){var t=e.state,n=e.resetUserState,i=e.switchLanguage,s=B(),r=Object(a.useState)(!1),d=Object(c.a)(r,2),f=d[0],O=d[1],k=Object(w.a)(["authorization"]),E=Object(c.a)(k,3),S=(E[0],E[1],E[2]),T=Object(l.f)(),C=t.user.language;return Object(R.jsxs)("div",{"data-test":"rootDiv",children:[Object(R.jsx)(u.a,{"data-test":"appbarComponent",position:"static",children:Object(R.jsxs)(h.a,{children:[Object(R.jsx)(p.a,{children:Object(R.jsx)(y.a,{"data-test":"drawerButton",onClick:function(){return O(!0)}})}),Object(R.jsx)(g.a,{"data-test":"navbarTitle",className:s.title,variant:"h6",children:t.user.selectedChild.length?Object(U.capitalize)(t.user.selectedChild):null}),t.user.isAuth?Object(R.jsx)(b.a,{onClick:function(){n(),S("authorization"),T.push("/")},children:"English"===C?"Log out":"\u767b\u51fa"}):null,t.user.isAuth?null:Object(R.jsx)(b.a,{onClick:function(){return T.push("/signup")},children:"English"===C?"Sign up":"\u6ce8\u518c"}),t.user.isAuth?null:Object(R.jsx)(b.a,{onClick:function(){return T.push("/login")},children:"English"===C?"Login":"\u767b\u5f55"})]})}),Object(R.jsx)(v.a,{"data-test":"drawer",className:"drawerComponent",anchor:"left",open:f,onClose:function(){return O(!1)},children:Object(R.jsxs)(x.a,{"data-test":"drawerItems",className:s.list,children:[Object(R.jsx)(j.a,{children:Object(R.jsx)(g.a,{align:"justify",variant:"h4",children:"English"===C?"Hello":"\u54c8\u7f57"})}),Object(R.jsx)(j.a,{children:Object(R.jsx)(b.a,{className:s.button,fullWidth:!0,children:Object(R.jsx)(o.b,{className:s.link,to:"/",children:"English"===C?"Home":"\u9996\u9875"})})}),Object(R.jsx)(j.a,{children:Object(R.jsx)(b.a,{className:s.button,fullWidth:!0,children:Object(R.jsx)(o.b,{className:s.link,to:"/login",children:"English"===C?"Login":"\u767b\u5f55"})})}),Object(R.jsx)(j.a,{children:Object(R.jsx)(b.a,{className:s.button,fullWidth:!0,children:Object(R.jsx)(o.b,{className:s.link,to:"/profile",children:"English"===C?"Profile":"\u7528\u6237"})})}),Object(R.jsxs)(j.a,{style:{display:"flex",justifyContent:"center"},children:[Object(R.jsx)(m.a,{onChange:function(){i()},color:"primary",inputProps:{"aria-label":"checkbox with default color"}}),Object(R.jsx)(g.a,{children:t.user.language})]})]})})]})})),P=n(218),q=Object(d.a)({title:{padding:"10px 0px"}}),Q=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.state,n=q(),a=t.user.language;return Object(R.jsx)(P.a,{children:Object(R.jsx)(g.a,{className:n.title,variant:"h3",align:"center",children:"English"===a?"Learning Activities":"\u6765\u505a\u4e2a\u6e38\u620f\u5427\uff01"})})})),X=n(224),Y=n(219),V=n(220),K=n(223),J=n(222),Z=n(221),$=Object(d.a)({media:{height:300}}),ee=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.state,n=e.name,a=e.details,i=e.imageUrl,s=e.link,r=$(),c=Object(l.f)(),o=t.user.language;return Object(R.jsxs)(Y.a,{children:[Object(R.jsxs)(V.a,{onClick:function(){return c.push("/game/"+s)},children:[Object(R.jsx)(Z.a,{className:r.media,image:i,title:n}),Object(R.jsxs)(J.a,{children:[Object(R.jsx)(g.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n}),Object(R.jsx)(g.a,{variant:"body2",color:"textSecondary",component:"p",children:a})]})]}),Object(R.jsx)(K.a,{children:Object(R.jsx)(b.a,{size:"large",color:"error",onClick:function(){return c.push("/game/"+s)},children:"English"===o?"Play":"\u73a9\u4e00\u4e0b"})})]})})),te=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.state.user.language,n=[{name:"English"===t?"Nouns Game":"\u540d\u8bcd\u4e50\u56ed",id:"nouns",details:"English"===t?"A game to improve your vocabulary. Many categories available":"\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u63d0\u9ad8\u4f60\u7684\u8bcd\u6c47\u91cf\u6c34\u5e73",imageUrl:"https://f000.backblazeb2.com/file/audio1262/game_page_pics/nouns.png"},{name:"English"===t?"Sentence builder":"\u9020\u53e5",id:"sentences",details:"English"===t?"A game to improve your sentence structure. Many categories available":"\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u63d0\u9ad8\u4f60\u7684\u9020\u53e5\u80fd\u529b",imageUrl:"https://f000.backblazeb2.com/file/audio1262/game_page_pics/sentence.png"},{name:"English"===t?"Spelling":"\u62fc\u5199",id:"spelling",details:"English"===t?"A game to improve your spelling. Many categories available":"\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\uff0c\u63d0\u9ad8\u4f60\u7684\u62fc\u5199\u80fd\u529b",imageUrl:"https://f000.backblazeb2.com/file/audio1262/game_page_pics/spelling.png"},{name:"English"===t?"Questions":"\u95ee\u9898",id:"questions",details:"English"===t?"A game to improve your ability to ask questions.":"\u63d0\u9ad8\u4f60\u7684\u95ee\u95ee\u9898\u80fd\u529b",imageUrl:"https://f000.backblazeb2.com/file/audio1262/game_page_pics/questions.png"}];return Object(R.jsx)(P.a,{children:Object(R.jsx)(X.a,{container:!0,spacing:3,children:n.map((function(e){return Object(R.jsx)(X.a,{item:!0,xs:12,md:6,children:Object(R.jsx)(ee,{name:e.name,details:e.details,imageUrl:e.imageUrl,link:e.id})},e.id)}))})})})),ne=Object(d.a)((function(){return{background:{background:"#EEE2DC",padding:"30px"}}})),ae=function(){var e=ne();return Object(R.jsxs)("div",{className:e.background,children:[Object(R.jsx)(Q,{}),Object(R.jsx)(te,{})]})},ie=n(243),se=Object(d.a)((function(e){return{footer:{padding:"0px",backgroundColor:e.palette.primary.main},text:{color:"black",textDecoration:"none","&:hover":{color:"white"}}}})),re=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.state,n=se(),a=t.user.language;return Object(R.jsx)("footer",{className:n.footer,children:Object(R.jsx)(ie.a,{children:Object(R.jsx)(P.a,{style:{padding:"30px"},maxWidth:"lg",children:Object(R.jsxs)(X.a,{container:!0,spacing:5,children:[Object(R.jsx)(X.a,{item:!0,xs:12,sm:4,children:Object(R.jsx)(ie.a,{display:"flex",justifyContent:"center",children:Object(R.jsx)(g.a,{children:Object(R.jsx)(o.b,{to:"/",className:n.text,children:"English"===a?"Home":"\u9996\u9875"})})})}),Object(R.jsx)(X.a,{item:!0,xs:12,sm:4,children:Object(R.jsx)(ie.a,{display:"flex",justifyContent:"center",children:Object(R.jsx)(g.a,{children:Object(R.jsx)(o.b,{to:"/profile",className:n.text,children:"English"===a?"Profile":"\u7528\u6237"})})})}),Object(R.jsx)(X.a,{item:!0,xs:12,sm:4,children:Object(R.jsx)(ie.a,{display:"flex",justifyContent:"center",children:Object(R.jsx)(g.a,{children:Object(R.jsx)(o.b,{to:"/",className:n.text,children:"English"===a?"Learning Activities":"\u5b66\u4e60\u6d3b\u52a8"})})})})]})})})})})),ce=function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(H,{}),Object(R.jsx)(ae,{}),Object(R.jsx)(re,{})]})},oe=n(225),le=n(245),de=n(80),ue=n.n(de),he="REQUEST_USER_SIGNUP",pe="REQUEST_USER_SIGNUP_SUCCESS",ge="REQUEST_USER_SIGNUP_FAIL",be="RESET_STATE",me=Object(d.a)((function(e){return{form_container:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(4),minWidth:"40%"},link:{display:"flex",justifyContent:"center",marginTop:e.spacing(3)},button:{marginTop:"15px"}}})),fe=Object(F.b)((function(e){return{state:e}}),(function(e){return{signupUser:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(E.a)(k.a.mark((function a(i){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i({type:he}),a.next=4,W.a.post("https://esl-complete-app.herokuapp.com/api/signup",{email:e,name:t,password:n},{withCredentials:!0});case 4:a.sent,i({type:pe}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0+"errormsg"),i({type:ge,payload:a.t0.response.data.error});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},resetState:function(){return e((function(e){e({type:be})}))}}}))((function(e){var t=e.state,n=e.signupUser,s=e.resetState,r=Object(l.f)(),d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],m=Object(a.useState)(""),f=Object(c.a)(m,2),y=f[0],v=f[1],x=Object(a.useState)(""),j=Object(c.a)(x,2),w=j[0],O=j[1],S=me(),T=t.user.language,C=function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n(y,h,w),console.log();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.useEffect((function(){!0===t.signup.success&&(s(),r.push("/login"))}),[t.signup]),t.signup.loading?Object(R.jsx)("h1",{children:"LOADING SIGNUP"}):Object(R.jsxs)(P.a,{"data-test":"signupComponent",children:[Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:S.form_container,children:[Object(R.jsx)(ue.a,{}),Object(R.jsx)(g.a,{variant:"h3",children:"English"===T?"Sign Up":"\u6ce8\u518c"}),Object(R.jsxs)("form",{"data-test":"signupForm",className:S.form,noValidate:!0,children:[Object(R.jsxs)(X.a,{container:!0,spacing:2,children:[Object(R.jsx)(X.a,{item:!0,xs:12,children:Object(R.jsx)(le.a,{onChange:function(e){return p(e.target.value)},label:"English"===T?"Full Name":"\u59d3\u540d",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0})}),Object(R.jsx)(X.a,{item:!0,xs:12,children:Object(R.jsx)(le.a,{onChange:function(e){return v(e.target.value)},label:"English"===T?"Email":"\u7535\u5b50\u90ae\u7bb1",variant:"outlined",fullWidth:!0,required:!0})}),Object(R.jsx)(X.a,{item:!0,xs:12,children:Object(R.jsx)(le.a,{onChange:function(e){return O(e.target.value)},label:"English"===T?"Password":"\u5bc6\u7801",variant:"outlined",fullWidth:!0,required:!0,type:"password"})})]}),Object(R.jsx)(P.a,{children:Object(R.jsx)(g.a,{variant:"h6",color:"error",style:{marginTop:"10px"},children:t.signup.error?Object(R.jsx)("p",{children:t.signup.error.message}):""})}),Object(R.jsx)(b.a,{onClick:C,className:S.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"English"===T?"Sign up":"\u6ce8\u518c"}),Object(R.jsx)(X.a,{container:!0,children:Object(R.jsx)(X.a,{className:S.link,item:!0,xs:12,children:Object(R.jsxs)(o.b,{to:"/login",children:["English"===T?"Already have an account? Login":"\u6ca1\u6709\u8d26\u6237\uff1f\u8bf7\u5728\u8fd9\u91cc\u6ce8\u518c"," "]})})})]})]})]})})),ye=function(){return Object(R.jsxs)("div",{style:{minHeight:"100vh",display:"grid",gridTemplateRows:"auto 1fr auto"},children:[Object(R.jsx)(H,{}),Object(R.jsx)(fe,{}),Object(R.jsx)(re,{})]})},ve=n(56),xe=n(113),je=(n(164),n(8)),we={loadingLogin:!1,name:"",email:"",error:"",loading:!0,isAuth:!1,selectedChild:"",language:"English"},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(je.a)(Object(je.a)({},e),{},{loading:!0});case _:return Object(je.a)(Object(je.a)({},e),{},{name:t.payload.data.name,email:t.payload.data.email,isAuth:!0,loading:!1,selectedChild:t.payload.data.selectedChild});case A:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,isAuth:!1});case S:return Object(je.a)(Object(je.a)({},e),{},{loadingLogin:!0,isAuth:!1});case T:return Object(je.a)(Object(je.a)({},e),{},{loadingLogin:!1,isAuth:!0,name:t.payload.name,email:t.payload.email,token:t.payload.token});case C:return Object(je.a)(Object(je.a)({},e),{},{loadingLogin:!1,isAuth:!1,error:t.payload,name:"",email:"",token:""});case I:return Object(je.a)(Object(je.a)({},e),{},{name:t.payload.name,email:t.payload.email});case G:return Object(je.a)(Object(je.a)({},e),{},{isAuth:!1,name:"",email:"",children:[],token:""});case L:case D:return Object(je.a)(Object(je.a)({},e),{},{selectedChild:t.payload});case z:return Object(je.a)(Object(je.a)({},e),{},{language:t.payload});default:return e}},ke={loading:!1,success:!1,error:""},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(je.a)(Object(je.a)({},e),{},{loading:!0});case pe:return Object(je.a)(Object(je.a)({},e),{},{success:!0,loading:!1});case ge:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,error:t.payload});case be:return Object(je.a)(Object(je.a)({},e),{},{loading:!1});default:return e}},Se=n(59),Te=n(46),Ce=Te.REQUEST_PROFILE_API,Ie=Te.REQUEST_PROFILE_API_SUCCESS,Me=Te.REQUEST_PROFILE_API_FAIL,_e=Te.ADD_CHILD,Ae=Te.REMOVE_CHILD,Ge=Te.ADD_CHILD_REQUEST,Le=Te.ADD_CHILD_REQUEST_FAIL,De={loading:!1,children:[],averageScoresByGame:[],recentScores:[],averageOverallScores:[],error:"",addChildLoading:!1},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(je.a)(Object(je.a)({},e),{},{loading:!0});case Ie:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,children:t.payload.data.childrenArray,averageScoresByGame:t.payload.data.averageGameScoreByChild,recentScores:t.payload.data.recentScores,averageOverallScores:t.payload.data.averageOverallScores});case Me:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,error:t.payload});case Ge:return Object(je.a)(Object(je.a)({},e),{},{addChildLoading:!0});case Le:return Object(je.a)(Object(je.a)({},e),{},{addChildLoading:!1,error:t.payload});case _e:return Object(je.a)(Object(je.a)({},e),{},{addChildLoading:!1,children:[].concat(Object(Se.a)(e.children),[t.payload])});case Ae:return Object(je.a)(Object(je.a)({},e),{},{children:e.children.filter((function(e){return e!==t.payload}))});default:return e}},Ne=Object(ve.combineReducers)({user:Oe,signup:Ee,profile:ze}),We=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.compose,Fe=Object(ve.createStore)(Ne,{},We(Object(ve.applyMiddleware)(xe.a))),Ue=(n(66),Object(d.a)((function(e){return{form_container:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(4),minWidth:"40%"},link:{display:"flex",justifyContent:"center",marginTop:e.spacing(3)},button:{marginTop:"15px"}}}))),Re=Object(F.b)((function(e){return{state:e}}),(function(e){return{login:function(t,n){return e(function(e,t){return function(){var n=Object(E.a)(k.a.mark((function n(a){var i,s;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:S}),n.next=4,W.a.post("https://esl-complete-app.herokuapp.com/api/login",{email:e,password:t},{withCredentials:!0});case 4:i=n.sent,s=i.data.user,console.log(s.token),a({type:T,payload:s}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.response),a({type:C,payload:n.t0.response.data.message});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.state,n=e.login,s=Ue(),r=Object(a.useState)(""),d=Object(c.a)(r,2),u=d[0],h=d[1],p=Object(a.useState)(""),m=Object(c.a)(p,2),f=m[0],y=m[1],v=Object(a.useState)(""),x=Object(c.a)(v,2),j=(x[0],x[1],Object(w.a)(["authorization"])),O=Object(c.a)(j,3),S=(O[0],O[1]),T=(O[2],Object(l.f)()),C=t.user.language,I=function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n(u,f);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.useEffect((function(){t.user.isAuth&&(S("authorization",t.user.token),T.push("/profile"))}),[t]),t.user.loadingLogin?Object(R.jsx)("h1",{children:"LOGIN LOGIN"}):Object(R.jsxs)(P.a,{children:[Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:s.form_container,children:[Object(R.jsx)(ue.a,{}),Object(R.jsx)(g.a,{variant:"h3",children:"English"===C?"Login":"\u767b\u5f55"}),Object(R.jsx)(g.a,{variant:"h3",children:t.user.loading?"LOADING":""}),Object(R.jsxs)("form",{className:s.form,noValidate:!0,children:[Object(R.jsxs)(X.a,{container:!0,spacing:2,children:[Object(R.jsx)(X.a,{item:!0,xs:12,children:Object(R.jsx)(le.a,{onChange:function(e){return h(e.target.value)},label:"English"===t.user.language?"Email":"\u767b\u5f55",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0})}),Object(R.jsx)(X.a,{item:!0,xs:12,children:Object(R.jsx)(le.a,{onChange:function(e){return y(e.target.value)},label:"English"===t.user.language?"Password":"\u5bc6\u7801",variant:"outlined",fullWidth:!0,required:!0,type:"password"})})]}),Object(R.jsx)(P.a,{children:Object(R.jsx)(g.a,{variant:"h6",color:"error",style:{marginTop:"10px"},children:t.user.error&&t.user.error})}),Object(R.jsx)(b.a,{onClick:function(e){return I(e)},className:s.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"English"===C?"Log in":"\u767b\u5f55"}),Object(R.jsx)(X.a,{container:!0,children:Object(R.jsx)(X.a,{className:s.link,item:!0,xs:12,children:Object(R.jsx)(o.b,{to:"/signup",children:"English"===C?"Don't have an account? Sign up here":"\u6ca1\u6709\u8d26\u6237\uff1f\u8bf7\u5728\u8fd9\u91cc\u6ce8\u518c"})})})]})]})]})})),Be=function(){return Object(R.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto 1fr auto",minHeight:"100vh"},children:[Object(R.jsx)(H,{}),Object(R.jsx)(Re,{}),Object(R.jsx)(re,{})]})},He=Object(d.a)((function(e){return{card:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.main}},active:{background:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.main}}}})),Pe=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.game,n=e.child,s=e.state,r=(He(),Object(a.useState)("")),o=Object(c.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(""),h=Object(c.a)(u,2),p=h[0],b=h[1],m=s.user.language;return i.a.useEffect((function(){s.profile.loading||(function(){var e=s.profile.averageScoresByGame.filter((function(e){return e.game_name===t&&e.child_name===n}));e[0]?d(parseInt(e[0].avg).toFixed(0)+"%"):d("No data available")}(),function(){var e=s.profile.averageOverallScores.filter((function(e){return e.game_name===t}));e[0]?b(parseInt(e[0].avg).toFixed(0)+"%"):b("No data available")}())}),[s,t,n]),Object(R.jsx)(P.a,{style:{padding:"40px 0px"},children:Object(R.jsxs)(X.a,{container:!0,children:[Object(R.jsxs)(X.a,{item:!0,xs:6,children:[Object(R.jsx)(g.a,{variant:"h3",align:"center",children:Object(R.jsx)("b",{children:"English"===m?"My average":"\u6211\u7684\u5e73\u5747\u6210\u7ee9"})}),Object(R.jsx)(g.a,{variant:"h3",align:"center",children:l})]}),Object(R.jsxs)(X.a,{item:!0,xs:6,children:[Object(R.jsx)(g.a,{variant:"h3",align:"center",children:Object(R.jsx)("b",{children:"English"===m?"Student average":"\u5b66\u751f\u4eec\u7684\u5e73\u5747\u6210\u7ee9"})}),Object(R.jsx)(g.a,{variant:"h3",align:"center",children:p})]})]})})})),qe=n(94),Qe=n(228),Xe=n(229),Ye=n(230),Ve=n(231),Ke=n(232),Je=n(233),Ze=n(234),$e=n(246),et=n(242),tt=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.child,n=e.game,s=(e.data,e.state),r=Object(a.useState)([]),o=Object(c.a)(r,2),l=o[0],d=o[1],u=i.a.useState(0),h=Object(c.a)(u,2),p=h[0],g=h[1],b=i.a.useState(5),m=Object(c.a)(b,2),f=m[0],y=m[1];Math.min(f,l.length-p*f);return i.a.useEffect((function(){!function(){var e=s.profile.recentScores.filter((function(e){return e.game_name===n&&e.child_name===t}));d(e)}(),console.log(l)}),[s,n,s.user.selectedChild]),Object(R.jsx)(qe.a,{children:Object(R.jsx)(Qe.a,{children:Object(R.jsxs)(Xe.a,{children:[Object(R.jsx)(Ye.a,{children:Object(R.jsxs)(Ve.a,{children:[Object(R.jsx)(Ke.a,{children:"Game Type"}),Object(R.jsx)(Ke.a,{children:"Game Score"}),Object(R.jsx)(Ke.a,{children:"Date"}),Object(R.jsx)(Ke.a,{children:"Time"})]})}),Object(R.jsx)(Je.a,{children:l.slice(p*f,p*f+f).map((function(e){return Object(R.jsxs)(Ve.a,{children:[Object(R.jsx)(Ke.a,{children:e.game_name}),Object(R.jsx)(Ke.a,{children:e.game_score}),Object(R.jsx)(Ke.a,{children:Object(et.a)(new Date(e.date_attempt),"dd/MM/yyy")}),Object(R.jsx)(Ke.a,{children:Object(et.a)(new Date(e.date_attempt),"HH:mm")})]})}))}),Object(R.jsx)(Ze.a,{children:Object(R.jsx)(Ve.a,{children:Object(R.jsx)($e.a,{rowsPerPageOptions:[1,5],count:l.length,rowsPerPage:f,page:p,onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){y(parseInt(e.target.value)),g(0)}})})})]})})})})),nt=Object(d.a)((function(e){return{button:{display:"flex",justifyContent:"space-evenly"},buttonContainer:{marginTop:"20px"},card:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.main}},active:{background:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.main}}}})),at=Object(F.b)((function(e){return{state:e}}),null)((function(e){var t=e.state,n=Object(a.useState)(!0),s=Object(c.a)(n,2),r=s[0],o=s[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),u=d[0],h=d[1],p=nt(),m=t.user.language,f=function(){return Object(Se.a)(new Set(t.profile.averageOverallScores.map((function(e){return e.game_name}))))};return i.a.useEffect((function(){o(!1),h(f()[0])}),[t.profile]),Object(R.jsx)(P.a,{children:Object(R.jsxs)(X.a,{container:!0,spacing:3,children:[Object(R.jsxs)(X.a,{item:!0,xs:12,md:12,children:[Object(R.jsx)(g.a,{style:{padding:"20px 0px"},variant:"h3",align:"center",children:Object(R.jsx)("b",{children:"English"===m?"Games":"\u6e38\u620f"})}),Object(R.jsx)(X.a,{container:!0,className:p.buttonContainer,spacing:4,children:r?"Loading":f().map((function(e){return Object(R.jsx)(X.a,{item:!0,xs:4,className:p.button,children:Object(R.jsx)(b.a,{onClick:function(){return h(e)},className:e===u?p.active:p.card,variant:"contained",colod:"primary",children:e})})}))}),Object(R.jsx)(Pe,{child:t.user.selectedChild,game:u})]}),Object(R.jsx)(X.a,{item:!0,xs:12,md:12,children:Object(R.jsx)(g.a,{variant:"h3",align:"center",children:Object(R.jsxs)("b",{children:["English"===m?"Recent scores":"\u6700\u8fd1\u6210\u7ee9"," "]})})}),Object(R.jsx)(X.a,{item:!0,xs:12,md:12,children:Object(R.jsx)(tt,{game:u,child:t.user.selectedChild,data:t.profile.recentScores})})]})})})),it=n(235),st=n(236),rt=n(237),ct=n(239),ot=n(238),lt=n(46),dt=n(114),ut=n.n(dt),ht=function(e,t){return function(){var n=Object(E.a)(k.a.mark((function n(a,i){var s,r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=i().user.selectedChild,r=i().user.email,console.log(e,t,s,r),n.next=5,W.a.post("https://esl-games-backend.herokuapp.com/api/submitgamescore",{childName:s,gameName:t,gameScore:Math.round(e),email:r,time:ut()().format("YYYY-MM-DD HH:mm:ss")},{withCredentials:!0});case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},pt=Object(d.a)((function(e){return{card:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.main}},active:{background:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.main}}}})),gt=Object(F.b)((function(e){return{state:e}}),(function(e){return{setSelectedChild:function(t){return e({type:L,payload:t})},resetSelectedChild:function(){return e((function(e,t){var n=t().profile.children;e({type:D,payload:n.length>0?n[0]:""})}))},removeChild:function(t){return e(function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:lt.REMOVE_CHILD,payload:e}),t.next=3,W.a.post("https://esl-games-backend.herokuapp.com/api/removechild",{childName:e},{withCredentials:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.name,n=e.state,s=e.resetSelectedChild,r=e.removeChild,o=e.setSelectedChild,l=pt(),d=Object(a.useState)(!1),u=Object(c.a)(d,2),h=u[0],p=u[1],m=n.user.language,f=function(){p(!1)};return Object(R.jsxs)(i.a.Fragment,{children:[Object(R.jsx)(Y.a,{children:Object(R.jsx)(V.a,{onClick:function(e){e.stopPropagation(),o(t)},children:Object(R.jsxs)(J.a,{className:n.user.selectedChild===t?l.active:l.card,children:[Object(R.jsx)(g.a,{align:"center",variant:"h4",children:Object(U.capitalize)(t)}),Object(R.jsx)(b.a,{onClick:function(e){e.stopPropagation(),p(!0)},children:"English"===m?"Delete":"\u5220\u9664"})]})})}),Object(R.jsxs)(it.a,{open:h,onClose:f,children:[Object(R.jsx)(st.a,{children:"English"===m?"Delete User":"\u5220\u9664\u7528\u6237"}),Object(R.jsx)(rt.a,{children:Object(R.jsx)(ot.a,{children:"English"===m?"Are you sure you want to delete this user?":"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u7528\u6237\u5417\uff1f"})}),Object(R.jsxs)(ct.a,{children:[Object(R.jsx)(b.a,{onClick:f,color:"primary",children:"English"===m?"No":"\u5426"}),Object(R.jsx)(b.a,{onClick:function(){p(!1),n.user.selectedChild===t&&s(),r(t)},color:"primary",autoFocus:!0,children:"English"===m?"Yes":"\u786e\u5b9a"})]})]})]})})),bt=n(115),mt=n.n(bt),ft=Object(d.a)((function(e){return{header:{margin:"20px 0"},button:{marginTop:e.spacing(3)},center:{display:"flex",justifyContent:"center"},card:{backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.main}},active:{background:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.main}}}})),yt=Object(F.b)((function(e){return{state:e}}),(function(e){return{addChild:function(t){return e(function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:lt.ADD_CHILD_REQUEST}),t.next=4,W.a.post("https://esl-complete-app.com/api/addchild",{childName:e},{withCredentials:!0});case 4:n({type:lt.ADD_CHILD,payload:e}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.response.data.error.name),n({type:lt.ADD_CHILD_REQUEST_FAIL,payload:t.t0.response.data.error.name});case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.children,n=e.state,s=e.addChild,r=ft(),o=Object(a.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1],h=i.a.useState(!1),p=Object(c.a)(h,2),m=p[0],f=p[1],y=Object(a.useState)(""),v=Object(c.a)(y,2),x=v[0],j=v[1],w=n.user.language,O=function(){f(!1),j(""),u("")};return Object(R.jsxs)(P.a,{children:[Object(R.jsxs)(g.a,{className:r.header,align:"center",variant:"h3",children:[n.user.name,"'s ","English"===w?"Profile":"\u7528\u6237"]}),Object(R.jsx)(X.a,{container:!0,spacing:3,children:t.map((function(e){return Object(R.jsx)(X.a,{item:!0,xs:6,md:4,children:Object(R.jsx)(gt,{name:e})})}))}),Object(R.jsx)(P.a,{className:r.center,children:Object(R.jsxs)(b.a,{onClick:function(){return f(!0)},className:r.button,variant:"contained",color:"primary",endIcon:Object(R.jsx)(mt.a,{children:"send"}),children:[" ","English"===w?"Add child":"\u589e\u52a0\u4f7f\u7528\u8005"]})}),Object(R.jsxs)(it.a,{open:m,onClose:O,children:[Object(R.jsx)(st.a,{id:"form-dialog-title",children:"English"===w?"Write the name of the child you want to add":"\u4f60\u8981\u6dfb\u52a0\u7684\u5b69\u5b50\u7684\u540d\u5b57"}),Object(R.jsx)(rt.a,{children:Object(R.jsx)(le.a,{onChange:function(e){return u(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"English"===w?"Name":"\u540d\u5b57",type:"email",fullWidth:!0})}),Object(R.jsx)(g.a,{children:x.length?x:""}),Object(R.jsxs)(ct.a,{children:[Object(R.jsx)(b.a,{onClick:O,color:"primary",children:"English"===w?"Cancel":"\u5426"}),Object(R.jsx)(b.a,{onClick:function(){d.length>0&&!n.profile.children.includes(d)&&(s(d),f(!1),u("")),n.profile.children.includes(d)&&j("This child already exists"),0===d.length&&j("Please enter a name")},color:"primary",children:"English"===w?"Continue":"\u786e\u5b9a"})]})]})]})})),vt=n(240);W.a.defaults.withCredentials=!0;var xt=Object(d.a)((function(e){return{loading:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),jt=Object(F.b)((function(e){return{state:e}}),(function(e){return{fetchProfileInfo:function(){return e(function(){var e=Object(E.a)(k.a.mark((function e(t,n){var a,i,s,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:lt.REQUEST_PROFILE_API}),e.next=4,W.a.post("https://esl-complete-app.com/api/fetchprofileinfo",{withCredentials:!0});case 4:a=e.sent,i=a.data,s=n().user.selectedChild,i.data.childrenArray.includes(s)||(r=i.data.childrenArray.length>0?i.data.childrenArray[0]:"",t({type:L,payload:r})),t({type:lt.REQUEST_PROFILE_API_SUCCESS,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:lt.REQUEST_PROFILE_API_FAIL,payload:e.t0.response});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchProfileInfo,n=e.state,a=xt(),s=Object(l.f)();return i.a.useEffect((function(){console.log("ran"),n.user.isAuth||s.push("/login"),n.user.isAuth&&t()}),[]),n.profile.loading?Object(R.jsxs)(i.a.Fragment,{children:[Object(R.jsx)(H,{}),Object(R.jsxs)("div",{className:a.loading,children:[Object(R.jsx)("h1",{children:"Loading"}),Object(R.jsx)(vt.a,{})]})]}):Object(R.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto 1fr auto",minHeight:"100vh"},children:[Object(R.jsx)(H,{}),Object(R.jsx)(yt,{children:n.profile.children}),Object(R.jsx)(at,{}),Object(R.jsx)(re,{})]})})),wt=(n(166),n(116)),Ot=n(241),kt=n(25),Et=n(24),St=n(18),Tt=n(19),Ct=function(e){return e[Math.floor(Math.random()*e.length)]};function It(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e}var Mt=function(e,t,n,a,i){var s,r;return a||(3===e&&(0===t&&(s=.2*n.canvas.width,r="box"===i?.5*n.canvas.height:.65*n.canvas.height),1===t&&(s=.4*n.canvas.width,r="box"===i?.5*n.canvas.height:.65*n.canvas.height),2===t&&(s=.6*n.canvas.width,r="box"===i?.5*n.canvas.height:.65*n.canvas.height)),4===e&&(0===t&&(s=.1*n.canvas.width,r=.5*n.canvas.height),1===t&&(s=.3*n.canvas.width,r=.5*n.canvas.height),2===t&&(s=.5*n.canvas.width,r=.5*n.canvas.height),3===t&&(s=.7*n.canvas.width,r=.5*n.canvas.height)),5===e&&(0===t&&(s=.2*n.canvas.width,r=.5*n.canvas.height),1===t&&(s=.4*n.canvas.width,r=.5*n.canvas.height),2===t&&(s=.6*n.canvas.width,r=.5*n.canvas.height),3===t&&(s=.3*n.canvas.width,r=.625*n.canvas.height),4===t&&(s=.5*n.canvas.width,r=.625*n.canvas.height))),a&&(3===e&&(0===t&&(s=.125*n.canvas.width,r="word"===i?.6*n.canvas.height:.5*n.canvas.height),1===t&&(s=.375*n.canvas.width,r="word"===i?.6*n.canvas.height:.5*n.canvas.height),2===t&&(s=.625*n.canvas.width,r="word"===i?.6*n.canvas.height:.5*n.canvas.height)),4===e&&(0===t&&(s=.125*n.canvas.width,r=.5*n.canvas.height),1===t&&(s=.375*n.canvas.width,r=.5*n.canvas.height),2===t&&(s=.625*n.canvas.width,r=.5*n.canvas.height),3===t&&(s=.375*n.canvas.width,r=.6*n.canvas.height)),5===e&&(0===t&&(s=.125*n.canvas.width,r=.5*n.canvas.height),1===t&&(s=.375*n.canvas.width,r=.5*n.canvas.height),2===t&&(s=.625*n.canvas.width,r=.5*n.canvas.height),3===t&&(s=.25*n.canvas.width,r=.6*n.canvas.height),4===t&&(s=.5*n.canvas.width,r=.6*n.canvas.height))),{x:s,y:r}};var _t=function(e,t,n){var a=n.getBounds().clone();return!(e>=a.x+a.width||e<=a.x||t>=a.y+a.height||t<=a.y)},At=function(e){return e.every((function(e){return""!==e}))},Gt=[{key:"a",row:1,id:1,break:!1},{key:"b",row:1,id:2,break:!1},{key:"c",row:1,id:3,break:!1},{key:"d",row:1,id:4,break:!1},{key:"e",row:1,id:5,break:!1},{key:"f",row:1,id:6,break:!1},{key:"g",row:1,id:7,break:!1},{key:"h",row:1,id:8,break:!1},{key:"i",row:1,id:9,break:!0},{key:"j",row:2,id:10,break:!1},{key:"k",row:2,id:11,break:!1},{key:"l",row:2,id:12,break:!1},{key:"m",row:2,id:13,break:!1},{key:"n",row:2,id:14,break:!1},{key:"o",row:2,id:15,break:!1},{key:"p",row:2,id:16,break:!1},{key:"q",row:2,id:17,break:!1},{key:"r",row:2,id:18,break:!0},{key:"s",row:3,id:19,break:!1},{key:"t",row:3,id:20,break:!1},{key:"u",row:3,id:21,break:!1},{key:"v",row:3,id:22,break:!1},{key:"w",row:3,id:23,break:!1},{key:"x",row:3,id:24,break:!1},{key:"y",row:3,id:25,break:!1},{key:"z",row:3,id:26,break:!1}],Lt=[{key:"a",row:1,id:1,break:!1},{key:"b",row:1,id:2,break:!1},{key:"c",row:1,id:3,break:!1},{key:"d",row:1,id:4,break:!1},{key:"e",row:1,id:5,break:!1},{key:"f",row:1,id:6,break:!1},{key:"g",row:1,id:7,break:!0},{key:"h",row:2,id:8,break:!1},{key:"i",row:2,id:9,break:!1},{key:"j",row:2,id:10,break:!1},{key:"k",row:2,id:11,break:!1},{key:"l",row:2,id:12,break:!1},{key:"m",row:2,id:13,break:!1},{key:"n",row:2,id:14,break:!0},{key:"o",row:3,id:15,break:!1},{key:"p",row:3,id:16,break:!1},{key:"q",row:3,id:17,break:!1},{key:"r",row:3,id:18,break:!1},{key:"s",row:3,id:19,break:!1},{key:"t",row:3,id:20,break:!1},{key:"u",row:3,id:21,break:!0},{key:"v",row:4,id:22,break:!1},{key:"w",row:4,id:23,break:!1},{key:"x",row:4,id:24,break:!1},{key:"y",row:4,id:25,break:!1},{key:"z",row:4,id:26,break:!1}],Dt=Object(F.b)(null,(function(e){return{addScore:function(t,n){return e(ht(t,n))}}}))((function(e){var t,n,a,s,r,c,o,l=e.addScore,d=i.a.useRef(null),u=i.a.useRef(null),h=window.createjs,p=["Animals","Countries"],g={Animals:["Bat","Bear","Beaver","Bird","Camel","Cat","Chicken","Cow","Crab","Dog","Elephant","Monkey","Pig","Fish","Lion","Sheep","Whale","Fox"],Countries:["England","Spain","France","Italy","America","Japan","China","Germany","Russia","Australia","Brazil","Ireland","Vietnam"]},b="LOADING",m=[{id:"Vietnam",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/vietnam.jpg"},{id:"Ireland",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/ireland.jpg"},{id:"Brazil",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/brazil.png"},{id:"Australia",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/australia.png"},{id:"Russia",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/russia.png"},{id:"Germany",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/germany.png"},{id:"Fox",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/fox.png"},{id:"Whale",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/whale.png"},{id:"Sheep",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/sheep.png"},{id:"Lion",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/lion.png"},{id:"Fish",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/fish.png"},{id:"Pig",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/pig.png"},{id:"Monkey",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/monkey.jpg"},{id:"Elephant",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/elephant.png"},{id:"Dog",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/dog.png"},{id:"tree",type:h.Types.IMAGE,src:"https://db3pap007files.storage.live.com/y4mVq1Hesme1E8q6BkOZ_nHE6N2Oa7SItuOgI113jBRzI-_rQB9zIKvL7v2pKKZnoGsPrMiIUQI8DYUl_bQQz77-1NQzZdxVUwDFwImsu1MBvUGtE50EcJsaAX7K33EYM-1ZPnfa7X2IaE1xx9WohyW43LywM3Yap2PIbL-NBEP74Sw8vqfde0pVd2J7ALCFxau?width=356&height=400&cropmode=none"},{id:"plane",type:h.Types.IMAGE,src:"https://db3pap007files.storage.live.com/y4m7y0fQKNnYjL-5PztzRM5B6Ar1sNjHkZsq0rLc4L_Mvpy0pX6Raudqr1UpXb7xiG44tHSglPEN6piU0K-hSHSqhbNE_KyQyQe6JiK0GG-H2VLN4SLWGujQxVnUVHgF-KzMQYvTanr1TQnwujI54OImhyHJJZDTDiNf1WPXR9aQdFixJnPDNwZuzqxktpSoDuA?width=400&height=400&cropmode=none"},{id:"france",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/flag_pics/3-2-france-flag-png-image-thumb+(1).png"},{id:"unitedkingdom",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/flag_pics/7-2-united-kingdom-flag-png-image_400x400.png"},{id:"spain",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/flag_pics/5-2-spain-flag-picture_400x400+(1)+(1).png"},{id:"germany",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/flag_pics/germany_flag.png"},{id:"home",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/n1612275.png"},{id:"Bat",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/bat.png"},{id:"Bear",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/bear.png"},{id:"Beaver",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/Beaver.png"},{id:"Bird",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/bird.png"},{id:"Camel",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/camel.png"},{id:"Cat",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/cat.png"},{id:"Chicken",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/chicken.png"},{id:"Cow",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/cow.png"},{id:"Crab",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/crab.png"},{id:"America",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/america.png"},{id:"France",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/france.png"},{id:"China",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/china.png"},{id:"England",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/england.png"},{id:"pointer",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/cursor-png-transparent-7.png"},{id:"Italy",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/italy.png"},{id:"Japan",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/japan.png"},{id:"Spain",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/spain.png"},{id:"AnimalsCat",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/animalcat.png"},{id:"CountriesCat",type:h.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/countriesCat+(1).png"},{id:"Francemp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/france+(2).mp3",ogg:"noExtensionOggFile"}},{id:"Americamp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/america.mp3",ogg:"noExtensionOggFile"}},{id:"Chinamp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/china.mp3",ogg:"noExtensionOggFile"}},{id:"Englandmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/england+(2).mp3",ogg:"noExtensionOggFile"}},{id:"Italymp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/italy.mp3",ogg:"noExtensionOggFile"}},{id:"Japanmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/japan.mp3",ogg:"noExtensionOggFile"}},{id:"Spainmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/spain+(2).mp3",ogg:"noExtensionOggFile"}},{id:"Batmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bat.mp3",ogg:"noExtensionOggFile"}},{id:"Bearmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bear.mp3",ogg:"noExtensionOggFile"}},{id:"Beavermp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/beaver.mp3",ogg:"noExtensionOggFile"}},{id:"Birdmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bird.mp3",ogg:"noExtensionOggFile"}},{id:"Camelmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/camel.mp3",ogg:"noExtensionOggFile"}},{id:"Catmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/cat.mp3",ogg:"noExtensionOggFile"}},{id:"Chickenmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/chicken.mp3",ogg:"noExtensionOggFile"}},{id:"Cowmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/cow.mp3",ogg:"noExtensionOggFile"}},{id:"Crabmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/crab.mp3",ogg:"noExtensionOggFile"}},{id:"Dogmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Dogmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Elephantmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Elephantmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Fishmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Fishmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Foxmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Foxmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Lionmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Lionmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Monkeymp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Monkeymp3.mp3",ogg:"noExtensionOggFile"}},{id:"Pigmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Pigmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Sheepmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Sheepmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Whalemp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Whalemp3.mp3",ogg:"noExtensionOggFile"}},{id:"Australiamp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/australiamp3.mp3",ogg:"noExtensionOggFile"}},{id:"Brazilmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/brazilmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Germanymp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/germanymp3.mp3",ogg:"noExtensionOggFile"}},{id:"Irelandmp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/irelandmp3.mp3",ogg:"noExtensionOggFile"}},{id:"Russiamp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/russiamp3.mp3",ogg:"noExtensionOggFile"}},{id:"Vietnammp3",type:h.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/vietnammp3.mp3",ogg:"noExtensionOggFile"}}],f=0,y=0,v=0,x=function(e){a=window.innerWidth<900,n.removeAllEventListeners("click"),n.removeAllChildren(),G(),S()},j=function(){new C(n,"lightgreen",f).createLoadingScreen()},w=function(){if(y>=10)return b="RUNENDLEVEL",l(E(y,v),"Nouns"),void S();r||O(),new M(n,c,o).createLevel()},O=function(){var e=g[t][Math.floor(Math.random()*g[t].length)],n=It(g[t].filter((function(t){return t!==e}))).slice(0,3);n.push(e);var a=It(n);c=e,o=a,r=!0},k=function(){(new T).createBackground();var e=new h.Text("Score: "+Math.round(E(y,v))+"%","30px Open Sans","black");e.x=n.canvas.width/2-e.getMeasuredWidth()/2,e.y=.2*n.canvas.width;var t=new h.Container;t.x=15,t.y=15;var a=new h.Bitmap(s.getResult("home"));a.scaleX=50/a.image.width,a.scaleY=50/a.image.height,t.addChild(a),t.on("click",(function(e){y=0,r=!1,b="OPTIONS",S()}));var i=new h.Container,c=new h.Shape,o=new h.Text;o.text="Play again",o.font="27px Open Sans",o.x=100-o.getMeasuredWidth()/2,o.y=25-o.getMeasuredHeight()/2,c.color=c.graphics.beginFill("lightblue").command,c.graphics.drawRect(0,0,200,50),i.x=.5*n.canvas.width-100,i.y=.7*n.canvas.height,i.on("mouseover",(function(e){e.currentTarget.children[0].color.style="red"})),i.on("mouseout",(function(e){e.currentTarget.children[0].color.style="lightblue"})),i.on("click",(function(e){y=0,r=!1,b="OPTIONS",S()})),i.addChild(c,o),n.addChild(t,i,e)},E=function(e,t){return e/(y+t)*100},S=function(){switch(n.removeAllChildren(),b){case"LOADING":j();break;case"OPTIONS":new I(n).createCategoriesScreen();break;case"RUNLEVEL":w();break;case"RUNENDLEVEL":k();break;default:console.log("default ran")}},T=function(){function e(t,n){Object(St.a)(this,e),this.categories=p,this.color=n,this.stage=t}return Object(Tt.a)(e,[{key:"createBackground",value:function(){var e=new h.Shape;e.name="background",e.graphics.beginLinearGradientFill(["#36d1dc ","#5b86e5"],[0,.5,1],0,200,0,600).drawRect(0,0,n.canvas.width,n.canvas.height),n.addChild(e)}},{key:"createHomeButton",value:function(){var e=new h.Container;e.x=15,e.y=15;var t=new h.Bitmap(s.getResult("home"));t.scaleX=50/t.image.width,t.scaleY=50/t.image.height,e.addChild(t),e.on("click",(function(e){r=!1,b="OPTIONS",S()})),this.stage.addChild(e)}}]),e}(),C=function(e){Object(kt.a)(a,e);var t=Object(Et.a)(a);function a(e,n,i){var s;return Object(St.a)(this,a),(s=t.call(this,e,n)).percentLoaded=i,s}return Object(Tt.a)(a,[{key:"createLoadingStatusText",value:function(){var e=new h.Container;e.x=n.canvas.width/2-131.25-15,e.y=n.canvas.height/2-15;var t=new h.Shape;t.graphics.beginFill(""),t.graphics.setStrokeStyle(5).beginStroke("black"),t.graphics.drawRect(20,0,262.5,30),e.addChild(t);for(var a=Math.floor(this.percentLoaded/10),i=1;i<=a;i++){var s=new h.Shape;s.graphics.beginFill("black").drawRect(25*i,5,20,20),e.addChild(s)}var r=new h.Text("".concat(this.percentLoaded,"%"),"50px Open Sans","black");r.x=n.canvas.width/2-r.getMeasuredWidth()/2,r.y=.55*n.canvas.height;var c=new h.Text;c.text="Loading / \u52a0\u8f7d\u4e2d",c.font="25px Open Sans",c.x=n.canvas.width/2-c.getMeasuredWidth()/2,c.y=.4*n.canvas.height,this.stage.addChild(r,c,e)}},{key:"createLoadingScreen",value:function(){this.createBackground(),this.createLoadingStatusText()}}]),a}(T),I=function(e){Object(kt.a)(i,e);var a=Object(Et.a)(i);function i(e){var t;return Object(St.a)(this,i),(t=a.call(this,e)).stage=e,t}return Object(Tt.a)(i,[{key:"createCategories",value:function(){var e=this;y=0,v=0;for(var n=function(n){var a=new h.Container;a.name=p[n];var i=new h.Shape;i.graphics.setStrokeStyle(5).beginStroke("black"),i.graphics.beginFill("white").drawRect(0,0,150,150);var r=new h.Bitmap(s.getResult(p[n]+"Cat")),c=new h.Text(p[n],"20px Open Sans","black");c.x=75-c.getMeasuredWidth()/2,c.y=10;var o,l;r.image.width;r.scaleX=100/r.image.width,r.scaleY=100/r.image.height,r.x=25,r.y=35,a.y=(o=e.stage.canvas.height,((l=n+1)>=1&&l<=3?.33*o:l>=4&&l<=6?.66*o:l>=7&&l<=9?1*o:0)-75),a.x=function(e,t){return 1===t||4===t||7===t||10===t?.2*e:2===t||5===t||8===t||11===t?.5*e:3===t||6===t||9===t||12===t?.8*e:0}(e.stage.canvas.width,n+1)-75,a.on("mouseover",(function(e){a.scaleX=1.2,a.scaleY=1.2,a.x=a.x-15,a.y=a.y-15})),a.on("mouseout",(function(e){a.scaleX=1,a.scaleY=1,a.x=a.x+15,a.y=a.y+15})),a.on("click",(function(e){t=a.name,b="RUNLEVEL",S()})),a.addChild(i,c,r),e.stage.addChild(a)},a=0;a<p.length;a++)n(a)}},{key:"createInstructions",value:function(){var e=new h.Text;e.text="Choose One",e.font="25px Open Sans",e.x=n.canvas.width/2-e.getMeasuredWidth()/2,e.y=20,n.addChild(e)}},{key:"createCategoriesScreen",value:function(){this.createBackground(),this.createInstructions(),this.createCategories()}}]),i}(T),M=function(e){Object(kt.a)(i,e);var t=Object(Et.a)(i);function i(e,n,a){var s;return Object(St.a)(this,i),(s=t.call(this,e)).stage=e,s.targetItem=n,s.itemOptions=a,s}return Object(Tt.a)(i,[{key:"createLevel",value:function(){this.createBackground(),this.createInstructions(),this.createHomeButton(),this.createTextBox(),this.createChoices(),this.createScore()}},{key:"createInstructions",value:function(){if(0===y){var e=new h.Bitmap(s.getResult("pointer"));e.scaleX=30/e.image.width,e.scaleY=30/e.image.height,e.x=a?100:250,e.y=a?n.canvas.height/2:.55*n.canvas.height;var t=new h.Text;t.text="\u70b9\u51fb\u56fe\u7247\u5bf9\u5e94\u7684\u5b57\u5728\u6846\u4e2d",t.font="25px Open Sans",t.x=this.stage.canvas.width/2+20-t.getMeasuredWidth()/2,t.y=a?this.stage.canvas.height/2:.55*this.stage.canvas.height,this.stage.addChild(e,t)}}},{key:"createScore",value:function(){var e=new h.Text(y+"/10","20px Open Sans","black");e.set({x:100,y:10}),this.stage.addChild(e)}},{key:"createTextBox",value:function(){var e=new h.Container;e.name=this.targetItem;var t=new h.Shape;t.graphics.setStrokeStyle(5).beginStroke("black");var n=new h.Text(this.targetItem,"25px Open Sans","lightblack");e.x=.2*this.stage.canvas.width,e.y=.1*this.stage.canvas.height,t.graphics.beginFill("white").drawRect(0,0,.6*this.stage.canvas.width,50),e.addChild(t,n),this.stage.addChild(e),n.x=.6*this.stage.canvas.width/2-n.getMeasuredWidth()/2,n.y=25-n.getMeasuredHeight()/2}},{key:"createChoices",value:function(){var e=this;h.Sound.play(this.targetItem+"mp3");for(var t=function(t){var i=new h.Container;i.name=e.itemOptions[t];var c=new h.Shape;c.color=c.graphics.beginFill("white").command,c.graphics.drawRect(0,0,100,100);var o=new h.Bitmap(s.getResult(e.itemOptions[t]));o.scaleX=150/o.image.width,o.scaleY=100/o.image.height,a?(i.y=0===t||1===t?.33*e.stage.canvas.height-50:.66*e.stage.canvas.height-50,i.x=0===t||2===t?.25*e.stage.canvas.width-75:.75*e.stage.canvas.width-75):(i.y=0===t||1===t?.4*e.stage.canvas.height-50:.8*e.stage.canvas.height-50,i.x=0===t||2===t?.25*e.stage.canvas.width-75:.75*e.stage.canvas.width-75),i.on("mouseover",(function(e){})),i.on("mouseout",(function(e){})),i.on("click",(function(t){if(t.currentTarget.name===e.targetItem){y++,h.Sound.play(t.currentTarget.name+"mp3"),h.Tween.get(t.currentTarget).to({x:n.canvas.width/2-75,y:n.canvas.height/2-50},200);for(var a=n.numChildren-1;a>=0;a--){var s=n.getChildAt(a);s.name!==t.currentTarget.name&&"background"!==s.name&&n.removeChild(s)}i.removeAllEventListeners(),new _("Continue","white","black",20).createNextLevelButton()}else v++,h.Tween.get(t.currentTarget).to({alpha:0},1e3);r=!1})),i.addChild(o),e.stage.addChild(i)},i=0;i<this.itemOptions.length;i++)t(i)}}]),i}(T),_=function(){function e(t,a,i,s){Object(St.a)(this,e),this.stage=n,this.text=t,this.shapeColor=a,this.textColor=i,this.fontSize=s}return Object(Tt.a)(e,[{key:"createPlayButton",value:function(){var e=new h.Container,t=new h.Shape,n=new h.Text(this.text,"50px Open Sans",this.textColor),a=n.getMeasuredWidth(),i=n.getMeasuredHeight();n.x=0,n.y=0,e.x=this.stage.canvas.width/2-a/2,e.y=this.stage.canvas.height/2-i/2,t.color=t.graphics.beginFill("lightblue").command,t.graphics.drawRect(0,0,a,i),e.on("mouseover",(function(e){t.color.style="red"})),e.on("mouseout",(function(e){t.color.style="lightblue"})),e.on("click",(function(e){b="RUNLEVEL",S()})),e.addChild(t,n),this.stage.addChild(e)}},{key:"createNextLevelButton",value:function(){var e=A(this.text,this.shapeColor,this.textColor);e.on("click",(function(e){n.children.forEach((function(e){"background"!==e.name&&h.Tween.get(e).to({alpha:0},300).call((function(){S()}))}))})),n.addChild(e)}}]),e}(),A=function(e,t,i){var s=new h.Container,r=new h.Shape,c=new h.Text(e,"20px Open Sans","black");return c.x=100-c.getMeasuredWidth()/2,c.y=25-c.getMeasuredHeight()/2,r.color=r.graphics.beginFill("lightgreen").command,r.graphics.drawRect(0,0,200,50),s.x=n.canvas.width/2-100,s.y=a?200:130,s.alpha=0,h.Tween.get(s).to({alpha:1},500),s.addChild(r,c),s};function G(){if(window.innerWidth>=window.innerHeight){a=!1,u.current.width=800,u.current.height=550;var e=800/550,t=window.innerWidth,n=window.innerHeight-200;t/n>e?(t=n*e,d.current.style.height=n+"px",d.current.style.width=t+"px"):(n=t/e,d.current.style.height=n+"px",d.current.style.width=t+"px")}else{a=!0,u.current.width=u?550:null,u.current.height=u?800:null;var i=.6875,s=window.innerWidth,r=window.innerHeight-200;s/r>i?(s=r*i,d.current.style.height=r+"px",d.current.style.width=s+"px"):(r=s/i,d.current.style.height=r+"px",d.current.style.width=s+"px")}}return i.a.useEffect((function(){return(n=new h.Stage(u.current)).enableMouseOver(10),h.Touch.enable(n,!1,!0),h.Ticker.framerate=30,h.Ticker.addEventListener("tick",n),h.Sound.volume=.5,(s=new h.LoadQueue(!1,null,!0)).installPlugin(h.Sound),s.loadManifest(m),s.addEventListener("error",(function(e){console.log(e)})),s.on("progress",(function(e){f=Math.round(100*s.progress),j()})),s.on("complete",(function(e){b="OPTIONS",S()})),window.addEventListener("resize",x),G(),S(),function(){window.removeEventListener("resize",x),h.Sound.removeAllSounds()}})),Object(R.jsx)("div",{ref:d,className:"canvas-holder",children:Object(R.jsx)("canvas",{id:"canvas2",ref:u,width:"800px",height:"550px"})})})),zt=n(7),Nt=(n(167),Object(F.b)(null,(function(e){return{addScore:function(t,n){return e(ht(t,n))}}}))((function(e){var t,n,a,s,r,c,o=e.addScore,l=i.a.useRef(null),d=i.a.useRef(null),u=window.createjs,h=[{id:"present_apples",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_apples.jpg"},{id:"present_bananas",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_bananas.png"},{id:"present_water",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_water.jpg"},{id:"Japan",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/japan.png"},{id:"Spain",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/spain.png"},{id:"AnimalsCat",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/animalcat.png"},{id:"CountriesCat",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/countriesCat+(1).png"},{id:"speech",type:u.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png"}],p="LOADING",g=["Present Simple","Past Simple","Future Simple"],b=10,m=[{sentence:["I","eat","apples"],imgID:"present_apples"},{sentence:["He","eats","bananas"],imgID:"present_bananas"},{sentence:["We","drink","water"],imgID:"present_water"}],f=0,y=0,v=function(){new j(r).runLoadingScreen()},x=function(){function e(){Object(St.a)(this,e)}return Object(Tt.a)(e,[{key:"createBackground",value:function(){var e=new u.Shape;e.name="background",e.graphics.beginLinearGradientFill(["#36d1dc ","#5b86e5"],[0,.5,1],0,200,0,600).drawRect(0,0,n.canvas.width,n.canvas.height),n.addChild(e)}}]),e}(),j=function(e){Object(kt.a)(a,e);var t=Object(Et.a)(a);function a(){return Object(St.a)(this,a),t.apply(this,arguments)}return Object(Tt.a)(a,[{key:"createLoadingStatusText",value:function(){var e=new u.Container;e.x=n.canvas.width/2-131.25-15,e.y=n.canvas.height/2-15;var t=new u.Shape;t.graphics.beginFill(""),t.graphics.setStrokeStyle(5).beginStroke("black"),t.graphics.drawRect(20,0,262.5,30),e.addChild(t);for(var a=Math.floor(r/10),i=1;i<=a;i++){var s=new u.Shape;s.graphics.beginFill("black").drawRect(25*i,5,20,20),e.addChild(s)}var c=new u.Text("".concat(r,"%"),"50px Open Sans","black");c.x=n.canvas.width/2-c.getMeasuredWidth()/2,c.y=.55*n.canvas.height;var o=new u.Text;o.text="Loading / \u52a0\u8f7d\u4e2d",o.font="25px Open Sans",o.x=n.canvas.width/2-o.getMeasuredWidth()/2,o.y=.4*n.canvas.height,n.addChild(c,o,e)}},{key:"runLoadingScreen",value:function(){this.createBackground(),this.createLoadingStatusText()}}]),a}(x),w=function(e){Object(kt.a)(s,e);var i=Object(Et.a)(s);function s(){var e;return Object(St.a)(this,s),(e=i.call(this)).categories=g,e}return Object(Tt.a)(s,[{key:"showCategories",value:function(){for(var e=[{x:a?.1*n.canvas.width:.05*n.canvas.width,y:.4*n.canvas.height},{x:a?.55*n.canvas.width:.375*n.canvas.width,y:.4*n.canvas.height},{x:a?.325*n.canvas.width:.7*n.canvas.width,y:a?.525*n.canvas.height:.4*n.canvas.height}],i=function(a){var i=new u.Container,s=new u.Shape,r=new u.Text;r.text=g[a],r.font="27px Open Sans",r.x=100-r.getMeasuredWidth()/2,r.y=25-r.getMeasuredHeight()/2,s.color=s.graphics.beginFill("lightblue").command,s.graphics.setStrokeStyle(4).beginStroke("black"),s.graphics.drawRect(0,0,200,50),i.x=e[a].x,i.y=e[a].y,i.name=g[a],i.alpha=0,u.Tween.get(i).to({alpha:1},300),i.on("mouseover",(function(e){s.color.style="red"})),i.on("mouseout",(function(e){s.color.style="lightblue"})),i.on("click",(function(e){p="RUN_LEVEL",t=i.name,S(300),setTimeout((function(){E()}),300)})),i.addChild(s,r),n.addChild(i)},s=0;s<this.categories.length;s++)i(s)}},{key:"showCategoriesText",value:function(){var e=new u.Text;e.text="Choose a category",e.font="30px Open Sans",e.x=n.canvas.width/2-e.getMeasuredWidth()/2,e.y=.25*n.canvas.height,n.addChild(e)}},{key:"runCategoriesScreen",value:function(){this.createBackground(),this.showCategoriesText(),this.showCategories()}}]),s}(x),O=function(e){Object(kt.a)(r,e);var i=Object(Et.a)(r);function r(){var e;return Object(St.a)(this,r),(e=i.call(this)).currentWords=[],e.currentBoxes=[],e.playerWords=[],e.imgID="",e}return Object(Tt.a)(r,[{key:"selectRandomSentence",value:function(){if("Present Simple"===t){var e=Ct(m),n=e.sentence;this.imgID=e.imgID;var a=It(Object(Se.a)(n));this.randomSentence=n,this.shuffledArray=a}}},{key:"buildPlayerWordsArray",value:function(){var e=this;this.currentWords.forEach((function(){return e.playerWords.push("")}))}},{key:"createEmpytyBoxes",value:function(){for(var e=0;e<this.randomSentence.length;e++){var t=new u.Container;t.name=this.randomSentence[e]+"_box",t.alpha=0,u.Tween.get(t).to({alpha:1},300);var i=Mt(this.randomSentence.length,e,n,a,"box");t.x=i.x,t.y=i.y,t.setBounds(t.x,t.y,a?130:150,50);var s=new u.Shape;s.color=s.graphics.beginFill("white").command,s.stroke=s.graphics.setStrokeStyle(2).beginStroke("black").command,s.graphics.drawRect(0,0,a?130:150,50),t.addChild(s),this.currentBoxes.push(t)}}},{key:"displayRandomWords",value:function(){for(var e=0;e<this.shuffledArray.length;e++){var t=new u.Container;t.name=this.shuffledArray[e]+"_word";var i=Mt(this.shuffledArray.length,e,n,a,"word");t.x=i.x,t.y=i.y,t.setBounds(t.x,t.y,a?130:150,50);var s=new u.Shape;s.color=s.graphics.beginFill("lightblue").command,s.graphics.setStrokeStyle(3).beginStroke("black"),s.graphics.drawRect(0,0,a?130:150,50);var r=new u.Text;r.text=this.shuffledArray[e],r.font=a?"25px Open Sans":"30px Open Sans",r.x=a?65-r.getMeasuredWidth()/2:75-r.getMeasuredWidth()/2,r.y=25-r.getMeasuredHeight()/2,t.addChild(s,r),this.currentWords.push(t)}}},{key:"displayInstructions",value:function(){if(1==b){var e=new u.Bitmap(s.getResult("speech")),t=new u.Container;e.scaleX=250/e.image.width,e.scaleY=120/e.image.height,t.x=a?.5*n.canvas.width-125:.66*n.canvas.width,t.y=a?.7*n.canvas.height:.2*n.canvas.height;var i=new u.Text;i.lineWidth=150,i.text="\u62d6\u653e\u5355\u8bcd\u5c06\u5b83\u4eec\u6309 \u6b63\u786e\u7684\u987a\u5e8f\u6392\u5217",i.font="20px Open Sans",i.x=45,i.y=40,t.addChild(e,i),n.addChild(t)}}},{key:"displayLevelImage",value:function(){var e=new u.Container,t=new u.Bitmap(s.getResult(this.imgID));t.scaleX=250/t.image.width,t.scaleY=250/t.image.height,e.x=.5*n.canvas.width-125,e.y=a?50:10,e.addChild(t),n.addChild(e)}},{key:"handleMovement",value:function(){for(var e=this,t=0;t<this.currentBoxes.length;t++)n.addChild(this.currentBoxes[t]);for(var a=0;a<this.currentWords.length;a++)n.addChild(this.currentWords[a]);for(var i=function(t){var a=void 0,i=void 0;e.currentWords[t].on("mousedown",(function(s){a=s.currentTarget.x,i=s.currentTarget.y,c={x:e.currentWords[t].x-s.stageX,y:e.currentWords[t].y-s.stageY},n.setChildIndex(e.currentWords[t],n.getNumChildren()-1)})),e.currentWords[t].on("pressmove",(function(t){t.currentTarget.x=t.stageX+c.x,t.currentTarget.y=t.stageY+c.y;for(var n=0;n<e.currentBoxes.length;n++)_t(t.stageX,t.stageY,e.currentBoxes[n])})),e.currentWords[t].on("pressup",(function(n){for(var s=0;s<e.currentBoxes.length;s++)_t(n.stageX,n.stageY,e.currentBoxes[s])&&(""!==e.playerWords[s]&&(e.currentWords[t].x=a,e.currentWords[t].y=i),""===e.playerWords[s]&&(e.currentWords[t].x=e.currentBoxes[s].x,e.currentWords[t].y=e.currentBoxes[s].y,e.playerWords[s]=e.currentWords[t].name.slice(0,-5),e.currentWords[t].removeAllEventListeners()));At(e.playerWords)&&(e.checkAnswers()&&(y++,e.showCorrect()),e.checkAnswers()||(f++,e.showIncorrect())),At(e.playerWords)||console.log("Not correct")}))},s=0;s<this.currentWords.length;s++)i(s)}},{key:"showCorrect",value:function(){var e=this;this.currentBoxes.forEach((function(e){e.children[0].stroke.style="green"}));var t=new u.Text;t.text="Correct!",t.font="20px Open Sans",t.x=.5*n.canvas.width-t.getMeasuredWidth()/2,t.y=.625*n.canvas.height,t.alpha=0,u.Tween.get(t).to({alpha:1},300),n.addChild(t);var a=new u.Container;a.x=n.canvas.width/2-75,a.y=.7*n.canvas.height;var i=new u.Text;i.text="Continue",i.font="20px Open Sans";var s=new u.Shape;s.color=s.graphics.beginFill("pink").command,s.graphics.setStrokeStyle(3).beginStroke("black"),s.graphics.drawRect(0,0,150,50),a.addChild(s,i),i.x=75-i.getMeasuredWidth()/2,i.y=25-i.getMeasuredHeight()/2,a.on("mouseover",(function(e){s.color.style="red"})),a.on("mouseout",(function(e){s.color.style="pink"})),a.on("click",(function(t){S(300),setTimeout((function(){n.removeAllChildren(),11===++b&&(p="RUN_END_LEVEL"),e.currentWords=[],e.currentBoxes=[],e.playerWords=[],E()}),500)})),n.addChild(a)}},{key:"showIncorrect",value:function(){var e=this;this.currentBoxes.forEach((function(e){console.log(e.children[0]),e.children[0].stroke.style="red"}));var t=new u.Text;t.text="\u4e0d\u5bf9\uff0c \u5728\u8bd5\u4e00\u8bd5",t.font="20px Open Sans",t.x=.5*n.canvas.width-t.getMeasuredWidth()/2,t.y=.625*n.canvas.height,t.alpha=0,u.Tween.get(t).to({alpha:1},300),n.addChild(t),setTimeout((function(){n.removeAllChildren(),e.currentWords=[],e.currentBoxes=[],e.playerWords=[],e.replayLevel()}),2e3)}},{key:"checkAnswers",value:function(){var e=this;return this.playerWords.every((function(t,n){return t===e.randomSentence[n]}))}},{key:"displayCurrentLevel",value:function(){var e=new u.Text;e.text="".concat(b,"/10"),e.font="20px Open Sans",e.x=10,e.y=10,n.addChild(e)}},{key:"replayLevel",value:function(){this.createBackground(),this.displayInstructions(),this.displayCurrentLevel(),this.createEmpytyBoxes(),this.displayLevelImage(),this.displayRandomWords(),this.buildPlayerWordsArray(),this.handleMovement()}},{key:"displayLevelScreen",value:function(){this.createBackground(),this.displayInstructions(),this.displayCurrentLevel(),this.selectRandomSentence(),this.displayLevelImage(),this.createEmpytyBoxes(),this.displayRandomWords(),this.buildPlayerWordsArray(),this.handleMovement()}}]),r}(x),k=function(e){Object(kt.a)(a,e);var t=Object(Et.a)(a);function a(){return Object(St.a)(this,a),t.call(this)}return Object(Tt.a)(a,[{key:"displayText",value:function(){var e=new u.Text;e.text="Game complete",e.font="25px Open Sans",e.x=.5*n.canvas.width-e.getMeasuredWidth()/2,e.y=.5*n.canvas.height-e.getMeasuredHeight()/2;var t=new u.Text;t.text="Score: "+T(),t.font="20px Open Sans",t.x=t.x=.5*n.canvas.width-t.getMeasuredWidth()/2,t.y=.6*n.canvas.height-t.getMeasuredHeight()/2;var a=new u.Container;a.x=n.canvas.width/2-75,a.y=.7*n.canvas.height;var i=new u.Text;i.text="Play again",i.font="20px Open Sans",i.x=75-i.getMeasuredWidth()/2,i.y=25-i.getMeasuredHeight()/2;var s=new u.Shape;s.color=s.graphics.beginFill("pink").command,s.graphics.setStrokeStyle(3).beginStroke("black"),s.graphics.drawRect(0,0,150,50),a.addChild(s,i),a.on("click",(function(e){o(T(),"Sentences"),b=1,y=0,f=0,p="LOADED",E()})),n.addChild(e,t,a)}},{key:"displayEndLevel",value:function(){this.createBackground(),this.displayText()}}]),a}(x),E=function(){switch(p){case"LOADING":v();break;case"LOADED":(new w).runCategoriesScreen();break;case"RUN_LEVEL":(new O).displayLevelScreen();break;case"RUN_END_LEVEL":(new k).displayEndLevel();break;default:console.log("default_ran")}},S=function(e){n.children.forEach((function(t){"background"!==t.name&&u.Tween.get(t).to({alpha:0},e)}))},T=function(){return y/(y+f)*100},C=function(e){a=window.innerWidth<900,n.removeAllEventListeners("click"),n.removeAllChildren(),[],[],I(),E()};function I(){if(window.innerWidth>=800){a=!1,d.current.width=800,d.current.height=550;var e=800/550,t=window.innerWidth,n=window.innerHeight-200;t/n>e?(t=n*e,l.current.style.height=n+"px",l.current.style.width=t+"px"):(n=t/e,l.current.style.height=n+"px",l.current.style.width=t+"px")}else{a=!0,d.current.width=d?550:null,d.current.height=d?800:null;var i=.6875,s=window.innerWidth,r=window.innerHeight-200;s/r>i?(s=r*i,l.current.style.height=r+"px",l.current.style.width=s+"px"):(r=s/i,l.current.style.height=r+"px",l.current.style.width=s+"px")}}return i.a.useEffect((function(){return(n=new u.Stage(d.current)).enableMouseOver(10),u.Touch.enable(n,!1,!0),u.Ticker.framerate=30,u.Ticker.addEventListener("tick",n),u.Sound.volume=.5,(s=new u.LoadQueue(!1,null,!0)).installPlugin(u.Sound),s.loadManifest(h),s.addEventListener("error",(function(e){console.log(e)})),s.on("progress",(function(e){var t=Math.round(100*s.progress);r=t,v()})),s.on("complete",(function(e){p="LOADED",E()})),window.addEventListener("resize",C),I(),function(){window.removeEventListener("resize",C)}})),Object(R.jsx)("div",{ref:l,className:"canvas-holder",children:Object(R.jsx)("canvas",{id:"canvas2",ref:d,width:"800px",height:"550px"})})}))),Wt=Object(F.b)(null,(function(e){return{addScore:function(t,n){return e(ht(t,n))}}}))((function(e){var t,n,a,s,r=e.addScore,c=i.a.useRef(null),o=i.a.useRef(null),l=window.createjs,d=[{id:"rabbitmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/rabbitmp3.mp3",ogg:"noExtensionOggFile"}},{id:"bluemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/bluemp3.mp3",ogg:"noExtensionOggFile"}},{id:"mongoosemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/mongoosemp3.mp3",ogg:"noExtensionOggFile"}},{id:"redmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/redmp3.mp3",ogg:"noExtensionOggFile"}},{id:"redIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/redIMG.jpg"},{id:"blueIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/blueIMG.jpg"},{id:"audioIcon",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/audioIcon.png"},{id:"home",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/nouns/images/n1612275.png"},{id:"speech",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png"},{id:"yellowIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/yellowIMG.png"},{id:"greenIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/greenIMG.png"},{id:"brownIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/brownIMG.png"},{id:"greyIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/greyIMG.png"},{id:"purpleIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/purpleIMG.png"},{id:"pinkIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/pinkIMG.png"},{id:"orangeIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/orangeIMG.png"},{id:"blackIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/blackIMG.png"},{id:"whiteIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/whiteIMG.bmp"},{id:"yellowmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/yellowmp3.mp3",ogg:"noExtensionOggFile"}},{id:"greenmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/greenmp3.mp3",ogg:"noExtensionOggFile"}},{id:"brownmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/brownmp3.mp3",ogg:"noExtensionOggFile"}},{id:"greymp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/greymp3.mp3",ogg:"noExtensionOggFile"}},{id:"purplemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/purplemp3.mp3",ogg:"noExtensionOggFile"}},{id:"pinkmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/pinkmp3.mp3",ogg:"noExtensionOggFile"}},{id:"orangemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/orangemp3.mp3",ogg:"noExtensionOggFile"}},{id:"blackmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/blackmp3.mp3",ogg:"noExtensionOggFile"}},{id:"whitemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/whitemp3.mp3",ogg:"noExtensionOggFile"}},{id:"batIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/batIMG.png"},{id:"bearIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/bearIMG.png"},{id:"beaverIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/beaverIMG.png"},{id:"birdIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/birdIMG.png"},{id:"camelIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/camelIMG.png"},{id:"catIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/catIMG.png"},{id:"chickenIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/chickenIMG.png"},{id:"cowIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/cowIMG.png"},{id:"crabIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/crabIMG.png"},{id:"dogIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/dogIMG.png"},{id:"elephantIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/elephantIMG.png"},{id:"monkeyIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/monkeyIMG.jpg"},{id:"pigIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/pigIMG.png"},{id:"fishIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/fishIMG.png"},{id:"lionIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/lionIMG.png"},{id:"sheepIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/sheepIMG.png"},{id:"whaleIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/whaleIMG.png"},{id:"foxIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/spelling/images/foxIMG.png"},{id:"batmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Batmp3.mp3",ogg:"noExtensionOggFile"}},{id:"bearmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Bearmp3.mp3",ogg:"noExtensionOggFile"}},{id:"beavermp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Beavermp3.mp3",ogg:"noExtensionOggFile"}},{id:"birdmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Birdmp3.mp3",ogg:"noExtensionOggFile"}},{id:"camelmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Camelmp3.mp3",ogg:"noExtensionOggFile"}},{id:"catmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Catmp3.mp3",ogg:"noExtensionOggFile"}},{id:"chickenmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Chickenmp3.mp3",ogg:"noExtensionOggFile"}},{id:"cowmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Cowmp3.mp3",ogg:"noExtensionOggFile"}},{id:"crabmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Crabmp3.mp3",ogg:"noExtensionOggFile"}},{id:"dogmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Dogmp3.mp3",ogg:"noExtensionOggFile"}},{id:"elephantmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Elephantmp3.mp3",ogg:"noExtensionOggFile"}},{id:"monkeymp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Monkeymp3.mp3",ogg:"noExtensionOggFile"}},{id:"pigmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Pigmp3.mp3",ogg:"noExtensionOggFile"}},{id:"fishmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Fishmp3.mp3",ogg:"noExtensionOggFile"}},{id:"lionmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Lionmp3.mp3",ogg:"noExtensionOggFile"}},{id:"sheepmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Sheepmp3.mp3",ogg:"noExtensionOggFile"}},{id:"whalemp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Whalemp3.mp3",ogg:"noExtensionOggFile"}},{id:"foxmp3",type:l.Types.SOUND,src:{mp3:"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Foxmp3.mp3",ogg:"noExtensionOggFile"}}],u=0,h="LOADING",p=["Animals","Colours"],g={Animals:["bat","bear","beaver","bird","camel","cat","chicken","cow","crab","dog","elephant","monkey","pig","fish","lion","sheep","whale","fox"],Colours:["blue","red","yellow","green","brown","grey","purple","pink","orange","black","white"]},b=0,m=0,f=9,y=function(){new x(u).runLoadingScreen()},v=function(){function e(){Object(St.a)(this,e)}return Object(Tt.a)(e,[{key:"createBackground",value:function(){var e=new l.Shape;e.name="background",e.graphics.beginLinearGradientFill(["#36d1dc ","#5b86e5"],[0,.5,1],0,200,0,600).drawRect(0,0,n.canvas.width,n.canvas.height),n.addChild(e)}}]),e}(),x=function(e){Object(kt.a)(a,e);var t=Object(Et.a)(a);function a(){return Object(St.a)(this,a),t.apply(this,arguments)}return Object(Tt.a)(a,[{key:"createLoadingStatusText",value:function(){var e=new l.Container;e.x=n.canvas.width/2-131.25-15,e.y=n.canvas.height/2-15;var t=new l.Shape;t.graphics.beginFill(""),t.graphics.setStrokeStyle(5).beginStroke("black"),t.graphics.drawRect(20,0,262.5,30),e.addChild(t);for(var a=Math.floor(u/10),i=1;i<=a;i++){var s=new l.Shape;s.graphics.beginFill("black").drawRect(25*i,5,20,20),e.addChild(s)}var r=new l.Text("".concat(u,"%"),"50px Open Sans","black");r.x=n.canvas.width/2-r.getMeasuredWidth()/2,r.y=.55*n.canvas.height;var c=new l.Text;c.text="Loading / \u52a0\u8f7d\u4e2d",c.font="25px Open Sans",c.x=n.canvas.width/2-c.getMeasuredWidth()/2,c.y=.4*n.canvas.height,n.addChild(r,c,e)}},{key:"runLoadingScreen",value:function(){this.createBackground(),this.createLoadingStatusText()}}]),a}(v),j=function(e){Object(kt.a)(i,e);var a=Object(Et.a)(i);function i(){var e;return Object(St.a)(this,i),(e=a.call(this)).categories=p,e}return Object(Tt.a)(i,[{key:"showCategories",value:function(){for(var e=[{x:t?.1*n.canvas.width:.05*n.canvas.width,y:.4*n.canvas.height},{x:t?.55*n.canvas.width:.375*n.canvas.width,y:.4*n.canvas.height},{x:t?.325*n.canvas.width:.7*n.canvas.width,y:t?.525*n.canvas.height:.4*n.canvas.height}],a=function(t){var a=new l.Container,i=new l.Shape,r=new l.Text;r.text=p[t],r.font="27px Open Sans",r.x=100-r.getMeasuredWidth()/2,r.y=25-r.getMeasuredHeight()/2,i.color=i.graphics.beginFill("lightblue").command,i.graphics.setStrokeStyle(3).beginStroke("black"),i.graphics.drawRect(0,0,200,50),a.x=e[t].x,a.y=e[t].y,a.name=p[t],a.alpha=0,l.Tween.get(a).to({alpha:1},300),a.on("mouseover",(function(e){i.color.style="red"})),a.on("mouseout",(function(e){i.color.style="lightblue"})),a.on("click",(function(e){h="RUN_LEVEL",s=a.name,S(300),setTimeout((function(){k()}),300)})),a.addChild(i,r),n.addChild(a)},i=0;i<this.categories.length;i++)a(i)}},{key:"showCategoriesText",value:function(){var e=new l.Text;e.text="Choose a category",e.font="30px Open Sans",e.x=n.canvas.width/2-e.getMeasuredWidth()/2,e.y=.25*n.canvas.height,n.addChild(e)}},{key:"runCategoriesScreen",value:function(){this.createBackground(),this.showCategoriesText(),this.showCategories()}}]),i}(v),w=function(e){Object(kt.a)(r,e);var i=Object(Et.a)(r);function r(){var e;return Object(St.a)(this,r),(e=i.call(this)).correctWord=Ct(g[s]),e.letterHolders=[],e.selectedIndex=0,e.keyboard=t?Lt:Gt,e}return Object(Tt.a)(r,[{key:"displayEmptyLetters",value:function(){for(var e=0;e<this.correctWord.length;e++){var t=new l.Container;t.name=this.correctWord[e],t.y=n.canvas.height/2;var a=new l.Shape;a.stroke=a.graphics.setStrokeStyle(2).beginStroke("black").command,a.graphics.beginStroke("red"),a.graphics.moveTo(0,50),a.graphics.lineTo(30,50),t.addChild(a),this.letterHolders.push(t)}var i=n.canvas.width/2-50*this.letterHolders.length/2;this.letterHolders.forEach((function(e){e.x=i,n.addChild(e),i+=50}))}},{key:"createHomeButton",value:function(){var e=new l.Container;e.x=5,e.y=35;var t=new l.Bitmap(a.getResult("home"));t.scaleX=50/t.image.width,t.scaleY=50/t.image.height,e.addChild(t),e.on("click",(function(e){h="LOADED",m=0,b=0,f=1,k()})),n.addChild(e)}},{key:"displayInstructions",value:function(){if(1==f){var e=new l.Bitmap(a.getResult("speech")),i=new l.Container;e.scaleX=250/e.image.width,e.scaleY=120/e.image.height,i.x=t?.5*n.canvas.width-125:.65*n.canvas.width,i.y=t?.35*n.canvas.height:.2*n.canvas.height;var s=new l.Text;s.text="\u542c\u5355\u8bcd\u7136\u540e\u62fc\u5199",s.font="20px Open Sans",s.lineWidth=170,s.x=60,s.y=50,i.addChild(e,s),n.addChild(i)}}},{key:"displayKeyBoard",value:function(){for(var e=this,a=t?100:150,i=function(i){var s=new l.Container;s.x=a,s.y=function(e,t){if(e){if(1==t.row)return 510;if(2==t.row)return 570;if(3==t.row)return 630;if(4==t.row)return 690}if(!e){if(1==t.row)return 360;if(2==t.row)return 420;if(3==t.row)return 480}}(t,e.keyboard[i]);var r=new l.Shape;r.color=r.graphics.beginFill("lightblue").command,r.graphics.drawRect(0,0,50,50);var c=new l.Text;c.text=e.keyboard[i].key,c.font="25px Open Sans",c.x=25-c.getMeasuredWidth()/2,c.y=25-c.getMeasuredHeight()/2,e.keyboard[i].break?a=t?100:150:a+=55;var o=new l.Text(e.keyboard[i].key,"20px Open Sans","black");s.on("mouseover",(function(t){e.letterHolders[e.selectedIndex].addChild(o)})),s.on("mouseout",(function(t){e.letterHolders[e.selectedIndex].removeChild(o)})),s.on("click",(function(t){if(e.letterHolders[e.selectedIndex].name==e.keyboard[i].key){e.displayMessage("correct",500);var a=new l.Text(e.keyboard[i].key,"20px Open Sans","black");e.letterHolders[e.selectedIndex].addChild(a),e.selectedIndex<e.letterHolders.length-1?(e.selectedIndex++,m++):(n.children.forEach((function(e){return e.removeAllEventListeners()})),setTimeout((function(){b++,e.runLevelComplete()}),1500))}else e.displayMessage("wrong",300)})),s.addChild(r,c),n.addChild(s)},s=0;s<this.keyboard.length;s++)i(s)}},{key:"displayListenButton",value:function(){var e=this,t=new l.Container,i=new l.Shape;i.graphics.beginFill("lightblue").drawRect(0,0,65,65);var s=new l.Bitmap(a.getResult("audioIcon"));s.scaleX=50/s.image.width,s.scaleY=50/s.image.height,s.x=7.5,s.y=7.5,t.x=60,t.y=.4*n.canvas.height;t.addEventListener("click",(function n(){e.playSound(),t.removeEventListener("click",n),setTimeout((function(){t.addEventListener("click",n)}),1e3)})),t.addChild(i,s),n.addChild(t)}},{key:"displayMessage",value:function(e,a){var i=new l.Text;i.text=e,i.font="20px Open Sans",i.x=n.canvas.width/2-i.getMeasuredWidth()/2,i.y=t?.65*n.canvas.width:.3*n.canvas.width,i.alpha=0,l.Tween.get(i).to({alpha:1},a),n.addChild(i),setTimeout((function(){l.Tween.get(i).to({alpha:0},a).call((function(){return n.removeChild(i)}))}),700)}},{key:"displayCurrentLevel",value:function(){var e=new l.Text(f+"/10","25px Open Sans","black");e.x=0,e.y=0,n.addChild(e)}},{key:"runLevelComplete",value:function(){var e=this;S(300),setTimeout((function(){n.children.forEach((function(e){return"background"!==e.name&&n.removeChild(e)})),e.playSound(),e.displayImage();var t=new l.Text(e.correctWord,"35px Open Sans","black");t.x=n.canvas.width/2-t.getMeasuredWidth()/2,t.y=.5*n.canvas.height,t.alpha=0;var a=new l.Container,i=new l.Shape,s=new l.Text;s.text="Next level",s.font="27px Open Sans",s.x=100-s.getMeasuredWidth()/2,s.y=25-s.getMeasuredHeight()/2,i.color=i.graphics.beginFill("lightblue").command,i.graphics.drawRect(0,0,200,50),a.x=.5*n.canvas.width-100,a.y=.6*n.canvas.height,a.alpha=0,l.Tween.get(t).to({alpha:1},300),l.Tween.get(a).to({alpha:1},300),a.on("mouseover",(function(e){e.currentTarget.children[0].color.style="red"})),a.on("mouseout",(function(e){e.currentTarget.children[0].color.style="lightblue"})),a.on("click",(function(e){10===f?h="RUN_END_SCREEN":f++,k()})),a.addChild(i,s),n.addChild(t,a)}),300)}},{key:"runGameComplete",value:function(){console.log("ran")}},{key:"playSound",value:function(){l.Sound.play(this.correctWord+"mp3")}},{key:"displayImage",value:function(){var e=new l.Container;console.log(this.correctWord);var i=new l.Bitmap(a.getResult(this.correctWord+"IMG"));i.scaleX=200/i.image.width,i.scaleY=200/i.image.height,e.x=.5*n.canvas.width-100,e.y=t?75:30,e.addChild(i),n.addChild(e)}},{key:"runLevelScreen",value:function(){this.createBackground(),this.displayInstructions(),this.createHomeButton(),this.displayCurrentLevel(),this.displayEmptyLetters(),this.displayKeyBoard(),this.displayImage(),this.displayListenButton(),this.playSound()}}]),r}(v),O=function(e){Object(kt.a)(a,e);var t=Object(Et.a)(a);function a(){return Object(St.a)(this,a),t.call(this)}return Object(Tt.a)(a,[{key:"showScore",value:function(){S(300),setTimeout((function(){n.children.forEach((function(e){return"background"!==e.name&&n.removeChild(e)}));var e=new l.Text("Score: "+E()+"%","30px Open Sans","black");e.x=n.canvas.width/2-e.getMeasuredWidth()/2,e.y=.4*n.canvas.height,r(E(),"Spelling"),n.addChild(e);var t=new l.Container,a=new l.Shape,i=new l.Text;i.text="Play again",i.font="27px Open Sans",i.x=100-i.getMeasuredWidth()/2,i.y=25-i.getMeasuredHeight()/2,a.color=a.graphics.beginFill("lightblue").command,a.graphics.drawRect(0,0,200,50),t.x=.5*n.canvas.width-100,t.y=.6*n.canvas.height,t.addChild(a,i),t.on("mouseover",(function(e){e.currentTarget.children[0].color.style="red"})),t.on("mouseout",(function(e){e.currentTarget.children[0].color.style="lightblue"})),t.on("click",(function(e){f=1,b=0,m=0,h="RUN_LEVEL",k()})),n.addChild(t)}),300)}},{key:"runEndGame",value:function(){this.showScore()}}]),a}(v),k=function(){switch(h){case"LOADING":y();break;case"LOADED":(new j).runCategoriesScreen();break;case"RUN_LEVEL":(new w).runLevelScreen();break;case"RUN_END_SCREEN":(new O).runEndGame();break;default:console.log("default_ran")}},E=function(){var e=m/(m+b)*100;return Math.round(e)},S=function(e){n.children.forEach((function(t){"background"!==t.name&&l.Tween.get(t).to({alpha:0},e)}))},T=function(e){t=window.innerWidth<900,n.removeAllEventListeners("click"),n.removeAllChildren(),C(),k()};function C(){if(window.innerWidth>=800){t=!1,o.current.width=800,o.current.height=550;var e=800/550,n=window.innerWidth,a=window.innerHeight-200;n/a>e?(n=a*e,c.current.style.height=a+"px",c.current.style.width=n+"px"):(a=n/e,c.current.style.height=a+"px",c.current.style.width=n+"px")}else{t=!0,o.current.width=o?550:null,o.current.height=o?800:null;var i=.6875,s=window.innerWidth,r=window.innerHeight-200;s/r>i?(s=r*i,c.current.style.height=r+"px",c.current.style.width=s+"px"):(r=s/i,c.current.style.height=r+"px",c.current.style.width=s+"px")}}return i.a.useEffect((function(){return console.log(window),(n=new l.Stage(o.current)).enableMouseOver(10),l.Touch.enable(n,!1,!0),l.Ticker.framerate=30,l.Ticker.addEventListener("tick",n),l.Sound.volume=.5,(a=new l.LoadQueue(!1,null,!0)).loadManifest(d),a.installPlugin(l.Sound),a.addEventListener("error",(function(e){console.log(e)})),a.on("progress",(function(e){var t=Math.round(100*a.progress);u=t,y()})),a.on("complete",(function(e){h="LOADED",k()})),window.addEventListener("resize",T),C(),function(){l.Sound.removeAllSounds(),window.removeEventListener("resize",T)}})),Object(R.jsx)("div",{ref:c,className:"canvas-holder",children:Object(R.jsx)("canvas",{id:"canvas2",ref:o,width:"800px",height:"550px"})})})),Ft=Object(F.b)(null,(function(e){return{addScore:function(t,n){return e(ht(t,n))}}}))((function(e){var t,n,a,s,r=e.addScore,c=i.a.useRef(null),o=i.a.useRef(null),l=window.createjs,d=0,u=0,h="LOADING",p=1,g=[{question:"is your name?",answer:"What",options:["When","Who","Is","What"],imgID:"what_is_your_nameIMG"},{question:"is he eating?",answer:"What",options:["When","What","Why","Where"],imgID:"what_is_he_eatingIMG"},{question:"is lunch?",answer:"When",options:["When","What","Why","Where"],imgID:"when_is_lunchIMG"},{question:"he a student?",answer:"Is",options:["Are","Who","What","Is"],imgID:"is_he_a_studentIMG"},{question:"you speak Japanese?",answer:"Can",options:["Are","Is","Why","Can"],imgID:"can_you_speak_japaneseIMG"},{question:"are you from?",answer:"Where",options:["Where","Who","Why","What"],imgID:"where_are_you_fromIMG"},{question:"old are you?",answer:"How",options:["Where","Are","How","What"],imgID:"how_old_are_youIMG"},{question:"is your favourite colour?",answer:"What",options:["What","How","Where","Are"],imgID:"what_is_your_favourite_colourIMG"},{question:"do you live?",answer:"Where",options:["Why","How","What","Where"],imgID:"where_do_you_liveIMG"}],b=[{id:"where_do_you_liveIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/where_do_you_liveIMG.png"},{id:"what_is_your_favourite_colourIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/what_is_your_favourite_colourIMG.png"},{id:"how_old_are_youIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/how_old_are_youIMG.png"},{id:"what_is_your_nameIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/what_is_your_nameIMG.png"},{id:"where_are_you_fromIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/where_are_you_fromIMG.png"},{id:"can_you_speak_japaneseIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/can_you_speak_japaneseIMG.png"},{id:"what_is_he_eatingIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/what_is_he_eatingIMG.png"},{id:"is_he_a_studentIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/is_he_a_studentIMG.png"},{id:"when_is_lunchIMG",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/questions/when_is_lunchIMG.png"},{id:"speech",type:l.Types.IMAGE,src:"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png"}],m=function(){new y(a).runLoadingScreen()},f=function(){function e(){Object(St.a)(this,e)}return Object(Tt.a)(e,[{key:"createBackground",value:function(){var e=new l.Shape;e.name="background",e.graphics.beginLinearGradientFill(["#36d1dc ","#5b86e5"],[0,.5,1],0,200,0,600).drawRect(0,0,t.canvas.width,t.canvas.height),t.addChild(e)}}]),e}(),y=function(e){Object(kt.a)(i,e);var n=Object(Et.a)(i);function i(){return Object(St.a)(this,i),n.apply(this,arguments)}return Object(Tt.a)(i,[{key:"createLoadingStatusText",value:function(){var e=new l.Container;e.x=t.canvas.width/2-131.25-15,e.y=t.canvas.height/2-15;var n=new l.Shape;n.graphics.beginFill(""),n.graphics.setStrokeStyle(5).beginStroke("black"),n.graphics.drawRect(20,0,262.5,30),e.addChild(n);for(var i=Math.floor(a/10),s=1;s<=i;s++){var r=new l.Shape;r.graphics.beginFill("black").drawRect(25*s,5,20,20),e.addChild(r)}var c=new l.Text("".concat(a,"%"),"50px Open Sans","black");c.x=t.canvas.width/2-c.getMeasuredWidth()/2,c.y=.55*t.canvas.height;var o=new l.Text;o.text="Loading / \u52a0\u8f7d\u4e2d",o.font="25px Open Sans",o.x=t.canvas.width/2-o.getMeasuredWidth()/2,o.y=.4*t.canvas.height,t.addChild(c,o,e)}},{key:"runLoadingScreen",value:function(){this.createBackground(),this.createLoadingStatusText()}}]),i}(f),v=function(e){Object(kt.a)(i,e);var a=Object(Et.a)(i);function i(){var e;return Object(St.a)(this,i),(e=a.call(this)).level=g[Math.floor(Math.random()*g.length)],e.questionText=new l.Text,e}return Object(Tt.a)(i,[{key:"displayImage",value:function(){var e=new l.Container;e.alpha=0;var a=new l.Bitmap(n.getResult(this.level.imgID));a.scaleX=250/a.image.width,a.scaleY=250/a.image.height,e.x=.5*t.canvas.width-125,e.y=s?50:10,e.addChild(a),l.Tween.get(e).to({alpha:1},400),t.addChild(e)}},{key:"displayQuestion",value:function(){var e=new l.Container;e.alpha=0,e.name=this.level.question;var n=new l.Shape;this.questionText.text="_______ "+this.level.question,this.questionText.font="25px Open Sans",n.graphics.beginFill("white"),n.graphics.setStrokeStyle(3).beginStroke("black"),n.graphics.drawRect(0,0,1.5*this.questionText.getMeasuredWidth(),50),this.questionText.x=1.5*this.questionText.getMeasuredWidth()-1.5*this.questionText.getMeasuredWidth()/2-this.questionText.getMeasuredWidth()/2,this.questionText.y=25-this.questionText.getMeasuredHeight()/2,e.x=t.canvas.width/2-1.5*this.questionText.getMeasuredWidth()/2,e.y=t.canvas.height/2,e.addChild(n,this.questionText),l.Tween.get(e).to({alpha:1},400),t.addChild(e)}},{key:"displayCurrentLevel",value:function(){var e=new l.Text(p+"/10","25px Open Sans","black");e.x=0,e.y=0,t.addChild(e)}},{key:"displayContinueButton",value:function(){console.log("run");var e=new l.Container,n=new l.Shape,a=new l.Text;a.text="Next level",a.font="27px Open Sans",a.x=100-a.getMeasuredWidth()/2,a.y=25-a.getMeasuredHeight()/2,n.color=n.graphics.beginFill("lightblue").command,n.graphics.setStrokeStyle(3).beginStroke("black"),n.graphics.drawRect(0,0,200,50),e.x=.5*t.canvas.width-100,e.y=.7*t.canvas.height,e.on("mouseover",(function(e){e.currentTarget.children[0].color.style="red"})),e.on("mouseout",(function(e){e.currentTarget.children[0].color.style="lightblue"})),e.on("click",(function(e){p>10&&(h="RUN_END_GAME"),t.removeAllChildren(),k()})),e.addChild(n,a),e.alpha=0,l.Tween.get(e).to({alpha:1},400),t.addChild(e)}},{key:"displayInstructions",value:function(){if(1==p){var e=new l.Bitmap(n.getResult("speech")),a=new l.Container;e.scaleX=250/e.image.width,e.scaleY=120/e.image.height,a.x=s?.5*t.canvas.width-125:.66*t.canvas.width,a.y=s?.81*t.canvas.height:.2*t.canvas.height;var i=new l.Text;i.lineWidth=150,i.text="\u62d6\u653e\u5355\u8bcd\u5c06\u5b83\u4eec\u6309 \u6b63\u786e\u7684\u987a\u5e8f\u6392\u5217",i.font="20px Open Sans",i.x=45,i.y=40,a.addChild(e,i),t.addChild(a)}}},{key:"displayOptions",value:function(){var e=this,n=new l.Container;n.alpha=0,n.x=.2*t.canvas.width,n.y=.65*t.canvas.height,n.name=this.level.options[0];var a=new l.Shape;a.graphics.setStrokeStyle(3).beginStroke("black"),a.graphics.beginFill("white").drawRect(0,0,130,40);var i=new l.Text;i.text=this.level.options[0],i.font="25px Open Sans",i.x=65-i.getMeasuredWidth()/2,i.y=20-i.getMeasuredHeight()/2,n.on("mouseover",(function(t){e.questionText.text=e.level.options[0]+" "+e.level.question})),n.on("mouseout",(function(t){e.questionText.text="______ "+e.level.question})),n.on("click",(function(a){if(n.name===e.level.answer){d++,e.questionText.text=e.level.answer+" "+e.level.question,n.removeAllEventListeners();for(var i=t.numChildren-1;i>=0;i--){var s=t.getChildAt(i);e.level.options.includes(s.name)&&t.removeChild(s)}e.displayContinueButton(),p++}n.name!==e.level.answer&&(u++,l.Tween.get(n).to({alpha:0},300).call((function(){t.removeChild(n)})))})),n.addChild(a,i);var s=new l.Container;s.alpha=0,s.x=.6*t.canvas.width,s.y=.65*t.canvas.height,s.name=this.level.options[1];var r=new l.Shape;r.graphics.setStrokeStyle(3).beginStroke("black"),r.graphics.beginFill("white").drawRect(0,0,130,40);var c=new l.Text;c.text=this.level.options[1],c.font="25px Open Sans",c.x=65-c.getMeasuredWidth()/2,c.y=20-c.getMeasuredHeight()/2,s.on("mouseover",(function(t){e.questionText.text=e.level.options[1]+" "+e.level.question})),s.on("mouseout",(function(t){e.questionText.text="______ "+e.level.question})),s.on("click",(function(n){if(s.name===e.level.answer){d++,e.questionText.text=e.level.answer+" "+e.level.question,s.removeAllEventListeners();for(var a=t.numChildren-1;a>=0;a--){var i=t.getChildAt(a);e.level.options.includes(i.name)&&t.removeChild(i)}e.displayContinueButton(),p++}s.name!==e.level.answer&&(u++,l.Tween.get(s).to({alpha:0},300).call((function(){t.removeChild(s)})))})),s.addChild(r,c);var o=new l.Container;o.alpha=0,o.x=.2*t.canvas.width,o.y=.75*t.canvas.height,o.name=this.level.options[2];var h=new l.Shape;h.graphics.setStrokeStyle(3).beginStroke("black"),h.graphics.beginFill("white").drawRect(0,0,130,40);var g=new l.Text;g.text=this.level.options[2],g.font="25px Open Sans",g.x=65-g.getMeasuredWidth()/2,g.y=20-g.getMeasuredHeight()/2,o.on("mouseover",(function(t){e.questionText.text=e.level.options[2]+" "+e.level.question})),o.on("mouseout",(function(t){e.questionText.text="______ "+e.level.question})),o.on("click",(function(n){if(o.name===e.level.answer){d++,e.questionText.text=e.level.answer+" "+e.level.question,o.removeAllEventListeners();for(var a=t.numChildren-1;a>=0;a--){var i=t.getChildAt(a);e.level.options.includes(i.name)&&t.removeChild(i)}e.displayContinueButton(),p++}o.name!==e.level.answer&&(u++,l.Tween.get(o).to({alpha:0},300).call((function(){t.removeChild(o)})))})),o.addChild(h,g);var b=new l.Container;b.alpha=0,b.x=.6*t.canvas.width,b.y=.75*t.canvas.height,b.name=this.level.options[3];var m=new l.Shape;m.graphics.setStrokeStyle(3).beginStroke("black"),m.graphics.beginFill("white").drawRect(0,0,130,40);var f=new l.Text;f.text=this.level.options[3],f.font="25px Open Sans",f.x=65-f.getMeasuredWidth()/2,f.y=20-f.getMeasuredHeight()/2,b.on("mouseover",(function(t){e.questionText.text=e.level.options[3]+" "+e.level.question})),b.on("mouseout",(function(t){e.questionText.text="______ "+e.level.question})),b.on("click",(function(n){if(b.name===e.level.answer){d++,b.removeAllEventListeners(),e.questionText.text=e.level.answer+" "+e.level.question;for(var a=t.numChildren-1;a>=0;a--){var i=t.getChildAt(a);e.level.options.includes(i.name)&&t.removeChild(i)}e.displayContinueButton(),p++}b.name!==e.level.answer&&(u++,l.Tween.get(b).to({alpha:0},300).call((function(){t.removeChild(b)})))})),b.addChild(m,f),l.Tween.get(n).to({alpha:1},400),l.Tween.get(s).to({alpha:1},400),l.Tween.get(o).to({alpha:1},400),l.Tween.get(b).to({alpha:1},400),t.addChild(n,s,o,b)}},{key:"runGameScreen",value:function(){this.createBackground(),this.displayInstructions(),this.displayCurrentLevel(),this.displayImage(),this.displayQuestion(),this.displayOptions()}}]),i}(f),x=function(e){Object(kt.a)(a,e);var n=Object(Et.a)(a);function a(){var e;return Object(St.a)(this,a),(e=n.call(this)).error=w(),e}return Object(Tt.a)(a,[{key:"displayScore",value:function(){var e=new l.Text("Score: "+w()+"%","30px Open Sans","black");e.x=t.canvas.width/2-e.getMeasuredWidth()/2,e.y=.4*t.canvas.height,t.addChild(e)}},{key:"displayButton",value:function(){var e=new l.Container,n=new l.Shape,a=new l.Text;a.text="Play again",a.font="27px Open Sans",a.x=100-a.getMeasuredWidth()/2,a.y=25-a.getMeasuredHeight()/2,n.color=n.graphics.beginFill("lightblue").command,n.graphics.setStrokeStyle(3).beginStroke("black"),n.graphics.drawRect(0,0,200,50),e.x=.5*t.canvas.width-100,e.y=.6*t.canvas.height,e.addChild(n,a),e.on("mouseover",(function(e){e.currentTarget.children[0].color.style="red"})),e.on("mouseout",(function(e){e.currentTarget.children[0].color.style="lightblue"})),e.on("click",(function(e){p=1,u=0,d=0,h="LOADED",k()})),t.addChild(e)}},{key:"pushScores",value:function(){r(this.error,"Questions")}},{key:"runEndGameScreen",value:function(){this.createBackground(),this.displayScore(),this.displayButton(),this.pushScores()}}]),a}(f),j=function(e){s=window.innerWidth<900,t.removeAllEventListeners("click"),t.removeAllChildren(),O(),k()},w=function(){var e=d/(d+u)*100;return Math.round(e)};function O(){if(window.innerWidth>=800){s=!1,o.current.width=800,o.current.height=550;var e=800/550,t=window.innerWidth,n=window.innerHeight-200;t/n>e?(t=n*e,c.current.style.height=n+"px",c.current.style.width=t+"px"):(n=t/e,c.current.style.height=n+"px",c.current.style.width=t+"px")}else{s=!0,o.current.width=o?550:null,o.current.height=o?800:null;var a=.6875,i=window.innerWidth,r=window.innerHeight-200;i/r>a?(i=r*a,c.current.style.height=r+"px",c.current.style.width=i+"px"):(r=i/a,c.current.style.height=r+"px",c.current.style.width=i+"px")}}var k=function(){switch(h){case"LOADING":m();break;case"LOADED":(new v).runGameScreen();break;case"RUN_END_GAME":(new x).runEndGameScreen();break;default:console.log("default_ran")}};return i.a.useEffect((function(){return(t=new l.Stage(o.current)).enableMouseOver(10),l.Touch.enable(t,!1,!0),l.Ticker.framerate=30,l.Ticker.addEventListener("tick",t),l.Sound.volume=.5,(n=new l.LoadQueue(!1,null,!0)).installPlugin(l.Sound),n.loadManifest(b),n.addEventListener("error",(function(e){console.log(e)})),n.on("progress",(function(e){var t=Math.round(100*n.progress);a=t,m()})),n.on("complete",(function(e){h="LOADED",k()})),window.addEventListener("resize",j),O(),function(){window.removeEventListener("resize",j)}})),Object(R.jsx)("div",{ref:c,className:"canvas-holder",children:Object(R.jsx)("canvas",{id:"canvas2",ref:o,width:"800px",height:"550px"})})})),Ut=Object(d.a)({flexbox:{display:"flex",justifyContent:"center"}}),Rt=function(e){var t=e.name,n=Ut();return Object(R.jsxs)(i.a.Fragment,{children:[Object(R.jsx)(P.a,{children:Object(R.jsx)(g.a,{variant:"h2",align:"center",children:Object(zt.a)(t)})}),Object(R.jsx)(P.a,{className:n.flexbox,children:"nouns"===t?Object(R.jsx)(Dt,{}):"sentences"===t?Object(R.jsx)(Nt,{}):"spelling"===t?Object(R.jsx)(Wt,{}):"questions"===t?Object(R.jsx)(Ft,{}):Object(R.jsx)(g.a,{align:"center",children:"Sorry, there is no game available under this name!"})})]})},Bt=function(){var e=Object(l.g)().name;return Object(R.jsxs)("div",{children:[Object(R.jsx)(H,{}),Object(R.jsx)(P.a,{style:{paddingBottom:"20px"},children:Object(R.jsx)(Rt,{name:e})}),Object(R.jsx)(re,{})]})},Ht=Object(d.a)((function(e){return{loading:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),Pt=Object(wt.a)({palette:{primary:{main:"#EDC7B7"},secondary:{main:"#EEE2DC"}},typography:{fontFamily:"Quicksand",h3:{fontSize:"1.6rem","@media (min-width:600px)":{fontSize:"2.5rem"}}}});var qt=Object(F.b)((function(e){return{state:e}}),(function(e){return{setUserState:function(){return e(function(){var e=Object(E.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:M}),e.next=4,W.a.post("https://esl-games-backend.herokuapp.com/api/fetchuserinfo",{withCredentials:!0});case 4:n=e.sent,console.log(n.data),t({type:_,payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:A,payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.state,n=e.setUserState,i=Object(w.a)(["authorization"]),s=Object(c.a)(i,2),r=(s[0],s[1],Ht());return Object(a.useEffect)((function(){n()}),[]),t.user.loading?Object(R.jsxs)("div",{className:r.loading,children:[Object(R.jsx)("h2",{children:"Loading"}),Object(R.jsx)(vt.a,{})]}):Object(R.jsx)(Ot.a,{theme:Pt,children:Object(R.jsx)(o.a,{children:Object(R.jsxs)(l.c,{children:[Object(R.jsx)(l.a,{exact:!0,path:"/",component:ce}),Object(R.jsx)(l.a,{path:"/signup",component:ye}),Object(R.jsx)(l.a,{path:"/login",component:Be}),Object(R.jsx)(l.a,{path:"/profile",component:jt}),Object(R.jsx)(l.a,{path:"/game/:name",component:Bt})]})})})}));r.a.render(Object(R.jsx)(F.a,{store:Fe,children:Object(R.jsx)(qt,{})}),document.getElementById("root"))},46:function(e,t,n){"use strict";n.r(t),n.d(t,"REQUEST_PROFILE_API",(function(){return a})),n.d(t,"REQUEST_PROFILE_API_SUCCESS",(function(){return i})),n.d(t,"REQUEST_PROFILE_API_FAIL",(function(){return s})),n.d(t,"ADD_CHILD",(function(){return r})),n.d(t,"ADD_CHILD_REQUEST",(function(){return c})),n.d(t,"ADD_CHILD_REQUEST_FAIL",(function(){return o})),n.d(t,"REMOVE_CHILD",(function(){return l}));var a="REQUEST_PROFILE_API",i="REQUEST_PROFILE_API_SUCCESS",s="REQUEST_PROFILE_API_FAIL",r="ADD_CHILD",c="ADD_CHILD_REQUEST",o="ADD_CHILD_REQUEST",l="REMOVE_CHILD"},73:function(e,t){e.exports={capitalize:function(e){return e[0].toUpperCase()+e.slice(1)}}}},[[168,1,2]]]);
//# sourceMappingURL=main.2ef74572.chunk.js.map