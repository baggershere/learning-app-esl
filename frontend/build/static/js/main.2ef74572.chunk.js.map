{"version":3,"sources":["redux/user/user.types.js","components/Navbar.js","redux/user/user.actions.js","components/homepage/ListTitle.js","components/homepage/GameCard.js","components/homepage/DisplayGrid.js","components/homepage/GameList.js","components/Footer.js","screens/Homepage.js","redux/signup/signup.types.js","components/signup/SignupForm.js","redux/signup/signup.actions.js","screens/Signup.js","redux/user/user.reducer.js","redux/signup/signup.reducer.js","redux/API/API.reducer.js","redux/rootReducer.js","redux/store.js","components/login/LoginForm.js","screens/Login.js","components/profile/AverageScoresByGame.js","components/profile/RecentList.js","components/profile/AnalyticsGrid.js","redux/API/API.actions.js","components/profile/ChildCard.js","components/profile/ProfileChildren.js","screens/Profile.js","components/game/util.js","components/game/NounsGame.js","components/game/Sentences.js","components/game/Spelling.js","components/game/Questions.js","components/game/Game.js","screens/GameScreen.js","App.js","index.js","redux/API/API.types.js","components/utils/capitalize.js"],"names":["REQUEST_LOGIN","REQUEST_LOGIN_SUCCESS","REQUEST_LOGIN_FAILED","SET_USER_STATE","FETCH_INITIAL_STATE","FETCH_INITIAL_STATE_SUCCESS","FETCH_INITIAL_STATE_FAIL","RESET_USER_STATE","SET_SELECTED_CHILD","RESET_SELECTED_CHILD","SWITCH_LANGUAGE","useStyles","makeStyles","title","flexGrow","list","width","minWidth","maxWidth","button","fontSize","textTransform","link","textDecoration","connect","state","dispatch","resetUserState","type","switchLanguage","getState","newLanguage","user","language","payload","classes","useState","drawer","setDrawer","useCookies","removeCookie","history","useHistory","AppBar","position","Toolbar","IconButton","onClick","Typography","className","variant","selectedChild","length","capitalize","isAuth","Button","push","Drawer","anchor","open","onClose","List","ListItem","align","fullWidth","to","style","display","justifyContent","Switch","onChange","color","inputProps","padding","Container","media","height","name","details","imageUrl","Card","CardActionArea","CardMedia","image","CardContent","gutterBottom","component","CardActions","size","games","id","Grid","container","spacing","map","game","item","xs","md","background","GameList","theme","footer","backgroundColor","palette","primary","main","text","Box","sm","Homepage","REQUEST_USER_SIGNUP","REQUEST_USER_SIGNUP_SUCCESS","REQUEST_USER_SIGNUP_FAIL","RESET_STATE","form_container","marginTop","flexDirection","alignItems","form","signupUser","email","password","a","axios","post","withCredentials","console","log","response","data","error","resetState","setName","setEmail","setPassword","handleSubmit","e","preventDefault","React","useEffect","signup","success","loading","CssBaseline","noValidate","TextField","target","value","label","required","autoFocus","message","Signup","minHeight","gridTemplateRows","INITIAL_STATE","loadingLogin","reducer","action","token","children","require","REQUEST_PROFILE_API","REQUEST_PROFILE_API_SUCCESS","REQUEST_PROFILE_API_FAIL","ADD_CHILD","REMOVE_CHILD","ADD_CHILD_REQUEST","ADD_CHILD_REQUEST_FAIL","averageScoresByGame","recentScores","averageOverallScores","addChildLoading","childrenArray","averageGameScoreByChild","filter","child","rootReducer","combineReducers","userReducer","signupReducer","profile","profileReducer","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","login","resp","setCookie","Login","card","secondary","active","currentStudentData","setCurrentStudentData","currentAverageData","setCurrentAverageData","score","parseInt","avg","toFixed","extractStudentScores","extractAverageScores","currentData","setCurrentData","page","setPage","rowsPerPage","setRowsPerPage","Math","min","filteredScores","game_name","child_name","extractRecentScores","Paper","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","slice","row","game_score","format","Date","date_attempt","TableFooter","TablePagination","rowsPerPageOptions","count","onChangePage","event","newPage","onChangeRowsPerPage","buttonContainer","setLoading","gameType","setGameType","getUniqueGameNames","Set","colod","addScores","childName","gameName","gameScore","round","time","moment","setSelectedChild","resetSelectedChild","removeChild","setOpen","handleClose","Fragment","stopPropagation","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","header","margin","center","addChild","setError","endIcon","includes","defaults","fetchProfileInfo","newSelectedChild","CircularProgress","selectRandomFromArray","array","floor","random","shuffle","randomIndex","currentIndex","placeBox","arrayLength","index","stage","phone","x","y","canvas","mouseObjCollision","obj2","objBounds2","getBounds","clone","checker","arr","every","v","computerKeyboard","key","break","phoneKeyboard","addScore","selectedCategory","loader","levelStatus","levelTarget","levelOptions","containerRef","useRef","canvasRef","createjs","categories","gameData","Animals","Countries","gameState","manifest","Types","IMAGE","src","SOUND","mp3","ogg","loadingProgress","wrong","handleResize","innerWidth","removeAllEventListeners","removeAllChildren","resizeCanvas","runGameLoop","runLoadingScreen","LoadingScreen","createLoadingScreen","runLevelScreen","calculateError","selectRandomWord","LevelScreen","createLevel","randomItem","sliced","final","runEndLevel","Screen","createBackground","Text","getMeasuredWidth","Bitmap","getResult","scaleX","scaleY","on","buttonShape","Shape","buttonText","font","getMeasuredHeight","graphics","beginFill","command","drawRect","currentTarget","s","w","CategoriesScreen","createCategoriesScreen","this","beginLinearGradientFill","percentLoaded","progressContainer","progressBox","setStrokeStyle","beginStroke","progressStage","i","block","messageText","createLoadingStatusText","shape","bitmap","calculateCategoryX","createInstructions","createCategories","targetItem","itemOptions","createHomeButton","createTextBox","createChoices","createScore","img","set","Sound","play","Tween","get","numChildren","getChildAt","Buttons","createNextLevelButton","alpha","shapeColor","textColor","textWidth","textHeight","generateButtonContainer","forEach","call","textContent","innerHeight","current","widthToHeight","newWidth","newHeight","Stage","enableMouseOver","Touch","enable","Ticker","framerate","addEventListener","volume","LoadQueue","installPlugin","loadManifest","progress","removeEventListener","removeAllSounds","ref","offset","gameLevel","presentSimple","sentence","imgID","incorrectGuesses","correctGuesses","categoryCoordinates","categoryContainer","categoryShape","categoryText","fadeOutChildren","setTimeout","showCategoriesText","showCategories","currentWords","currentBoxes","playerWords","randomLevel","randomSentence","shuffledArray","boxContainer","boxContainerCoordinates","setBounds","boxShape","stroke","wordContainer","coordinates","wordShape","wordText","text_one","lineWidth","imageContainer","origX","origY","stageX","stageY","setChildIndex","getNumChildren","j","checkAnswers","showCorrect","showIncorrect","box","replayLevel","levelText","displayInstructions","displayCurrentLevel","createEmpytyBoxes","displayLevelImage","displayRandomWords","buildPlayerWordsArray","handleMovement","selectRandomSentence","EndLevelScreen","displayText","runCategoriesScreen","displayLevelScreen","displayEndLevel","words","Colours","currentLevel","correctWord","letterHolders","selectedIndex","keyboard","letterContainer","letterShape","moveTo","lineTo","y_co","letter","keyContainer","calcKeyYPosition","keyShape","keyLetter","tempText","displayMessage","runLevelComplete","iconShape","sound","playSound","displayImage","displayEmptyLetters","displayKeyBoard","displayListenButton","EndGameScreen","scoreText","showScore","runEndGame","correct","incorrect","question","answer","options","GameScreen","level","questionText","questionContainer","questionSquare","option_one_container","option_one_shape","option_one_text","displayContinueButton","option_two_container","option_two_shape","option_two_text","option_three_container","option_three_shape","option_three_text","option_four_container","option_four_shape","option_four_text","displayQuestion","displayOptions","displayScore","displayButton","pushScores","runGameScreen","runEndGameScreen","flexbox","Game","useParams","paddingBottom","createMuiTheme","typography","fontFamily","h3","setUserState","ThemeProvider","exact","path","Profile","ReactDOM","render","document","getElementById","module","exports","string","toUpperCase"],"mappings":"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","file":"static/js/main.2ef74572.chunk.js","sourcesContent":["export const REQUEST_LOGIN = \"REQUEST_LOGIN\";\r\nexport const REQUEST_LOGIN_SUCCESS = \"REQUEST_LOGIN_SUCCESS\";\r\nexport const REQUEST_LOGIN_FAILED = \"REQUEST_LOGIN_FAILED\";\r\nexport const SET_USER_STATE = \"SET_USER_STATE\";\r\nexport const FETCH_INITIAL_STATE = \"FETCH_INITIAL_STATE\";\r\nexport const FETCH_INITIAL_STATE_SUCCESS = \"FETCH_INITIAL_STATE_SUCCESS\";\r\nexport const FETCH_INITIAL_STATE_FAIL = \"FETCH_INITIAL_STATE_FAIL\";\r\nexport const RESET_USER_STATE = \"RESET_USER_STATE\";\r\nexport const SET_SELECTED_CHILD = \"SET_SELECTED_CHILD\";\r\nexport const RESET_SELECTED_CHILD = \"RESET_SELECTED_CHILD\";\r\nexport const SWITCH_LANGUAGE = \"SWITCH_LANGUAGE\";\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Switch,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { resetUserState, switchLanguage } from \"../redux/user/user.actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { capitalize } from \"./utils/capitalize\";\r\n\r\nconst useStyles = makeStyles(() => {\r\n  return {\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    list: {\r\n      width: \"50vw\",\r\n      minWidth: \"200px\",\r\n      maxWidth: \"300px\",\r\n    },\r\n    button: {\r\n      fontSize: \"25px\",\r\n      textTransform: \"none\",\r\n    },\r\n    link: {\r\n      textDecoration: \"none\",\r\n    },\r\n  };\r\n});\r\nconst Navbar = ({ state, resetUserState, switchLanguage }) => {\r\n  const classes = useStyles();\r\n  const [drawer, setDrawer] = useState(false);\r\n  const [cookie, setCookie, removeCookie] = useCookies([\"authorization\"]);\r\n  const history = useHistory();\r\n  let language = state.user.language;\r\n\r\n  const handleLogout = () => {\r\n    resetUserState();\r\n    removeCookie(\"authorization\");\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const handleChange = () => {\r\n    switchLanguage();\r\n  };\r\n\r\n  return (\r\n    <div data-test=\"rootDiv\">\r\n      <AppBar data-test=\"appbarComponent\" position=\"static\">\r\n        <Toolbar>\r\n          <IconButton>\r\n            <MenuIcon\r\n              data-test=\"drawerButton\"\r\n              onClick={() => setDrawer(true)}\r\n            />\r\n          </IconButton>\r\n\r\n          <Typography\r\n            data-test=\"navbarTitle\"\r\n            className={classes.title}\r\n            variant=\"h6\"\r\n          >\r\n            {state.user.selectedChild.length\r\n              ? capitalize(state.user.selectedChild)\r\n              : null}\r\n          </Typography>\r\n\r\n          {state.user.isAuth ? (\r\n            <Button onClick={handleLogout}>\r\n              {language === \"English\" ? \"Log out\" : \"登出\"}\r\n            </Button>\r\n          ) : null}\r\n          {!state.user.isAuth ? (\r\n            <Button onClick={() => history.push(\"/signup\")}>\r\n              {language === \"English\" ? \"Sign up\" : \"注册\"}\r\n            </Button>\r\n          ) : null}\r\n          {!state.user.isAuth ? (\r\n            <Button onClick={() => history.push(\"/login\")}>\r\n              {language === \"English\" ? \"Login\" : \"登录\"}\r\n            </Button>\r\n          ) : null}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        data-test=\"drawer\"\r\n        className=\"drawerComponent\"\r\n        anchor=\"left\"\r\n        open={drawer}\r\n        onClose={() => setDrawer(false)}\r\n      >\r\n        <List data-test=\"drawerItems\" className={classes.list}>\r\n          <ListItem>\r\n            <Typography align=\"justify\" variant=\"h4\">\r\n              {language === \"English\" ? \"Hello\" : \"哈罗\"}\r\n            </Typography>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Button className={classes.button} fullWidth>\r\n              <Link className={classes.link} to=\"/\">\r\n                {language === \"English\" ? \"Home\" : \"首页\"}\r\n              </Link>\r\n            </Button>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Button className={classes.button} fullWidth>\r\n              <Link className={classes.link} to=\"/login\">\r\n                {language === \"English\" ? \"Login\" : \"登录\"}\r\n              </Link>\r\n            </Button>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Button className={classes.button} fullWidth>\r\n              <Link className={classes.link} to=\"/profile\">\r\n                {language === \"English\" ? \"Profile\" : \"用户\"}\r\n              </Link>\r\n            </Button>\r\n          </ListItem>\r\n          <ListItem style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <Switch\r\n              onChange={handleChange}\r\n              color=\"primary\"\r\n              inputProps={{ \"aria-label\": \"checkbox with default color\" }}\r\n            />\r\n            <Typography>{state.user.language}</Typography>\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nNavbar.propTypes = {\r\n  state: PropTypes.object,\r\n  resetUserState: PropTypes.func,\r\n};\r\n\r\nexport default connect(\r\n  (state) => ({ state: state }),\r\n  (dispatch) => ({\r\n    resetUserState: () => dispatch(resetUserState()),\r\n    switchLanguage: () => dispatch(switchLanguage()),\r\n  })\r\n)(Navbar);\r\n","import {\r\n  REQUEST_LOGIN,\r\n  REQUEST_LOGIN_SUCCESS,\r\n  REQUEST_LOGIN_FAILED,\r\n  SET_USER_STATE,\r\n  FETCH_INITIAL_STATE,\r\n  FETCH_INITIAL_STATE_SUCCESS,\r\n  FETCH_INITIAL_STATE_FAIL,\r\n  RESET_USER_STATE,\r\n  RESET_SELECTED_CHILD,\r\n  SET_SELECTED_CHILD,\r\n  SWITCH_LANGUAGE,\r\n} from \"./user.types\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REQUEST_LOGIN });\r\n    const resp = await axios.post(\r\n      process.env.NODE_ENV === \"production\"\r\n        ? \"https://esl-complete-app.herokuapp.com/api/login\"\r\n        : \"http://localhost:5000/api/login\",\r\n      {\r\n        email,\r\n        password,\r\n      },\r\n      { withCredentials: true }\r\n    );\r\n    const user = resp.data.user;\r\n    console.log(user.token); // set token cookie\r\n    dispatch({ type: REQUEST_LOGIN_SUCCESS, payload: user });\r\n  } catch (e) {\r\n    console.log(e.response);\r\n    dispatch({ type: REQUEST_LOGIN_FAILED, payload: e.response.data.message });\r\n  }\r\n};\r\n\r\nexport const setUserState = (jwt) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: FETCH_INITIAL_STATE });\r\n    const resp = await axios.post(\r\n      \"https://esl-games-backend.herokuapp.com/api/fetchuserinfo\",\r\n      {\r\n        withCredentials: true,\r\n      }\r\n    );\r\n    console.log(resp.data);\r\n    dispatch({ type: FETCH_INITIAL_STATE_SUCCESS, payload: resp.data });\r\n  } catch (error) {\r\n    dispatch({ type: FETCH_INITIAL_STATE_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\nexport const resetUserState = () => (dispatch) => {\r\n  dispatch({ type: RESET_USER_STATE });\r\n};\r\n\r\nexport const resetSelectedChild = () => (dispatch, getState) => {\r\n  const children = getState().profile.children;\r\n  dispatch({\r\n    type: RESET_SELECTED_CHILD,\r\n    payload: children.length > 0 ? children[0] : \"\",\r\n  });\r\n};\r\n\r\nexport const switchLanguage = () => (dispatch, getState) => {\r\n  const newLanguage =\r\n    getState().user.language === \"English\" ? \"Chinese\" : \"English\";\r\n  dispatch({ type: SWITCH_LANGUAGE, payload: newLanguage });\r\n};\r\n","import React from \"react\";\r\nimport { Typography, Container, makeStyles } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    padding: \"10px 0px\",\r\n  },\r\n});\r\n\r\nconst ListTitle = ({ state }) => {\r\n  const classes = useStyles();\r\n  let language = state.user.language;\r\n  return (\r\n    <Container>\r\n      <Typography className={classes.title} variant=\"h3\" align=\"center\">\r\n        {language === \"English\" ? \"Learning Activities\" : \"来做个游戏吧！\"}\r\n      </Typography>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ state: state }), null)(ListTitle);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles({\r\n  media: {\r\n    height: 300,\r\n  },\r\n});\r\n\r\nconst GameCard = ({ state, name, details, imageUrl, link }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  let language = state.user.language;\r\n  return (\r\n    <Card>\r\n      <CardActionArea onClick={() => history.push(\"/game/\" + link)}>\r\n        <CardMedia className={classes.media} image={imageUrl} title={name} />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {details}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button\r\n          size=\"large\"\r\n          color=\"error\"\r\n          onClick={() => history.push(\"/game/\" + link)}\r\n        >\r\n          {language === \"English\" ? \"Play\" : \"玩一下\"}\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ state: state }), null)(GameCard);\r\n","import React from \"react\";\r\nimport { Container, Grid, Paper } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport GameCard from \"./GameCard\";\r\nconst DisplayGrid = ({ state }) => {\r\n  let language = state.user.language;\r\n  let games = [\r\n    {\r\n      name: language === \"English\" ? \"Nouns Game\" : \"名词乐园\",\r\n      id: \"nouns\",\r\n      details:\r\n        language === \"English\"\r\n          ? \"A game to improve your vocabulary. Many categories available\"\r\n          : \"在不同的场景下，提高你的词汇量水平\",\r\n      imageUrl:\r\n        \"https://f000.backblazeb2.com/file/audio1262/game_page_pics/nouns.png\",\r\n    },\r\n    {\r\n      name: language === \"English\" ? \"Sentence builder\" : \"造句\",\r\n      id: \"sentences\",\r\n      details:\r\n      language === \"English\"\r\n      ? \"A game to improve your sentence structure. Many categories available\"\r\n      : \"在不同的场景下，提高你的造句能力\",\r\n      imageUrl:\r\n        \"https://f000.backblazeb2.com/file/audio1262/game_page_pics/sentence.png\",\r\n    },\r\n    {\r\n      name: language === \"English\" ? \"Spelling\" : \"拼写\",\r\n      id: \"spelling\",\r\n      details: language === \"English\"\r\n      ? \"A game to improve your spelling. Many categories available\"\r\n      : \"在不同的场景下，提高你的拼写能力\",\r\n      imageUrl:\r\n        \"https://f000.backblazeb2.com/file/audio1262/game_page_pics/spelling.png\",\r\n    },\r\n    {\r\n      name: language === \"English\" ? \"Questions\" : \"问题\",\r\n      id: \"questions\",\r\n      details: language === \"English\"\r\n      ? \"A game to improve your ability to ask questions.\"\r\n      : \"提高你的问问题能力\",\r\n      imageUrl:\r\n        \"https://f000.backblazeb2.com/file/audio1262/game_page_pics/questions.png\",\r\n    },\r\n  ];\r\n  return (\r\n    <Container>\r\n      <Grid container spacing={3}>\r\n        {games.map((game) => (\r\n          <Grid item key={game.id} xs={12} md={6}>\r\n            <GameCard\r\n              name={game.name}\r\n              details={game.details}\r\n              imageUrl={game.imageUrl}\r\n              link={game.id}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ state: state }), null)(DisplayGrid);\r\n","import { makeStyles } from '@material-ui/core'\r\nimport React from 'react'\r\nimport ListTitle from './ListTitle'\r\nimport DisplayGrid from './DisplayGrid'\r\n\r\nconst useStyles = makeStyles(()=> {\r\n    return ({\r\n        background: {\r\n            background: '#EEE2DC',\r\n            padding:\"30px\"\r\n        }\r\n    })\r\n})\r\nconst GameList = () => {\r\n    const classes = useStyles()\r\n    return (\r\n        <div className={classes.background}>\r\n            <ListTitle />\r\n            <DisplayGrid />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GameList\r\n","import React from \"react\";\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  makeStyles,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    footer: {\r\n      padding: \"0px\",\r\n      backgroundColor: theme.palette.primary.main,\r\n    },\r\n    text: {\r\n      color: \"black\",\r\n      textDecoration: \"none\",\r\n      \"&:hover\": {\r\n        color: \"white\",\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nconst Footer = ({ state }) => {\r\n  const classes = useStyles();\r\n  let language = state.user.language;\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <Box>\r\n        <Container style={{ padding: \"30px\" }} maxWidth=\"lg\">\r\n          <Grid container spacing={5}>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box display=\"flex\" justifyContent=\"center\">\r\n                <Typography>\r\n                  <Link to=\"/\" className={classes.text}>\r\n                    {language === \"English\" ? \"Home\" : \"首页\"}\r\n                  </Link>\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box display=\"flex\" justifyContent=\"center\">\r\n                <Typography>\r\n                  <Link to=\"/profile\" className={classes.text}>\r\n                    {language === \"English\" ? \"Profile\" : \"用户\"}\r\n                  </Link>\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <Box display=\"flex\" justifyContent=\"center\">\r\n                <Typography>\r\n                  <Link to=\"/\" className={classes.text}>\r\n                    {language === \"English\"\r\n                      ? \"Learning Activities\"\r\n                      : \"学习活动\"}\r\n                  </Link>\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </Box>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ state: state }), null)(Footer);\r\n","import Navbar from \"../components/Navbar\";\r\nimport GameList from \"../components/homepage/GameList\";\r\nimport Footer from \"../components/Footer\";\r\nconst Homepage = () => {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <GameList />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","export const REQUEST_USER_SIGNUP = \"REQUEST_USER_SIGNUP\";\r\nexport const REQUEST_USER_SIGNUP_SUCCESS = \"REQUEST_USER_SIGNUP_SUCCESS\";\r\nexport const REQUEST_USER_SIGNUP_FAIL = \"REQUEST_USER_SIGNUP_FAIL\";\r\nexport const RESET_STATE = \"RESET_STATE\";","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Container,\r\n  TextField,\r\n  CssBaseline,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport { signupUser, resetState } from \"../../redux/signup/signup.actions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form_container: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    marginTop: theme.spacing(4),\r\n    minWidth: \"40%\",\r\n  },\r\n  link: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  button: {\r\n    marginTop: \"15px\",\r\n  },\r\n}));\r\nconst SignupForm = ({ state, signupUser, resetState }) => {\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const classes = useStyles();\r\n  let language = state.user.language;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    signupUser(email, name, password);\r\n    console.log();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (state.signup.success === true) {\r\n      resetState();\r\n      history.push(\"/login\");\r\n    }\r\n  }, [state.signup]);\r\n\r\n  if (state.signup.loading) {\r\n    return <h1>LOADING SIGNUP</h1>;\r\n  } else {\r\n    return (\r\n      <Container data-test=\"signupComponent\">\r\n        <CssBaseline />\r\n        <div className={classes.form_container}>\r\n          <LockIcon />\r\n          <Typography variant=\"h3\">\r\n            {language === \"English\" ? \"Sign Up\" : \"注册\"}\r\n          </Typography>\r\n          <form data-test=\"signupForm\" className={classes.form} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  label={language === \"English\" ? \"Full Name\" : \"姓名\"}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  required\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  label={language === \"English\" ? \"Email\" : \"电子邮箱\"}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  label={language === \"English\" ? \"Password\" : \"密码\"}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  required\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Container>\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"error\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                {state.signup.error ? <p>{state.signup.error.message}</p> : \"\"}\r\n              </Typography>\r\n            </Container>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              className={classes.button}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              {language === \"English\" ? \"Sign up\" : \"注册\"}\r\n            </Button>\r\n            <Grid container>\r\n              <Grid className={classes.link} item xs={12}>\r\n                <Link to=\"/login\">\r\n                  {language === \"English\"\r\n                    ? \"Already have an account? Login\"\r\n                    : \"没有账户？请在这里注册\"}{\" \"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      state: state,\r\n    };\r\n  },\r\n  (dispatch) => ({\r\n    signupUser: (email, name, password) =>\r\n      dispatch(signupUser(email, name, password)),\r\n    resetState: () => dispatch(resetState()),\r\n  })\r\n)(SignupForm);\r\n","import {\r\n  REQUEST_USER_SIGNUP,\r\n  REQUEST_USER_SIGNUP_SUCCESS,\r\n  REQUEST_USER_SIGNUP_FAIL,\r\n  RESET_STATE,\r\n} from \"./signup.types\";\r\n\r\nimport axios from \"axios\";\r\nexport const signupUser = (email, name, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REQUEST_USER_SIGNUP });\r\n    const resp = await axios.post(\r\n      process.env.NODE_ENV === \"production\" ? \"https://esl-complete-app.herokuapp.com/api/signup\" : \"http://localhost:5000/signup\",\r\n      {\r\n        email,\r\n        name,\r\n        password,\r\n      },\r\n      { withCredentials: true }\r\n    );\r\n    dispatch({ type: REQUEST_USER_SIGNUP_SUCCESS });\r\n  } catch (error) {\r\n    console.log(error + \"errormsg\")\r\n    dispatch({\r\n      type: REQUEST_USER_SIGNUP_FAIL,\r\n      payload: error.response.data.error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetState = () => (dispatch) => {\r\n  dispatch({ type: RESET_STATE });\r\n};\r\n","import React from 'react'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport SignupForm from '../components/signup/SignupForm'\r\nconst Signup = () => {\r\n    return (\r\n        <div style={{minHeight: \"100vh\", display:\"grid\",  gridTemplateRows: \"auto 1fr auto\"}}>\r\n            <Navbar />\r\n            <SignupForm />\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import {\r\n  REQUEST_LOGIN,\r\n  REQUEST_LOGIN_SUCCESS,\r\n  REQUEST_LOGIN_FAILED,\r\n  SET_USER_STATE,\r\n  FETCH_INITIAL_STATE,\r\n  FETCH_INITIAL_STATE_SUCCESS,\r\n  FETCH_INITIAL_STATE_FAIL,\r\n  RESET_USER_STATE,\r\n  SET_SELECTED_CHILD,\r\n  RESET_SELECTED_CHILD,\r\n  SWITCH_LANGUAGE\r\n} from \"./user.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  loadingLogin: false,\r\n  name: \"\",\r\n  email: \"\",\r\n  error: \"\",\r\n  loading: true,\r\n  isAuth: false,\r\n  selectedChild: \"\",\r\n  language: \"English\"\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case FETCH_INITIAL_STATE:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case FETCH_INITIAL_STATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        name: action.payload.data.name,\r\n        email: action.payload.data.email,\r\n        isAuth: true,\r\n        loading: false,\r\n        selectedChild: action.payload.data.selectedChild,\r\n      };\r\n    case FETCH_INITIAL_STATE_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isAuth: false,\r\n      };\r\n    case REQUEST_LOGIN:\r\n      return {\r\n        ...state,\r\n        loadingLogin: true,\r\n        isAuth: false,\r\n      };\r\n    case REQUEST_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loadingLogin: false,\r\n        isAuth: true,\r\n        name: action.payload.name,\r\n        email: action.payload.email,\r\n        token: action.payload.token,\r\n      };\r\n    case REQUEST_LOGIN_FAILED:\r\n      return {\r\n        ...state,\r\n        loadingLogin: false,\r\n        isAuth: false,\r\n        error: action.payload,\r\n        name: \"\",\r\n        email: \"\",\r\n        token: \"\",\r\n      };\r\n    case SET_USER_STATE:\r\n      return {\r\n        ...state,\r\n        name: action.payload.name,\r\n        email: action.payload.email,\r\n      };\r\n    case RESET_USER_STATE:\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        name: \"\",\r\n        email: \"\",\r\n        children: [],\r\n        token: \"\",\r\n      };\r\n    case SET_SELECTED_CHILD:\r\n      return {\r\n        ...state,\r\n        selectedChild: action.payload,\r\n      };\r\n    case RESET_SELECTED_CHILD:\r\n      return {\r\n        ...state,\r\n        selectedChild: action.payload,\r\n      };\r\n    case SWITCH_LANGUAGE:\r\n      return {\r\n        ...state,\r\n        language: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import {\r\n  REQUEST_USER_SIGNUP,\r\n  REQUEST_USER_SIGNUP_SUCCESS,\r\n  REQUEST_USER_SIGNUP_FAIL,\r\n  RESET_STATE,\r\n} from \"./signup.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  loading: false,\r\n  success: false,\r\n  error: \"\",\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case REQUEST_USER_SIGNUP:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case REQUEST_USER_SIGNUP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        success: true,\r\n        loading: false,\r\n      };\r\n    case REQUEST_USER_SIGNUP_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n    case RESET_STATE:\r\n      return {\r\n        ...state,\r\n        loading:false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","const {\r\n  REQUEST_PROFILE_API,\r\n  REQUEST_PROFILE_API_SUCCESS,\r\n  REQUEST_PROFILE_API_FAIL,\r\n  ADD_CHILD,\r\n  REMOVE_CHILD,\r\n  ADD_CHILD_REQUEST,\r\n  ADD_CHILD_REQUEST_FAIL,\r\n} = require(\"./API.types\");\r\n\r\nconst INITIAL_STATE = {\r\n  loading: false,\r\n  children: [],\r\n  averageScoresByGame: [],\r\n  recentScores: [],\r\n  averageOverallScores: [],\r\n  error: \"\",\r\n  addChildLoading: false\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case REQUEST_PROFILE_API:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n      break;\r\n    case REQUEST_PROFILE_API_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        children: action.payload.data.childrenArray,\r\n        averageScoresByGame: action.payload.data.averageGameScoreByChild,\r\n        recentScores: action.payload.data.recentScores,\r\n        averageOverallScores: action.payload.data.averageOverallScores,\r\n      };\r\n      break;\r\n    case REQUEST_PROFILE_API_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n      break;\r\n    case ADD_CHILD_REQUEST:\r\n      return {\r\n        ...state,\r\n        addChildLoading: true\r\n      }\r\n      break;\r\n    case ADD_CHILD_REQUEST_FAIL:\r\n      return {\r\n        ...state,\r\n        addChildLoading:false,\r\n        error:action.payload\r\n      }\r\n      break;\r\n    case ADD_CHILD:\r\n      return {\r\n        ...state,\r\n        addChildLoading: false,\r\n        children: [...state.children, action.payload],\r\n      };\r\n      break;\r\n    case REMOVE_CHILD:\r\n      return {\r\n        ...state,\r\n        children: state.children.filter((child) => child !== action.payload),\r\n      };\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport userReducer from \"./user/user.reducer\"\r\nimport signupReducer from \"./signup/signup.reducer\"\r\nimport profileReducer from \"./API/API.reducer\"\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  signup: signupReducer,\r\n  profile: profileReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\"\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"./rootReducer\";\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst initialState ={}\r\nconst store = createStore(rootReducer, initialState, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Typography,\r\n  Button,\r\n  ButtonGroup,\r\n  Container,\r\n  TextField,\r\n  Radio,\r\n  radioGroup,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  FormControl,\r\n  FormLabel,\r\n  CssBaseline,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport store from \"../../redux/store\";\r\nimport AcUnitOutlinedIcon from \"@material-ui/icons/AcUnitOutlined\";\r\nimport ArrowForwardIosOutlinedIcon from \"@material-ui/icons/ArrowForwardIosOutlined\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport setCookie from \"../utils/setCookie\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport { login, resetSelectedChild } from \"../../redux/user/user.actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form_container: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    marginTop: theme.spacing(4),\r\n    minWidth: \"40%\",\r\n  },\r\n  link: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  button: {\r\n    marginTop: \"15px\",\r\n  },\r\n}));\r\n\r\nconst LoginForm = ({ state, login }) => {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [cookie, setCookie, removeCookie] = useCookies([\"authorization\"]);\r\n  const history = useHistory();\r\n  let language = state.user.language;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n  };\r\n  React.useEffect(() => {\r\n    if (state.user.isAuth) {\r\n      setCookie(\"authorization\", state.user.token);\r\n      history.push(\"/profile\");\r\n    }\r\n  }, [state]);\r\n\r\n  if (state.user.loadingLogin) {\r\n    return <h1>LOGIN LOGIN</h1>;\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <CssBaseline />\r\n        <div className={classes.form_container}>\r\n          <LockIcon />\r\n          <Typography variant=\"h3\">\r\n            {language === \"English\" ? \"Login\" : \"登录\"}\r\n          </Typography>\r\n          <Typography variant=\"h3\">\r\n            {state.user.loading ? \"LOADING\" : \"\"}\r\n          </Typography>\r\n          <form className={classes.form} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  label={state.user.language === \"English\" ? \"Email\" : \"登录\"}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  required\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  label={\r\n                    state.user.language === \"English\" ? \"Password\" : \"密码\"\r\n                  }\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  required\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Container>\r\n              <Typography\r\n                variant=\"h6\"\r\n                color=\"error\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                {state.user.error && state.user.error}\r\n              </Typography>\r\n            </Container>\r\n            <Button\r\n              onClick={(e) => handleSubmit(e)}\r\n              className={classes.button}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              {language === \"English\" ? \"Log in\" : \"登录\"}\r\n            </Button>\r\n            <Grid container>\r\n              <Grid className={classes.link} item xs={12}>\r\n                <Link to=\"/signup\">\r\n                  {language === \"English\"\r\n                    ? \"Don't have an account? Sign up here\"\r\n                    : \"没有账户？请在这里注册\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default connect(\r\n  (state) => ({ state: state }),\r\n  (dispatch) => ({\r\n    login: (email, password) => dispatch(login(email, password)),\r\n  })\r\n)(LoginForm);\r\n","import React from \"react\";\r\nimport Footer from \"../components/Footer\";\r\nimport LoginForm from \"../components/login/LoginForm\";\r\nimport Navbar from \"../components/Navbar\";\r\nconst Login = () => {\r\n  return (\r\n    <div style={{ display: \"grid\", gridTemplateRows: \"auto 1fr auto\", minHeight:\"100vh\"}}>\r\n      <Navbar />\r\n      <LoginForm />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Container, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    card: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    active: {\r\n      background: theme.palette.primary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nconst AverageScoresByGame = ({ game, child, state }) => {\r\n  const classes = useStyles();\r\n  const [currentStudentData, setCurrentStudentData] = useState(\"\");\r\n  const [currentAverageData, setCurrentAverageData] = useState(\"\");\r\n  let language = state.user.language;\r\n\r\n  const extractStudentScores = () => {\r\n    const scores = state.profile.averageScoresByGame;\r\n\r\n    const score = scores.filter(\r\n      (item) => item[\"game_name\"] === game && item[\"child_name\"] === child\r\n    );\r\n    if (score[0]) {\r\n      setCurrentStudentData(parseInt(score[0].avg).toFixed(0) + \"%\");\r\n    } else {\r\n      setCurrentStudentData(\"No data available\");\r\n    }\r\n  };\r\n\r\n  const extractAverageScores = () => {\r\n    const scores = state.profile.averageOverallScores;\r\n\r\n    const score = scores.filter((item) => item[\"game_name\"] === game);\r\n    if (score[0]) {\r\n      setCurrentAverageData(parseInt(score[0].avg).toFixed(0) + \"%\");\r\n    } else {\r\n      setCurrentAverageData(\"No data available\");\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!state.profile.loading) {\r\n      extractStudentScores();\r\n      extractAverageScores();\r\n    }\r\n  }, [state, game, child]);\r\n\r\n  return (\r\n    <Container style={{ padding: \"40px 0px\" }}>\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <Typography variant=\"h3\" align=\"center\">\r\n            <b>{language === \"English\" ? \"My average\" : \"我的平均成绩\"}</b>\r\n          </Typography>\r\n          <Typography variant=\"h3\" align=\"center\">\r\n            {currentStudentData}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <Typography variant=\"h3\" align=\"center\">\r\n          <b>{language === \"English\" ? \"Student average\" : \"学生们的平均成绩\"}</b>\r\n          </Typography>\r\n          <Typography variant=\"h3\" align=\"center\">\r\n            {currentAverageData}\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\n// 最近成绩 - recent scores\r\nexport default connect(\r\n  (state) => ({\r\n    state: state,\r\n  }),\r\n  null\r\n)(AverageScoresByGame);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Paper,\r\n  TableContainer,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TablePagination,\r\n  TableFooter,\r\n} from \"@material-ui/core\";\r\nimport { format } from \"date-fns\";\r\nconst RecentList = ({ child, game, data, state }) => {\r\n  const [currentData, setCurrentData] = useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const emptyRows =\r\n    rowsPerPage -\r\n    Math.min(rowsPerPage, currentData.length - page * rowsPerPage);\r\n\r\n  const extractRecentScores = () => {\r\n    const scores = state.profile.recentScores;\r\n    const filteredScores = scores.filter(\r\n      (score) => score.game_name === game && score.child_name === child\r\n    );\r\n    setCurrentData(filteredScores);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value));\r\n    setPage(0);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    extractRecentScores();\r\n    console.log(currentData);\r\n  }, [state, game, state.user.selectedChild]);\r\n\r\n  return (\r\n    <Paper>\r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Game Type</TableCell>\r\n              <TableCell>Game Score</TableCell>\r\n              <TableCell>Date</TableCell>\r\n              <TableCell>Time</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {currentData\r\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              .map((row) => {\r\n                return (\r\n                  <TableRow>\r\n                    <TableCell>{row.game_name}</TableCell>\r\n                    <TableCell>{row.game_score}</TableCell>\r\n                    <TableCell>\r\n                      {format(new Date(row.date_attempt), \"dd/MM/yyy\")}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {format(new Date(row.date_attempt), \"HH:mm\")}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n          </TableBody>\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                rowsPerPageOptions={[1, 5]}\r\n                count={currentData.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </TableContainer>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    state: state,\r\n  };\r\n}, null)(RecentList);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  Button,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport AverageScoresByGame from \"./AverageScoresByGame\";\r\nimport RecentList from \"./RecentList\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    button: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\",\r\n    },\r\n    buttonContainer: {\r\n      marginTop: \"20px\",\r\n    },\r\n    card: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    active: {\r\n      background: theme.palette.primary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nconst AnalyticsGrid = ({ state }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [gameType, setGameType] = useState(\"\");\r\n  const classes = useStyles();\r\n  let language = state.user.language;\r\n\r\n  const getUniqueGameNames = () => {\r\n    const gameNames = [\r\n      ...new Set(state.profile.averageOverallScores.map((a) => a.game_name)),\r\n    ];\r\n    return gameNames;\r\n  };\r\n  React.useEffect(() => {\r\n    setLoading(false);\r\n    setGameType(getUniqueGameNames()[0]);\r\n  }, [state.profile]);\r\n\r\n  return (\r\n    <Container>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={12}>\r\n          <Typography\r\n            style={{ padding: \"20px 0px\" }}\r\n            variant=\"h3\"\r\n            align=\"center\"\r\n          >\r\n            <b>{language === \"English\" ? \"Games\" : \"游戏\"}</b>\r\n          </Typography>\r\n          <Grid container className={classes.buttonContainer} spacing={4}>\r\n            {loading\r\n              ? \"Loading\"\r\n              : getUniqueGameNames().map((a) => {\r\n                  return (\r\n                    <Grid item xs={4} className={classes.button}>\r\n                      <Button\r\n                        onClick={() => setGameType(a)}\r\n                        className={\r\n                          a === gameType ? classes.active : classes.card\r\n                        }\r\n                        variant=\"contained\"\r\n                        colod=\"primary\"\r\n                      >\r\n                        {a}\r\n                      </Button>\r\n                    </Grid>\r\n                  );\r\n                })}\r\n          </Grid>\r\n          <AverageScoresByGame\r\n            child={state.user.selectedChild}\r\n            game={gameType}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={12}>\r\n          <Typography variant=\"h3\" align=\"center\">\r\n            <b>{language === \"English\" ? \"Recent scores\" : \"最近成绩\"} </b>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} md={12}>\r\n          <RecentList\r\n            game={gameType}\r\n            child={state.user.selectedChild}\r\n            data={state.profile.recentScores}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect((state) => ({ state: state }), null)(AnalyticsGrid);\r\n","import axios from \"axios\";\r\nimport { SET_SELECTED_CHILD } from \"../user/user.types\";\r\nimport {\r\n  ADD_CHILD,\r\n  ADD_CHILD_REQUEST,\r\n  ADD_CHILD_REQUEST_FAIL,\r\n  REMOVE_CHILD,\r\n  REQUEST_PROFILE_API,\r\n  REQUEST_PROFILE_API_FAIL,\r\n  REQUEST_PROFILE_API_SUCCESS,\r\n} from \"./API.types\";\r\nimport moment from \"moment\";\r\n\r\nexport const fetchProfileInfo = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: REQUEST_PROFILE_API });\r\n    const { data } = await axios.post(\r\n      process.env.NODE_ENV == \"production\"\r\n        ? \"https://esl-complete-app.com/api/fetchprofileinfo\"\r\n        : \"http://localhost:5000/api/fetchprofileinfo\",\r\n      { withCredentials: true }\r\n    );\r\n    const selectedChild = getState().user.selectedChild;\r\n\r\n    if (!data.data.childrenArray.includes(selectedChild)) {\r\n      const newSelectedChild =\r\n        data.data.childrenArray.length > 0 ? data.data.childrenArray[0] : \"\";\r\n      dispatch({ type: SET_SELECTED_CHILD, payload: newSelectedChild });\r\n    }\r\n\r\n    dispatch({ type: REQUEST_PROFILE_API_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: REQUEST_PROFILE_API_FAIL, payload: error.response });\r\n  }\r\n};\r\n\r\nexport const addChild = (name) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADD_CHILD_REQUEST });\r\n    await axios.post(\r\n      process.env.NODE_ENV === \"production\"\r\n        ? \"https://esl-complete-app.com/api/addchild\"\r\n        : \"http://localhost:5000/api/addchild\",\r\n      { childName: name },\r\n      { withCredentials: true }\r\n    );\r\n    dispatch({ type: ADD_CHILD, payload: name });\r\n  } catch (error) {\r\n    console.log(error);\r\n    console.log(error.response.data.error.name);\r\n    dispatch({\r\n      type: ADD_CHILD_REQUEST_FAIL,\r\n      payload: error.response.data.error.name,\r\n    });\r\n  }\r\n};\r\n\r\nexport const removeChild = (name) => async (dispatch) => {\r\n  dispatch({ type: REMOVE_CHILD, payload: name });\r\n  await axios.post(\r\n    \"https://esl-games-backend.herokuapp.com/api/removechild\",\r\n    { childName: name },\r\n    { withCredentials: true }\r\n  );\r\n};\r\n\r\nexport const addScores = (score, game) => async (dispatch, getState) => {\r\n  const selectedChild = getState().user.selectedChild;\r\n  const email = getState().user.email;\r\n  console.log(score, game, selectedChild, email);\r\n\r\n  await axios.post(\r\n    \"https://esl-games-backend.herokuapp.com/api/submitgamescore\",\r\n    {\r\n      childName: selectedChild,\r\n      gameName: game,\r\n      gameScore: Math.round(score),\r\n      email: email,\r\n      time: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n    },\r\n    { withCredentials: true }\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  makeStyles,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport { SET_SELECTED_CHILD } from \"../../redux/user/user.types\";\r\nimport { capitalize } from \"../utils/capitalize\";\r\nimport { removeChild } from \"../../redux/API/API.actions\";\r\nimport { resetSelectedChild } from \"../../redux/user/user.actions\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    card: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    active: {\r\n      background: theme.palette.primary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nconst ChildCard = ({\r\n  name,\r\n  state,\r\n  resetSelectedChild,\r\n  removeChild,\r\n  setSelectedChild,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  let language = state.user.language;\r\n\r\n  const handleOpen = (e) => {\r\n    e.stopPropagation();\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setOpen(false);\r\n    if (state.user.selectedChild === name) {\r\n      resetSelectedChild();\r\n    }\r\n    removeChild(name);\r\n  };\r\n\r\n  const handleCardClick = (e) => {\r\n    e.stopPropagation();\r\n    setSelectedChild(name);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card>\r\n        <CardActionArea onClick={handleCardClick}>\r\n          <CardContent\r\n            className={\r\n              state.user.selectedChild === name ? classes.active : classes.card\r\n            }\r\n          >\r\n            <Typography align=\"center\" variant=\"h4\">\r\n              {capitalize(name)}\r\n            </Typography>\r\n            <Button onClick={handleOpen}>\r\n              {language === \"English\" ? \"Delete\" : \"删除\"}\r\n            </Button>\r\n          </CardContent>\r\n        </CardActionArea>\r\n      </Card>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>\r\n          {language === \"English\" ? \"Delete User\" : \"删除用户\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {language === \"English\"\r\n              ? \"Are you sure you want to delete this user?\"\r\n              : \"你确定要删除用户吗？\"}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            {language === \"English\" ? \"No\" : \"否\"}\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\" autoFocus>\r\n            {language === \"English\" ? \"Yes\" : \"确定\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      state: state,\r\n    };\r\n  },\r\n  (dispatch) => ({\r\n    setSelectedChild: (name) =>\r\n      dispatch({ type: SET_SELECTED_CHILD, payload: name }),\r\n    resetSelectedChild: () => dispatch(resetSelectedChild()),\r\n    removeChild: (name) => dispatch(removeChild(name)),\r\n  })\r\n)(ChildCard);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  makeStyles,\r\n  Typography,\r\n  Grid,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  TextField,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\nimport ChildCard from \"./ChildCard\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport { addChild } from \"../../redux/API/API.actions\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    header: {\r\n      margin: \"20px 0\",\r\n    },\r\n    button: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    center: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n    },\r\n    card: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    active: {\r\n      background: theme.palette.primary.main,\r\n      \"&:hover\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\nconst ProfileChildren = ({ children, state, addChild }) => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState(\"\");\r\n  const [open, setOpen] = React.useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  let language = state.user.language;\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setError(\"\");\r\n    setName(\"\");\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (name.length > 0 && !state.profile.children.includes(name)) {\r\n      addChild(name);\r\n      setOpen(false);\r\n      setName(\"\");\r\n    }\r\n    if (state.profile.children.includes(name))\r\n      setError(\"This child already exists\");\r\n    if (name.length === 0) {\r\n      setError(\"Please enter a name\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography className={classes.header} align=\"center\" variant=\"h3\">\r\n        {state.user.name}'s {language === \"English\" ? \"Profile\" : \"用户\"}\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        {children.map((child) => {\r\n          return (\r\n            <Grid item xs={6} md={4}>\r\n              <ChildCard name={child} />\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n      <Container className={classes.center}>\r\n        <Button\r\n          onClick={() => setOpen(true)}\r\n          className={classes.button}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          endIcon={<AddCircleIcon>send</AddCircleIcon>}\r\n        >\r\n          {\" \"}\r\n          {language === \"English\" ? \"Add child\" : \"增加使用者\"}\r\n        </Button>\r\n      </Container>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {language === \"English\"\r\n            ? \"Write the name of the child you want to add\"\r\n            : \"你要添加的孩子的名字\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {/* <DialogContentText>\r\n            To subscribe to this website, please enter your email address here.\r\n            We will send updates occasionally.\r\n          </DialogContentText> */}\r\n          <TextField\r\n            onChange={(e) => setName(e.target.value)}\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label={language === \"English\" ? \"Name\" : \"名字\"}\r\n            type=\"email\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <Typography>{error.length ? error : \"\"}</Typography>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n          {language === \"English\" ? \"Cancel\" : \"否\"}\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n          {language === \"English\" ? \"Continue\" : \"确定\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      state: state,\r\n    };\r\n  },\r\n  (dispatch) => ({\r\n    addChild: (name) => dispatch(addChild(name)),\r\n  })\r\n)(ProfileChildren);\r\n","import axios from \"axios\";\r\nimport AnalyticsGrid from \"../components/profile/AnalyticsGrid\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport ProfileChildren from \"../components/profile/ProfileChildren\";\r\nimport { fetchProfileInfo } from \"../redux/API/API.actions\";\r\nimport { connect } from \"react-redux\";\r\nimport Footer from \"../components/Footer\";\r\nimport {\r\n  CircularProgress,\r\n  CurcularProgress,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\naxios.defaults.withCredentials = true;\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    loading: {\r\n      height: \"100vh\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  };\r\n});\r\nconst Profile = ({ fetchProfileInfo, state }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"ran\");\r\n    if (!state.user.isAuth) {\r\n      history.push(\"/login\");\r\n    }\r\n    if (state.user.isAuth) {\r\n      fetchProfileInfo();\r\n    }\r\n  }, []);\r\n\r\n  if (state.profile.loading) {\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar />\r\n        <div className={classes.loading}>\r\n          <h1>Loading</h1>\r\n          <CircularProgress />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateRows: \"auto 1fr auto\",\r\n          minHeight: \"100vh\",\r\n        }}\r\n      >\r\n        <Navbar />\r\n        <ProfileChildren children={state.profile.children} />\r\n        <AnalyticsGrid />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default connect(\r\n  (state) => {\r\n    return {\r\n      state: state,\r\n    };\r\n  },\r\n  (dispatch) => ({\r\n    fetchProfileInfo: () => dispatch(fetchProfileInfo()),\r\n  })\r\n)(Profile);\r\n","import { array } from \"prop-types\";\r\n\r\nexport const calculateCategoryX = (width, index) => {\r\n  return index === 1 || index === 4 || index === 7 || index === 10\r\n    ? width * 0.2\r\n    : index === 2 || index === 5 || index === 8 || index === 11\r\n    ? width * 0.5\r\n    : index === 3 || index === 6 || index === 9 || index === 12\r\n    ? width * 0.8\r\n    : 0;\r\n};\r\nexport const calculateCategoryY = (height, index) => {\r\n  return index >= 1 && index <= 3\r\n    ? height * 0.33\r\n    : index >= 4 && index <= 6\r\n    ? height * 0.66\r\n    : index >= 7 && index <= 9\r\n    ? height * 1\r\n    : 0;\r\n};\r\nexport const selectRandomFromArray = (array) => {\r\n  return array[Math.floor(Math.random() * array.length)];\r\n};\r\n\r\nexport function shuffle(array) {\r\n  //ref = https://stackoverflow.com/a/2450976\r\n  var currentIndex = array.length,\r\n    randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex--;\r\n\r\n    // And swap it with the current element.\r\n    [array[currentIndex], array[randomIndex]] = [\r\n      array[randomIndex],\r\n      array[currentIndex],\r\n    ];\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nexport const placeBox = (arrayLength, index, stage, phone, type) => {\r\n  let x;\r\n  let y;\r\n  if (!phone) {\r\n    if (arrayLength === 3) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.2;\r\n        y =\r\n          type === \"box\"\r\n            ? stage.canvas.height * 0.5\r\n            : stage.canvas.height * 0.65;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.4;\r\n        y =\r\n          type === \"box\"\r\n            ? stage.canvas.height * 0.5\r\n            : stage.canvas.height * 0.65;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.6;\r\n        y =\r\n          type === \"box\"\r\n            ? stage.canvas.height * 0.5\r\n            : stage.canvas.height * 0.65;\r\n      }\r\n    }\r\n    if (arrayLength === 4) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.1;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.3;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.5;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 3) {\r\n        x = stage.canvas.width * 0.7;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n    }\r\n    if (arrayLength === 5) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.2;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.4;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.6;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 3) {\r\n        x = stage.canvas.width * 0.3;\r\n        y = stage.canvas.height * 0.625;\r\n      }\r\n      if (index === 4) {\r\n        x = stage.canvas.width * 0.5;\r\n        y = stage.canvas.height * 0.625;\r\n      }\r\n    }\r\n  }\r\n  if (phone) {\r\n    if (arrayLength === 3) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.125;\r\n        y = type === \"word\" ? stage.canvas.height * 0.6 : stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.375;\r\n         y = type === \"word\" ? stage.canvas.height * 0.6 : stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.625;\r\n         y = type === \"word\" ? stage.canvas.height * 0.6 : stage.canvas.height * 0.5;\r\n      }\r\n    }\r\n    if (arrayLength === 4) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.125;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.375;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.625;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 3) {\r\n        x = stage.canvas.width * 0.375;\r\n        y = stage.canvas.height * 0.6;\r\n      }\r\n    }\r\n    if (arrayLength === 5) {\r\n      if (index === 0) {\r\n        x = stage.canvas.width * 0.125;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 1) {\r\n        x = stage.canvas.width * 0.375;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 2) {\r\n        x = stage.canvas.width * 0.625;\r\n        y = stage.canvas.height * 0.5;\r\n      }\r\n      if (index === 3) {\r\n        x = stage.canvas.width * 0.25;\r\n        y = stage.canvas.height * 0.6;\r\n      }\r\n      if (index === 4) {\r\n        x = stage.canvas.width * 0.5;\r\n        y = stage.canvas.height * 0.6;\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    x,\r\n    y,\r\n  };\r\n};\r\nexport function collision(obj1, obj2) {\r\n  var objBounds1 = obj1.getBounds().clone();\r\n  var objBounds2 = obj2.getBounds().clone();\r\n\r\n  var pt = obj1.globalToLocal(objBounds2.x, objBounds2.y);\r\n\r\n  var h1 = -(objBounds1.height / 2 + objBounds2.height - objBounds1.height / 2);\r\n  var h2 = objBounds2.height / 2;\r\n  var w1 = -(objBounds1.width / 2 + objBounds2.width - objBounds1.width / 2);\r\n  var w2 = objBounds2.width / 2;\r\n  if (pt.x > w2 || pt.x < w1) {\r\n    return false;\r\n  }\r\n  if (pt.y > h2 || pt.y < h1) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const mouseObjCollision = (x, y, obj2) => {\r\n  var objBounds2 = obj2.getBounds().clone();\r\n  if (\r\n    x >= objBounds2.x + objBounds2.width ||\r\n    x <= objBounds2.x ||\r\n    y >= objBounds2.y + objBounds2.height ||\r\n    y <= objBounds2.y\r\n  ) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const checker = arr => arr.every(v => v !== \"\");\r\n\r\nexport const computerKeyboard = [\r\n  {key:'a', row:1, id: 1, break: false},\r\n  {key:'b', row:1, id: 2, break: false},\r\n  {key:'c', row:1, id: 3, break: false},\r\n  {key:'d', row:1, id: 4, break: false},\r\n  {key:'e', row:1, id: 5, break: false},\r\n  {key:'f', row:1, id: 6, break: false},\r\n  {key:'g', row:1, id: 7, break: false},\r\n  {key:'h', row:1, id: 8, break: false},\r\n  {key:'i', row:1, id: 9, break: true},\r\n  {key:'j', row:2, id: 10, break: false},\r\n  {key:'k', row:2, id: 11, break: false},\r\n  {key:'l', row:2, id: 12, break: false},\r\n  {key:'m', row:2, id: 13, break: false},\r\n  {key:'n', row:2, id: 14, break: false},\r\n  {key:'o', row:2, id: 15, break: false},\r\n  {key:'p', row:2, id: 16, break: false},\r\n  {key:'q', row:2, id: 17, break: false},\r\n  {key:'r', row:2, id: 18, break: true},\r\n  {key:'s', row:3, id: 19, break: false},\r\n  {key:'t', row:3, id: 20, break: false},\r\n  {key:'u', row:3, id: 21, break: false},\r\n  {key:'v', row:3, id: 22, break: false},\r\n  {key:'w', row:3, id: 23, break: false},\r\n  {key:'x', row:3, id: 24, break: false},\r\n  {key:'y', row:3, id: 25, break: false},\r\n  {key:'z', row:3, id: 26, break: false},\r\n]\r\nexport const phoneKeyboard = [\r\n  {key:'a', row:1, id: 1, break: false},\r\n  {key:'b', row:1, id: 2, break: false},\r\n  {key:'c', row:1, id: 3, break: false},\r\n  {key:'d', row:1, id: 4, break: false},\r\n  {key:'e', row:1, id: 5, break: false},\r\n  {key:'f', row:1, id: 6, break: false},\r\n  {key:'g', row:1, id: 7, break: true},\r\n  {key:'h', row:2, id: 8, break: false},\r\n  {key:'i', row:2, id: 9, break: false},\r\n  {key:'j', row:2, id: 10, break: false},\r\n  {key:'k', row:2, id: 11, break: false},\r\n  {key:'l', row:2, id: 12, break: false},\r\n  {key:'m', row:2, id: 13, break: false},\r\n  {key:'n', row:2, id: 14, break: true},\r\n  {key:'o', row:3, id: 15, break: false},\r\n  {key:'p', row:3, id: 16, break: false},\r\n  {key:'q', row:3, id: 17, break: false},\r\n  {key:'r', row:3, id: 18, break: false},\r\n  {key:'s', row:3, id: 19, break: false},\r\n  {key:'t', row:3, id: 20, break: false},\r\n  {key:'u', row:3, id: 21, break: true},\r\n  {key:'v', row:4, id: 22, break: false},\r\n  {key:'w', row:4, id: 23, break: false},\r\n  {key:'x', row:4, id: 24, break: false},\r\n  {key:'y', row:4, id: 25, break: false},\r\n  {key:'z', row:4, id: 26, break: false},\r\n]\r\n\r\nexport const calcKeyYPosition = (phone,key) => {\r\n  if (phone) {\r\n    if (key.row == 1) return 510;\r\n    if (key.row == 2) return 570; \r\n    if (key.row == 3) return 630; \r\n    if (key.row == 4) return 690; \r\n  }\r\n  if (!phone) {\r\n    if (key.row == 1) return 360;\r\n    if (key.row == 2) return 420; \r\n    if (key.row == 3) return 480; \r\n  }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addScores } from \"../../redux/API/API.actions\";\r\nimport { useDispatch, useSelector } from \"../../redux/react-redux-hooks\";\r\nimport {\r\n  calculateCategoryX,\r\n  calculateCategoryY,\r\n  selectRandomFromArray,\r\n  shuffle,\r\n} from \"./util\";\r\n\r\nconst NounsGame = ({ addScore }) => {\r\n  const containerRef = React.useRef(null);\r\n  const canvasRef = React.useRef(null);\r\n  const createjs = window.createjs;\r\n  const categories = [\r\n    \"Animals\",\r\n    \"Countries\",\r\n    // \"Colors\",\r\n    // \"three\",\r\n    // \"four\",\r\n    // \"five\",\r\n  ];\r\n  const gameData = {\r\n    Animals: [\r\n      \"Bat\",\r\n      \"Bear\",\r\n      \"Beaver\",\r\n      \"Bird\",\r\n      \"Camel\",\r\n      \"Cat\",\r\n      \"Chicken\",\r\n      \"Cow\",\r\n      \"Crab\",\r\n      \"Dog\",\r\n      \"Elephant\",\r\n      \"Monkey\",\r\n      \"Pig\",\r\n      \"Fish\",\r\n      \"Lion\",\r\n      \"Sheep\",\r\n      \"Whale\",\r\n      \"Fox\",\r\n    ],\r\n    Countries: [\r\n      \"England\",\r\n      \"Spain\",\r\n      \"France\",\r\n      \"Italy\",\r\n      \"America\",\r\n      \"Japan\",\r\n      \"China\",\r\n      \"Germany\",\r\n      \"Russia\",\r\n      \"Australia\",\r\n      \"Brazil\",\r\n      \"Ireland\",\r\n      \"Vietnam\",\r\n    ],\r\n  };\r\n  const animals = [];\r\n  let selectedCategory;\r\n  let stage, phone, loader;\r\n  let gameState = \"LOADING\";\r\n  let manifest = [\r\n    {\r\n      id: \"Vietnam\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/vietnam.jpg\",\r\n    },\r\n    {\r\n      id: \"Ireland\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/ireland.jpg\",\r\n    },\r\n    {\r\n      id: \"Brazil\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/brazil.png\",\r\n    },\r\n    {\r\n      id: \"Australia\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/australia.png\",\r\n    },\r\n    {\r\n      id: \"Russia\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/russia.png\",\r\n    },\r\n    {\r\n      id: \"Germany\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/germany.png\",\r\n    },\r\n    {\r\n      id: \"Fox\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/fox.png\",\r\n    },\r\n    {\r\n      id: \"Whale\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/whale.png\",\r\n    },\r\n    {\r\n      id: \"Sheep\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/sheep.png\",\r\n    },\r\n    {\r\n      id: \"Lion\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/lion.png\",\r\n    },\r\n    {\r\n      id: \"Fish\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/fish.png\",\r\n    },\r\n    {\r\n      id: \"Pig\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/pig.png\",\r\n    },\r\n    {\r\n      id: \"Monkey\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/monkey.jpg\",\r\n    },\r\n    {\r\n      id: \"Elephant\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/elephant.png\",\r\n    },\r\n    {\r\n      id: \"Dog\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/dog.png\",\r\n    },\r\n    {\r\n      id: \"tree\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://db3pap007files.storage.live.com/y4mVq1Hesme1E8q6BkOZ_nHE6N2Oa7SItuOgI113jBRzI-_rQB9zIKvL7v2pKKZnoGsPrMiIUQI8DYUl_bQQz77-1NQzZdxVUwDFwImsu1MBvUGtE50EcJsaAX7K33EYM-1ZPnfa7X2IaE1xx9WohyW43LywM3Yap2PIbL-NBEP74Sw8vqfde0pVd2J7ALCFxau?width=356&height=400&cropmode=none\",\r\n    },\r\n    {\r\n      id: \"plane\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://db3pap007files.storage.live.com/y4m7y0fQKNnYjL-5PztzRM5B6Ar1sNjHkZsq0rLc4L_Mvpy0pX6Raudqr1UpXb7xiG44tHSglPEN6piU0K-hSHSqhbNE_KyQyQe6JiK0GG-H2VLN4SLWGujQxVnUVHgF-KzMQYvTanr1TQnwujI54OImhyHJJZDTDiNf1WPXR9aQdFixJnPDNwZuzqxktpSoDuA?width=400&height=400&cropmode=none\",\r\n    },\r\n    {\r\n      id: \"france\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/flag_pics/3-2-france-flag-png-image-thumb+(1).png\",\r\n    },\r\n    {\r\n      id: \"unitedkingdom\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/flag_pics/7-2-united-kingdom-flag-png-image_400x400.png\",\r\n    },\r\n    {\r\n      id: \"spain\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/flag_pics/5-2-spain-flag-picture_400x400+(1)+(1).png\",\r\n    },\r\n    {\r\n      id: \"germany\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/flag_pics/germany_flag.png\",\r\n    },\r\n    {\r\n      id: \"home\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/n1612275.png\",\r\n    },\r\n    {\r\n      id: \"Bat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/bat.png\",\r\n    },\r\n    {\r\n      id: \"Bear\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/bear.png\",\r\n    },\r\n    {\r\n      id: \"Beaver\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/Beaver.png\",\r\n    },\r\n    {\r\n      id: \"Bird\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/bird.png\",\r\n    },\r\n    {\r\n      id: \"Camel\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/camel.png\",\r\n    },\r\n    {\r\n      id: \"Cat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/cat.png\",\r\n    },\r\n    {\r\n      id: \"Chicken\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/chicken.png\",\r\n    },\r\n    {\r\n      id: \"Cow\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/cow.png\",\r\n    },\r\n    {\r\n      id: \"Crab\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/crab.png\",\r\n    },\r\n    {\r\n      id: \"America\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/america.png\",\r\n    },\r\n    {\r\n      id: \"France\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/france.png\",\r\n    },\r\n    {\r\n      id: \"China\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/china.png\",\r\n    },\r\n    {\r\n      id: \"England\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/england.png\",\r\n    },\r\n    {\r\n      id: \"pointer\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/cursor-png-transparent-7.png\",\r\n    },\r\n    {\r\n      id: \"Italy\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/italy.png\",\r\n    },\r\n    {\r\n      id: \"Japan\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/japan.png\",\r\n    },\r\n    {\r\n      id: \"Spain\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/spain.png\",\r\n    },\r\n    {\r\n      id: \"AnimalsCat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/animalcat.png\",\r\n    },\r\n    {\r\n      id: \"CountriesCat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/countriesCat+(1).png\",\r\n    },\r\n    {\r\n      id: \"Francemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/france+(2).mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Americamp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/america.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Chinamp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/china.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Englandmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/england+(2).mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Italymp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/italy.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Japanmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/japan.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Spainmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/spain+(2).mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Batmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bat.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Bearmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bear.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Beavermp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/beaver.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Birdmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/bird.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Camelmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/camel.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Catmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/cat.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Chickenmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/chicken.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Cowmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/cow.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Crabmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/crab.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Dogmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Dogmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Elephantmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Elephantmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Fishmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Fishmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Foxmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Foxmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Lionmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Lionmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Monkeymp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Monkeymp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Pigmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Pigmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Sheepmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Sheepmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Whalemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/animals/Whalemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Australiamp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/australiamp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Brazilmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/brazilmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Germanymp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/germanymp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Irelandmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/irelandmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Russiamp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/russiamp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"Vietnammp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/nouns/sounds/countries/vietnammp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n  ];\r\n\r\n  let loadingProgress = 0;\r\n  let score = 0;\r\n  let wrong = 0;\r\n\r\n  const init = () => {\r\n    stage = new createjs.Stage(canvasRef.current);\r\n    stage.enableMouseOver(10);\r\n    createjs.Touch.enable(stage, false, true);\r\n    createjs.Ticker.framerate = 30;\r\n    createjs.Ticker.addEventListener(\"tick\", stage);\r\n\r\n    createjs.Sound.volume = 0.5;\r\n    loader = new createjs.LoadQueue(false, null, true);\r\n    loader.installPlugin(createjs.Sound);\r\n    loader.loadManifest(manifest);\r\n    loader.addEventListener(\"error\", function (e) {\r\n      console.log(e);\r\n    });\r\n    loader.on(\"progress\", (e) => {\r\n      loadingProgress = Math.round(loader.progress * 100);\r\n      runLoadingScreen();\r\n    });\r\n    loader.on(\"complete\", (e) => {\r\n      gameState = \"OPTIONS\";\r\n      runGameLoop();\r\n    });\r\n    window.addEventListener(\"resize\", handleResize);\r\n    resizeCanvas();\r\n    runGameLoop();\r\n  };\r\n\r\n  const handleResize = (e) => {\r\n    window.innerWidth < 900 ? (phone = true) : (phone = false);\r\n    stage.removeAllEventListeners(\"click\");\r\n    stage.removeAllChildren();\r\n    resizeCanvas();\r\n    runGameLoop();\r\n  };\r\n\r\n  // const showCurrentTimeOnScreen = () => {\r\n  //   let time = parseInt(Math.floor(e.target.getTime() / 1000));\r\n  //   let text = new createjs.Text(time, \"20px Open Sans\", \"black\");\r\n  //   text.x = 400;\r\n  //   text.y = 0;\r\n  // };\r\n\r\n  const runLoadingScreen = () => {\r\n    let loadingScreen = new LoadingScreen(stage, \"lightgreen\", loadingProgress);\r\n    loadingScreen.createLoadingScreen();\r\n  };\r\n\r\n  const runOptionsScreen = () => {\r\n    new CategoriesScreen(stage).createCategoriesScreen();\r\n  };\r\n  let levelStatus, levelTarget, levelOptions;\r\n  const runLevelScreen = () => {\r\n    if (score >= 10) {\r\n      gameState = \"RUNENDLEVEL\";\r\n      addScore(calculateError(score, wrong), \"Nouns\");\r\n      runGameLoop();\r\n      return;\r\n    }\r\n    if (!levelStatus) {\r\n      selectRandomWord();\r\n    }\r\n\r\n    new LevelScreen(stage, levelTarget, levelOptions).createLevel();\r\n  };\r\n\r\n  const selectRandomWord = () => {\r\n    let randomItem =\r\n      gameData[selectedCategory][\r\n        Math.floor(Math.random() * gameData[selectedCategory].length)\r\n      ];\r\n    let filteredOptions = gameData[selectedCategory].filter(\r\n      (item) => item !== randomItem\r\n    );\r\n    let shuffled = shuffle(filteredOptions);\r\n    let sliced = shuffled.slice(0, 3);\r\n    sliced.push(randomItem);\r\n    let final = shuffle(sliced);\r\n\r\n    levelTarget = randomItem;\r\n    levelOptions = final;\r\n    levelStatus = true;\r\n  };\r\n\r\n  const runEndLevel = () => {\r\n    let screen = new Screen();\r\n    screen.createBackground();\r\n\r\n    let text = new createjs.Text(\r\n      \"Score: \" + Math.round(calculateError(score, wrong)) + \"%\",\r\n      \"30px Open Sans\",\r\n      \"black\"\r\n    );\r\n    text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n    text.y = stage.canvas.width * 0.2;\r\n\r\n    let container = new createjs.Container();\r\n    container.x = 15;\r\n    container.y = 15;\r\n    let image = new createjs.Bitmap(loader.getResult(\"home\"));\r\n    image.scaleX = 50 / image.image.width;\r\n    image.scaleY = 50 / image.image.height;\r\n    container.addChild(image);\r\n    container.on(\"click\", (e) => {\r\n      score = 0;\r\n      levelStatus = false;\r\n      gameState = \"OPTIONS\";\r\n      runGameLoop();\r\n    });\r\n    let buttonContainer = new createjs.Container();\r\n    let buttonShape = new createjs.Shape();\r\n    let buttonText = new createjs.Text();\r\n\r\n    // Styling the text\r\n    buttonText.text = \"Play again\";\r\n    buttonText.font = \"27px Open Sans\";\r\n    buttonText.x = 200 / 2 - buttonText.getMeasuredWidth() / 2;\r\n    buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n    // Styling the shape\r\n    buttonShape.color = buttonShape.graphics.beginFill(\"lightblue\").command;\r\n    buttonShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n    // Positioning the container\r\n    buttonContainer.x = stage.canvas.width * 0.5 - 100;\r\n    buttonContainer.y = stage.canvas.height * 0.7;\r\n    //buttonContainer.alpha = 0;\r\n\r\n    //createjs.Tween.get(buttonContainer).to({ alpha: 1 }, 300);\r\n\r\n    buttonContainer.on(\"mouseover\", (e) => {\r\n      e.currentTarget.children[0].color.style = \"red\";\r\n    });\r\n\r\n    buttonContainer.on(\"mouseout\", (e) => {\r\n      e.currentTarget.children[0].color.style = \"lightblue\";\r\n    });\r\n    buttonContainer.on(\"click\", (e) => {\r\n      score = 0;\r\n      levelStatus = false;\r\n      gameState = \"OPTIONS\";\r\n      runGameLoop();\r\n    });\r\n    buttonContainer.addChild(buttonShape, buttonText);\r\n    stage.addChild(container, buttonContainer, text);\r\n  };\r\n\r\n  const calculateError = (s, w) => {\r\n    return (s / (score + w)) * 100;\r\n  };\r\n\r\n  const runGameLoop = () => {\r\n    stage.removeAllChildren();\r\n    switch (gameState) {\r\n      case \"LOADING\":\r\n        runLoadingScreen();\r\n        break;\r\n      case \"OPTIONS\":\r\n        runOptionsScreen();\r\n        break;\r\n      case \"RUNLEVEL\":\r\n        runLevelScreen();\r\n        break;\r\n      case \"RUNENDLEVEL\":\r\n        runEndLevel();\r\n        break;\r\n      default:\r\n        console.log(\"default ran\");\r\n    }\r\n  };\r\n\r\n  // SCREEN CLASSES\r\n\r\n  class Screen {\r\n    constructor(stage, color) {\r\n      this.categories = categories;\r\n      this.color = color;\r\n      this.stage = stage;\r\n    }\r\n    createBackground() {\r\n      let background = new createjs.Shape();\r\n      background.name = \"background\";\r\n      background.graphics\r\n        .beginLinearGradientFill(\r\n          [\"#36d1dc \", \"#5b86e5\"],\r\n          [0, 0.5, 1],\r\n          0,\r\n          200,\r\n          0,\r\n          600\r\n        )\r\n        .drawRect(0, 0, stage.canvas.width, stage.canvas.height);\r\n      stage.addChild(background);\r\n    }\r\n    createHomeButton() {\r\n      let container = new createjs.Container();\r\n      container.x = 15;\r\n      container.y = 15;\r\n      let image = new createjs.Bitmap(loader.getResult(\"home\"));\r\n      image.scaleX = 50 / image.image.width;\r\n      image.scaleY = 50 / image.image.height;\r\n      container.addChild(image);\r\n      container.on(\"click\", (e) => {\r\n        levelStatus = false;\r\n        gameState = \"OPTIONS\";\r\n        runGameLoop();\r\n      });\r\n      this.stage.addChild(container);\r\n    }\r\n  }\r\n\r\n  class LoadingScreen extends Screen {\r\n    constructor(stage, color, percentLoaded) {\r\n      super(stage, color);\r\n      this.percentLoaded = percentLoaded;\r\n    }\r\n    createLoadingStatusText() {\r\n      let progressContainer = new createjs.Container();\r\n      progressContainer.x = stage.canvas.width / 2 - (25 * 10.5) / 2 - 15;\r\n      progressContainer.y = stage.canvas.height / 2 - 30 / 2;\r\n      let progressBox = new createjs.Shape();\r\n      progressBox.graphics.beginFill(\"\");\r\n      progressBox.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n      progressBox.graphics.drawRect(20, 0, 25 * 10.5, 30);\r\n\r\n      progressContainer.addChild(progressBox);\r\n      let progressStage = Math.floor(this.percentLoaded / 10);\r\n      for (let i = 1; i <= progressStage; i++) {\r\n        let block = new createjs.Shape();\r\n        block.graphics.beginFill(\"black\").drawRect(i * 25, 5, 20, 20);\r\n        progressContainer.addChild(block);\r\n      }\r\n\r\n      let text = new createjs.Text(\r\n        `${this.percentLoaded}%`,\r\n        \"50px Open Sans\",\r\n        \"black\"\r\n      );\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.55;\r\n\r\n      const messageText = new createjs.Text();\r\n      messageText.text = \"Loading / 加载中\";\r\n      messageText.font = \"25px Open Sans\";\r\n      messageText.x =\r\n        stage.canvas.width / 2 - messageText.getMeasuredWidth() / 2;\r\n      messageText.y = stage.canvas.height * 0.4;\r\n      this.stage.addChild(text, messageText, progressContainer);\r\n    }\r\n    createLoadingScreen() {\r\n      this.createBackground();\r\n      this.createLoadingStatusText();\r\n      //this.percentLoaded >= 100 && this.createCategories(); //new Buttons(\"Continue\", \"lightblue\", \"black\", \"40\").createPlayButton();\r\n    }\r\n  }\r\n  class CategoriesScreen extends Screen {\r\n    constructor(stage) {\r\n      super(stage);\r\n      this.stage = stage;\r\n    }\r\n    createCategories() {\r\n      score = 0;\r\n      wrong = 0;\r\n      for (let i = 0; i < categories.length; i++) {\r\n        let container = new createjs.Container();\r\n        container.name = categories[i];\r\n        let shape = new createjs.Shape();\r\n        shape.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n        shape.graphics.beginFill(\"white\").drawRect(0, 0, 150, 150);\r\n        let bitmap = new createjs.Bitmap(\r\n          loader.getResult(categories[i] + \"Cat\")\r\n        );\r\n        let text = new createjs.Text(categories[i], \"20px Open Sans\", \"black\");\r\n        text.x = 150 / 2 - text.getMeasuredWidth() / 2;\r\n        text.y = 10;\r\n        let imgWidth = bitmap.image.width;\r\n        bitmap.scaleX = 100 / bitmap.image.width;\r\n        bitmap.scaleY = 100 / bitmap.image.height;\r\n        bitmap.x = 150 / 2 - 50;\r\n        bitmap.y = 75 - 40;\r\n        container.y =\r\n          calculateCategoryY(this.stage.canvas.height, i + 1) - 150 / 2;\r\n        container.x =\r\n          calculateCategoryX(this.stage.canvas.width, i + 1) - 150 / 2;\r\n\r\n        container.on(\"mouseover\", (e) => {\r\n          container.scaleX = 1.2;\r\n          container.scaleY = 1.2;\r\n          container.x = container.x - 150 * 0.1;\r\n          container.y = container.y - 150 * 0.1;\r\n        });\r\n\r\n        container.on(\"mouseout\", (e) => {\r\n          container.scaleX = 1;\r\n          container.scaleY = 1;\r\n          container.x = container.x + 150 * 0.1;\r\n          container.y = container.y + 150 * 0.1;\r\n        });\r\n\r\n        container.on(\"click\", (e) => {\r\n          selectedCategory = container.name;\r\n          gameState = \"RUNLEVEL\";\r\n          runGameLoop();\r\n        });\r\n\r\n        container.addChild(shape, text, bitmap);\r\n        this.stage.addChild(container);\r\n      }\r\n    }\r\n    createInstructions() {\r\n      const text = new createjs.Text();\r\n      text.text = \"Choose One\";\r\n      text.font = \"25px Open Sans\";\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = 20;\r\n      stage.addChild(text);\r\n    }\r\n    createCategoriesScreen() {\r\n      this.createBackground();\r\n      this.createInstructions();\r\n      this.createCategories();\r\n    }\r\n  }\r\n\r\n  class LevelScreen extends Screen {\r\n    constructor(stage, targetItem, itemOptions) {\r\n      super(stage);\r\n      this.stage = stage;\r\n      this.targetItem = targetItem;\r\n      this.itemOptions = itemOptions;\r\n    }\r\n    createLevel() {\r\n      this.createBackground();\r\n      this.createInstructions();\r\n      this.createHomeButton();\r\n      this.createTextBox();\r\n      this.createChoices();\r\n      this.createScore();\r\n    }\r\n    createInstructions() {\r\n      if (score === 0) {\r\n        let img = new createjs.Bitmap(loader.getResult(\"pointer\"));\r\n        img.scaleX = 30 / img.image.width;\r\n        img.scaleY = 30 / img.image.height;\r\n        img.x = phone ? 100 : 250;\r\n        img.y = phone ? stage.canvas.height / 2 : stage.canvas.height * 0.55;\r\n\r\n        let text = new createjs.Text();\r\n        text.text = \"点击图片对应的字在框中\";\r\n        text.font = \"25px Open Sans\";\r\n        text.x = this.stage.canvas.width / 2 + 20 - text.getMeasuredWidth() / 2;\r\n        text.y = phone\r\n          ? this.stage.canvas.height / 2\r\n          : this.stage.canvas.height * 0.55;\r\n        this.stage.addChild(img, text);\r\n      }\r\n    }\r\n    createScore() {\r\n      let text = new createjs.Text(score + \"/10\", \"20px Open Sans\", \"black\");\r\n      text.set({\r\n        x: 100,\r\n        y: 10,\r\n      });\r\n      this.stage.addChild(text);\r\n    }\r\n    createTextBox() {\r\n      let container = new createjs.Container();\r\n      container.name = this.targetItem;\r\n      let shape = new createjs.Shape();\r\n      shape.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n      let text = new createjs.Text(\r\n        this.targetItem,\r\n        \"25px Open Sans\",\r\n        \"lightblack\"\r\n      );\r\n      container.x = this.stage.canvas.width * 0.2;\r\n      container.y = this.stage.canvas.height * 0.1;\r\n      shape.graphics\r\n        .beginFill(\"white\")\r\n        .drawRect(0, 0, this.stage.canvas.width * 0.6, 50);\r\n      container.addChild(shape, text);\r\n      this.stage.addChild(container);\r\n      text.x =\r\n        (this.stage.canvas.width * 0.6) / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = 50 / 2 - text.getMeasuredHeight() / 2;\r\n    }\r\n    createChoices() {\r\n      // Audio is played.\r\n      createjs.Sound.play(this.targetItem + \"mp3\");\r\n      // For each choice, an image is placed on the screen.\r\n      for (let i = 0; i < this.itemOptions.length; i++) {\r\n        // A container to hold the image is placed\r\n        let container = new createjs.Container();\r\n        // The container is named so it can be identified later\r\n        container.name = this.itemOptions[i];\r\n        // A block is created to sit inside the container.\r\n        let shape = new createjs.Shape();\r\n        shape.color = shape.graphics.beginFill(\"white\").command;\r\n        shape.graphics.drawRect(0, 0, 100, 100);\r\n        // An image from a list of pre-loaded assets is created and sized.\r\n        let bitmap = new createjs.Bitmap(loader.getResult(this.itemOptions[i]));\r\n        bitmap.scaleX = 150 / bitmap.image.width;\r\n        bitmap.scaleY = 100 / bitmap.image.height;\r\n        // image is added to the container and the container is placed on the canvas\r\n        \r\n        \r\n\r\n        if (phone) {\r\n          container.y =\r\n            i === 0 || i === 1\r\n              ? this.stage.canvas.height * 0.33 - 50\r\n              : this.stage.canvas.height * 0.66 - 50;\r\n          container.x =\r\n            i === 0 || i === 2\r\n              ? this.stage.canvas.width * 0.25 - 75\r\n              : this.stage.canvas.width * 0.75 - 75;\r\n        } else {\r\n          container.y =\r\n            i === 0 || i === 1\r\n              ? this.stage.canvas.height * 0.4 - 50\r\n              : this.stage.canvas.height * 0.8 - 50;\r\n          container.x =\r\n            i === 0 || i === 2\r\n              ? this.stage.canvas.width * 0.25 - 75\r\n              : this.stage.canvas.width * 0.75 - 75;\r\n        }\r\n        container.on(\"mouseover\", (e) => {\r\n          // e.currentTarget.children[0].scaleX = 1.1;\r\n          // e.currentTarget.children[0].scaleY = 1.1;\r\n          // e.currentTarget.x = e.currentTarget.x - 10;\r\n          // e.currentTarget.y = e.currentTarget.y - 10;\r\n          // e.currentTarget.children[1].scaleX = bitmapRatio;\r\n          // e.currentTarget.children[1].scaleY = bitmapRatio;\r\n        });\r\n        container.on(\"mouseout\", (e) => {\r\n          // e.currentTarget.children[0].scaleX = 1;\r\n          // e.currentTarget.children[0].scaleY = 1;\r\n          // e.currentTarget.x = e.currentTarget.x + 10;\r\n          // e.currentTarget.y = e.currentTarget.y + 10;\r\n          // e.currentTarget.children[1].scaleX = bitmapRatio - 0.1;\r\n          // e.currentTarget.children[1].scaleY = bitmapRatio - 0.1;\r\n        });\r\n        container.on(\"click\", (e) => {\r\n          if (e.currentTarget.name === this.targetItem) {\r\n            score++;\r\n            createjs.Sound.play(e.currentTarget.name + \"mp3\");\r\n            createjs.Tween.get(e.currentTarget).to(\r\n              {\r\n                // scaleX: 1,\r\n                // scaleY: 1,\r\n                x: stage.canvas.width / 2 - 75,\r\n                y: stage.canvas.height / 2 - 50,\r\n              },\r\n              200\r\n            );\r\n            // stage.children.forEach((child) => {\r\n            //   if (child.name !== e.currentTarget.name) {\r\n            //     child.alpha = 0;\r\n            //   }\r\n            // });\r\n            for (let i = stage.numChildren - 1; i >= 0; i--) {\r\n              let child = stage.getChildAt(i);\r\n              if (\r\n                child.name !== e.currentTarget.name &&\r\n                child.name !== \"background\"\r\n              ) {\r\n                stage.removeChild(child);\r\n              }\r\n            }\r\n            container.removeAllEventListeners();\r\n            new Buttons(\r\n              \"Continue\",\r\n              \"white\",\r\n              \"black\",\r\n              20\r\n            ).createNextLevelButton();\r\n          } else {\r\n            wrong++;\r\n            createjs.Tween.get(e.currentTarget).to({ alpha: 0 }, 1000);\r\n          }\r\n          levelStatus = false;\r\n        });\r\n\r\n        container.addChild(bitmap);\r\n        this.stage.addChild(container);\r\n      }\r\n    }\r\n  }\r\n\r\n  // BUTTONS CLASS\r\n  class Buttons {\r\n    constructor(text, shapeColor, textColor, fontSize) {\r\n      this.stage = stage;\r\n      this.text = text;\r\n      this.shapeColor = shapeColor;\r\n      this.textColor = textColor;\r\n      this.fontSize = fontSize;\r\n    }\r\n    createPlayButton() {\r\n      let container = new createjs.Container();\r\n      let shape = new createjs.Shape();\r\n      let text = new createjs.Text(this.text, `50px Open Sans`, this.textColor);\r\n\r\n      let textWidth = text.getMeasuredWidth();\r\n      let textHeight = text.getMeasuredHeight();\r\n      text.x = 0;\r\n      text.y = 0;\r\n      container.x = this.stage.canvas.width / 2 - textWidth / 2;\r\n      container.y = this.stage.canvas.height / 2 - textHeight / 2;\r\n\r\n      shape.color = shape.graphics.beginFill(\"lightblue\").command;\r\n      shape.graphics.drawRect(0, 0, textWidth, textHeight);\r\n\r\n      container.on(\"mouseover\", (e) => {\r\n        shape.color.style = \"red\";\r\n      });\r\n      container.on(\"mouseout\", (e) => {\r\n        shape.color.style = \"lightblue\";\r\n      });\r\n      container.on(\"click\", (e) => {\r\n        gameState = \"RUNLEVEL\";\r\n        runGameLoop();\r\n      });\r\n\r\n      container.addChild(shape, text);\r\n      this.stage.addChild(container);\r\n    }\r\n    createNextLevelButton() {\r\n      const container = generateButtonContainer(\r\n        this.text,\r\n        this.shapeColor,\r\n        this.textColor\r\n      );\r\n      container.on(\"click\", (e) => {\r\n        stage.children.forEach((child) => {\r\n          if (child.name !== \"background\") {\r\n            createjs.Tween.get(child)\r\n              .to({ alpha: 0 }, 300)\r\n              .call(() => {\r\n                runGameLoop();\r\n              });\r\n          }\r\n        });\r\n      });\r\n      stage.addChild(container);\r\n    }\r\n  }\r\n\r\n  const generateButtonContainer = (textContent, shapeColor, textColor) => {\r\n    const container = new createjs.Container();\r\n    const shape = new createjs.Shape();\r\n    const text = new createjs.Text(textContent, \"20px Open Sans\", \"black\");\r\n    text.x = 200 / 2 - text.getMeasuredWidth() / 2;\r\n    text.y = 50 / 2 - text.getMeasuredHeight() / 2;\r\n    shape.color = shape.graphics.beginFill(\"lightgreen\").command;\r\n    shape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n    container.x = stage.canvas.width / 2 - 100;\r\n    container.y = phone ? 200 : 130;\r\n    container.alpha = 0;\r\n    createjs.Tween.get(container).to({ alpha: 1 }, 500);\r\n    container.addChild(shape, text);\r\n    return container;\r\n  };\r\n\r\n  function resizeCanvas() {\r\n    if (window.innerWidth >= window.innerHeight) {\r\n      phone = false;\r\n      canvasRef.current.width = 800;\r\n      canvasRef.current.height = 550;\r\n\r\n      let widthToHeight = 800 / 550;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    } else {\r\n      phone = true;\r\n      canvasRef.current.width = canvasRef ? 550 : null;\r\n      canvasRef.current.height = canvasRef ? 800 : null;\r\n      let widthToHeight = 550 / 800;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    init();\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      createjs.Sound.removeAllSounds();\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"canvas-holder\">\r\n      <canvas\r\n        id=\"canvas2\"\r\n        ref={canvasRef}\r\n        width=\"800px\"\r\n        height=\"550px\"\r\n      ></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, (dispatch) => ({\r\n  addScore: (score, gameName) => dispatch(addScores(score, gameName)),\r\n}))(NounsGame);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  checker,\r\n  collision,\r\n  mouseObjCollision,\r\n  placeBox,\r\n  selectRandomFromArray,\r\n  shuffle,\r\n} from \"./util\";\r\nimport { addScores } from \"../../redux/API/API.actions\";\r\n\r\nconst Sentences = ({ addScore }) => {\r\n  const containerRef = React.useRef(null);\r\n  const canvasRef = React.useRef(null);\r\n  const createjs = window.createjs;\r\n  const manifest = [\r\n    {\r\n      id: \"present_apples\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_apples.jpg\",\r\n    },\r\n    {\r\n      id: \"present_bananas\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_bananas.png\",\r\n    },\r\n    {\r\n      id: \"present_water\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/sentences/present/present_water.jpg\",\r\n    },\r\n    {\r\n      id: \"Japan\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/japan.png\",\r\n    },\r\n    {\r\n      id: \"Spain\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/spain.png\",\r\n    },\r\n    {\r\n      id: \"AnimalsCat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/animalcat.png\",\r\n    },\r\n    {\r\n      id: \"CountriesCat\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/countriesCat+(1).png\",\r\n    },\r\n    {\r\n      id: \"speech\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png\",\r\n    },\r\n  ];\r\n\r\n  let selectedCategory;\r\n  let stage, phone, loader, percentLoaded, offset;\r\n  let correctBoxes = 0;\r\n  let gameState = \"LOADING\";\r\n  let categories = [\"Present Simple\", \"Past Simple\", \"Future Simple\"];\r\n  let gameLevel = 10;\r\n  let presentSimple = [\r\n    { sentence: [\"I\", \"eat\", \"apples\"], imgID: \"present_apples\" },\r\n    { sentence: [\"He\", \"eats\", \"bananas\"], imgID: \"present_bananas\" },\r\n    { sentence: [\"We\", \"drink\", \"water\"], imgID: \"present_water\" },\r\n  ];\r\n  let currentBoxes = [];\r\n  let currentWords = [];\r\n  let incorrectGuesses = 0;\r\n  let correctGuesses = 0;\r\n\r\n  const init = () => {\r\n    stage = new createjs.Stage(canvasRef.current);\r\n    stage.enableMouseOver(10);\r\n    createjs.Touch.enable(stage, false, true);\r\n    createjs.Ticker.framerate = 30;\r\n    createjs.Ticker.addEventListener(\"tick\", stage);\r\n\r\n    createjs.Sound.volume = 0.5;\r\n    loader = new createjs.LoadQueue(false, null, true);\r\n    loader.installPlugin(createjs.Sound);\r\n    loader.loadManifest(manifest);\r\n    loader.addEventListener(\"error\", function (e) {\r\n      console.log(e);\r\n    });\r\n    loader.on(\"progress\", (e) => {\r\n      let loadingProgress = Math.round(loader.progress * 100);\r\n      percentLoaded = loadingProgress;\r\n      runLoadingScreen();\r\n    });\r\n    loader.on(\"complete\", (e) => {\r\n      gameState = \"LOADED\";\r\n      runGameLoop();\r\n    });\r\n    window.addEventListener(\"resize\", handleResize);\r\n    resizeCanvas();\r\n  };\r\n\r\n  // ##################################### Game loop functions ###########################################\r\n\r\n  const runLoadingScreen = () => {\r\n    let loadingScreen = new LoadingScreen(percentLoaded);\r\n    loadingScreen.runLoadingScreen();\r\n  };\r\n\r\n  const runCategoriesScreen = () => {\r\n    let categoriesScreen = new CategoriesScreen();\r\n    categoriesScreen.runCategoriesScreen();\r\n  };\r\n\r\n  const runLevelScreen = () => {\r\n    let levelScreen = new LevelScreen();\r\n    levelScreen.displayLevelScreen();\r\n  };\r\n\r\n  const runEndLevelScreen = () => {\r\n    let endLevelScreen = new EndLevelScreen();\r\n    endLevelScreen.displayEndLevel();\r\n  };\r\n\r\n  // ###################################### Game classes #################################################\r\n\r\n  class Screen {\r\n    createBackground() {\r\n      let background = new createjs.Shape();\r\n      background.name = \"background\";\r\n      background.graphics\r\n        .beginLinearGradientFill(\r\n          [\"#36d1dc \", \"#5b86e5\"],\r\n          [0, 0.5, 1],\r\n          0,\r\n          200,\r\n          0,\r\n          600\r\n        )\r\n        .drawRect(0, 0, stage.canvas.width, stage.canvas.height);\r\n      stage.addChild(background);\r\n    }\r\n  }\r\n\r\n  class LoadingScreen extends Screen {\r\n    createLoadingStatusText() {\r\n      let progressContainer = new createjs.Container();\r\n      progressContainer.x = stage.canvas.width / 2 - (25 * 10.5) / 2 - 15;\r\n      progressContainer.y = stage.canvas.height / 2 - 30 / 2;\r\n      let progressBox = new createjs.Shape();\r\n      progressBox.graphics.beginFill(\"\");\r\n      progressBox.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n      progressBox.graphics.drawRect(20, 0, 25 * 10.5, 30);\r\n\r\n      progressContainer.addChild(progressBox);\r\n      let progressStage = Math.floor(percentLoaded / 10);\r\n      for (let i = 1; i <= progressStage; i++) {\r\n        let block = new createjs.Shape();\r\n        block.graphics.beginFill(\"black\").drawRect(i * 25, 5, 20, 20);\r\n        progressContainer.addChild(block);\r\n      }\r\n\r\n      let text = new createjs.Text(\r\n        `${percentLoaded}%`,\r\n        \"50px Open Sans\",\r\n        \"black\"\r\n      );\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.55;\r\n\r\n      const messageText = new createjs.Text();\r\n      messageText.text = \"Loading / 加载中\";\r\n      messageText.font = \"25px Open Sans\";\r\n      messageText.x =\r\n        stage.canvas.width / 2 - messageText.getMeasuredWidth() / 2;\r\n      messageText.y = stage.canvas.height * 0.4;\r\n      stage.addChild(text, messageText, progressContainer);\r\n    }\r\n    runLoadingScreen() {\r\n      this.createBackground();\r\n      this.createLoadingStatusText();\r\n    }\r\n  }\r\n\r\n  class CategoriesScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.categories = categories;\r\n    }\r\n    showCategories() {\r\n      let categoryContainers = [];\r\n      let categoryCoordinates = [\r\n        {\r\n          x: phone ? stage.canvas.width * 0.1 : stage.canvas.width * 0.05,\r\n          y: stage.canvas.height * 0.4,\r\n        },\r\n        {\r\n          x: phone ? stage.canvas.width * 0.55 : stage.canvas.width * 0.375,\r\n          y: stage.canvas.height * 0.4,\r\n        },\r\n        {\r\n          x: phone ? stage.canvas.width * 0.325 : stage.canvas.width * 0.7,\r\n          y: phone ? stage.canvas.height * 0.525 : stage.canvas.height * 0.4,\r\n        },\r\n      ];\r\n      for (let i = 0; i < this.categories.length; i++) {\r\n        let categoryContainer = new createjs.Container();\r\n        let categoryShape = new createjs.Shape();\r\n        let categoryText = new createjs.Text();\r\n\r\n        // Styling the text\r\n        categoryText.text = categories[i];\r\n        categoryText.font = \"27px Open Sans\";\r\n        categoryText.x = 200 / 2 - categoryText.getMeasuredWidth() / 2;\r\n        categoryText.y = 50 / 2 - categoryText.getMeasuredHeight() / 2;\r\n\r\n        // Styling the shape\r\n        categoryShape.color =\r\n          categoryShape.graphics.beginFill(\"lightblue\").command;\r\n        categoryShape.graphics.setStrokeStyle(4).beginStroke(\"black\");\r\n        categoryShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n        // Positioning and naming the container\r\n        categoryContainer.x = categoryCoordinates[i].x;\r\n        categoryContainer.y = categoryCoordinates[i].y;\r\n        categoryContainer.name = categories[i];\r\n        categoryContainer.alpha = 0;\r\n        createjs.Tween.get(categoryContainer).to({ alpha: 1 }, 300);\r\n\r\n        // Mouseover event listeners\r\n        categoryContainer.on(\"mouseover\", (e) => {\r\n          categoryShape.color.style = \"red\";\r\n        });\r\n\r\n        categoryContainer.on(\"mouseout\", (e) => {\r\n          categoryShape.color.style = \"lightblue\";\r\n        });\r\n\r\n        categoryContainer.on(\"click\", (e) => {\r\n          gameState = \"RUN_LEVEL\";\r\n          selectedCategory = categoryContainer.name;\r\n          fadeOutChildren(300);\r\n          setTimeout(() => {\r\n            runGameLoop();\r\n          }, 300);\r\n        });\r\n\r\n        categoryContainer.addChild(categoryShape, categoryText);\r\n        stage.addChild(categoryContainer);\r\n      }\r\n    }\r\n    showCategoriesText() {\r\n      const text = new createjs.Text();\r\n      text.text = \"Choose a category\";\r\n      text.font = \"30px Open Sans\";\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.25;\r\n\r\n      stage.addChild(text);\r\n    }\r\n    runCategoriesScreen() {\r\n      this.createBackground();\r\n      this.showCategoriesText();\r\n      this.showCategories();\r\n    }\r\n  }\r\n\r\n  class LevelScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.currentWords = [];\r\n      this.currentBoxes = [];\r\n      this.playerWords = [];\r\n      this.imgID = \"\";\r\n    }\r\n    selectRandomSentence() {\r\n      if (selectedCategory === \"Present Simple\") {\r\n        const randomLevel = selectRandomFromArray(presentSimple);\r\n        const randomSentence = randomLevel.sentence;\r\n        this.imgID = randomLevel.imgID;\r\n        const randomSentenceClone = [...randomSentence];\r\n        const shuffledArray = shuffle(randomSentenceClone);\r\n        // Assign to class\r\n        this.randomSentence = randomSentence;\r\n        this.shuffledArray = shuffledArray;\r\n      }\r\n    }\r\n    buildPlayerWordsArray() {\r\n      this.currentWords.forEach(() => this.playerWords.push(\"\"));\r\n    }\r\n    createEmpytyBoxes() {\r\n      // Create a container for each word in the target sentence.\r\n      for (let i = 0; i < this.randomSentence.length; i++) {\r\n        // Create a container that holds everything for each word\r\n        const boxContainer = new createjs.Container();\r\n        boxContainer.name = this.randomSentence[i] + \"_box\";\r\n        boxContainer.alpha = 0;\r\n        createjs.Tween.get(boxContainer).to({ alpha: 1 }, 300);\r\n        const boxContainerCoordinates = placeBox(\r\n          this.randomSentence.length,\r\n          i,\r\n          stage,\r\n          phone,\r\n          \"box\"\r\n        );\r\n        boxContainer.x = boxContainerCoordinates.x;\r\n        boxContainer.y = boxContainerCoordinates.y;\r\n        boxContainer.setBounds(\r\n          boxContainer.x,\r\n          boxContainer.y,\r\n          phone ? 130 : 150,\r\n          50\r\n        );\r\n        // Create the background\r\n        const boxShape = new createjs.Shape();\r\n        boxShape.color = boxShape.graphics.beginFill(\"white\").command;\r\n        boxShape.stroke = boxShape.graphics\r\n          .setStrokeStyle(2)\r\n          .beginStroke(\"black\").command;\r\n        boxShape.graphics.drawRect(0, 0, phone ? 130 : 150, 50);\r\n\r\n        boxContainer.addChild(boxShape);\r\n\r\n        this.currentBoxes.push(boxContainer);\r\n      }\r\n    }\r\n    displayRandomWords() {\r\n      for (let i = 0; i < this.shuffledArray.length; i++) {\r\n        // Create random word container\r\n        const wordContainer = new createjs.Container();\r\n        wordContainer.name = this.shuffledArray[i] + \"_word\";\r\n        let coordinates = placeBox(\r\n          this.shuffledArray.length,\r\n          i,\r\n          stage,\r\n          phone,\r\n          \"word\"\r\n        );\r\n        wordContainer.x = coordinates.x;\r\n        wordContainer.y = coordinates.y;\r\n        wordContainer.setBounds(\r\n          wordContainer.x,\r\n          wordContainer.y,\r\n          phone ? 130 : 150,\r\n          50\r\n        );\r\n        // Create word shape\r\n        const wordShape = new createjs.Shape();\r\n        wordShape.color = wordShape.graphics.beginFill(\"lightblue\").command;\r\n        wordShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n        wordShape.graphics.drawRect(0, 0, phone ? 130 : 150, 50);\r\n        // Create word text\r\n        const wordText = new createjs.Text();\r\n        wordText.text = this.shuffledArray[i];\r\n        wordText.font = phone ? \"25px Open Sans\" : \"30px Open Sans\";\r\n\r\n        wordText.x = phone\r\n          ? 130 / 2 - wordText.getMeasuredWidth() / 2\r\n          : 150 / 2 - wordText.getMeasuredWidth() / 2;\r\n        wordText.y = 50 / 2 - wordText.getMeasuredHeight() / 2;\r\n\r\n        wordContainer.addChild(wordShape, wordText);\r\n        // Add dragging event listener\r\n\r\n        this.currentWords.push(wordContainer);\r\n      }\r\n    }\r\n    displayInstructions() {\r\n      if (gameLevel == 1) {\r\n        let img = new createjs.Bitmap(loader.getResult(\"speech\"));\r\n        let container = new createjs.Container();\r\n        img.scaleX = 250 / img.image.width;\r\n        img.scaleY = 120 / img.image.height;\r\n        container.x = phone\r\n          ? stage.canvas.width * 0.5 - 125\r\n          : stage.canvas.width * 0.66;\r\n        container.y = phone\r\n          ? stage.canvas.height * 0.7\r\n          : stage.canvas.height * 0.2;\r\n\r\n        let text_one = new createjs.Text();\r\n        text_one.lineWidth = 150;\r\n        text_one.text = \"拖放单词将它们按 正确的顺序排列\";\r\n        text_one.font = \"20px Open Sans\";\r\n        \r\n        text_one.x = 45;\r\n        text_one.y = 40;\r\n        container.addChild(img, text_one);\r\n        stage.addChild(container);\r\n      }\r\n    }\r\n    displayLevelImage() {\r\n      const imageContainer = new createjs.Container();\r\n\r\n      const image = new createjs.Bitmap(loader.getResult(this.imgID));\r\n      image.scaleX = 250 / image.image.width;\r\n      image.scaleY = 250 / image.image.height;\r\n      imageContainer.x = stage.canvas.width * 0.5 - 250 / 2;\r\n      imageContainer.y = phone ? 50 : 10;\r\n      imageContainer.addChild(image);\r\n      stage.addChild(imageContainer);\r\n    }\r\n    handleMovement() {\r\n      for (let i = 0; i < this.currentBoxes.length; i++) {\r\n        stage.addChild(this.currentBoxes[i]);\r\n      }\r\n      for (let i = 0; i < this.currentWords.length; i++) {\r\n        stage.addChild(this.currentWords[i]);\r\n      }\r\n      for (let i = 0; i < this.currentWords.length; i++) {\r\n        let origX;\r\n        let origY;\r\n\r\n        this.currentWords[i].on(\"mousedown\", (e) => {\r\n          origX = e.currentTarget.x;\r\n          origY = e.currentTarget.y;\r\n\r\n          offset = {\r\n            x: this.currentWords[i].x - e.stageX,\r\n            y: this.currentWords[i].y - e.stageY,\r\n          };\r\n          stage.setChildIndex(this.currentWords[i], stage.getNumChildren() - 1);\r\n        });\r\n\r\n        this.currentWords[i].on(\"pressmove\", (e) => {\r\n          e.currentTarget.x = e.stageX + offset.x;\r\n          e.currentTarget.y = e.stageY + offset.y;\r\n\r\n          for (let j = 0; j < this.currentBoxes.length; j++) {\r\n            if (mouseObjCollision(e.stageX, e.stageY, this.currentBoxes[j])) {\r\n            }\r\n          }\r\n        });\r\n\r\n        this.currentWords[i].on(\"pressup\", (e) => {\r\n          for (let j = 0; j < this.currentBoxes.length; j++) {\r\n            if (mouseObjCollision(e.stageX, e.stageY, this.currentBoxes[j])) {\r\n              if (this.playerWords[j] !== \"\") {\r\n                this.currentWords[i].x = origX;\r\n                this.currentWords[i].y = origY;\r\n              }\r\n              if (this.playerWords[j] === \"\") {\r\n                this.currentWords[i].x = this.currentBoxes[j].x;\r\n                this.currentWords[i].y = this.currentBoxes[j].y;\r\n                this.playerWords[j] = this.currentWords[i].name.slice(0, -5);\r\n                this.currentWords[i].removeAllEventListeners();\r\n              }\r\n            }\r\n          }\r\n          if (checker(this.playerWords)) {\r\n            if (this.checkAnswers()) {\r\n              correctGuesses++;\r\n              this.showCorrect();\r\n            }\r\n            if (!this.checkAnswers()) {\r\n              incorrectGuesses++;\r\n              this.showIncorrect();\r\n            }\r\n          }\r\n          if (!checker(this.playerWords)) {\r\n            console.log(\"Not correct\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    showCorrect() {\r\n      this.currentBoxes.forEach((box) => {\r\n        box.children[0].stroke.style = \"green\";\r\n      });\r\n      const text = new createjs.Text();\r\n      text.text = \"Correct!\";\r\n      text.font = \"20px Open Sans\";\r\n      text.x = stage.canvas.width * 0.5 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.625;\r\n      text.alpha = 0;\r\n      createjs.Tween.get(text).to({ alpha: 1 }, 300);\r\n      stage.addChild(text);\r\n\r\n      const buttonContainer = new createjs.Container();\r\n      buttonContainer.x = stage.canvas.width / 2 - 75;\r\n      buttonContainer.y = stage.canvas.height * 0.7;\r\n      const buttonText = new createjs.Text();\r\n      buttonText.text = \"Continue\";\r\n      buttonText.font = \"20px Open Sans\";\r\n\r\n      const buttonShape = new createjs.Shape();\r\n      buttonShape.color = buttonShape.graphics.beginFill(\"pink\").command;\r\n      buttonShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      buttonShape.graphics.drawRect(0, 0, 150, 50);\r\n      buttonContainer.addChild(buttonShape, buttonText);\r\n\r\n      buttonText.x = 150 / 2 - buttonText.getMeasuredWidth() / 2;\r\n      buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n      buttonContainer.on(\"mouseover\", (e) => {\r\n        buttonShape.color.style = \"red\";\r\n      });\r\n      buttonContainer.on(\"mouseout\", (e) => {\r\n        buttonShape.color.style = \"pink\";\r\n      });\r\n\r\n      buttonContainer.on(\"click\", (e) => {\r\n        fadeOutChildren(300);\r\n        setTimeout(() => {\r\n          stage.removeAllChildren();\r\n          gameLevel++;\r\n          if (gameLevel === 11) gameState = \"RUN_END_LEVEL\";\r\n          this.currentWords = [];\r\n          this.currentBoxes = [];\r\n          this.playerWords = [];\r\n          runGameLoop();\r\n        }, 500);\r\n      });\r\n\r\n      stage.addChild(buttonContainer);\r\n      //fadeOutChildren(300)\r\n      // setTimeout(() => {\r\n      //   stage.removeAllChildren();\r\n      //   this.currentWords = [];\r\n      //   this.currentBoxes = [];\r\n      //   this.playerWords = [];\r\n      //   runGameLoop();\r\n      // }, 1000);\r\n    }\r\n    showIncorrect() {\r\n      this.currentBoxes.forEach((box) => {\r\n        console.log(box.children[0]);\r\n        box.children[0].stroke.style = \"red\";\r\n      });\r\n      // Add incorrect text\r\n      const text = new createjs.Text();\r\n      text.text = \"不对， 在试一试\";\r\n      text.font = \"20px Open Sans\";\r\n      text.x = stage.canvas.width * 0.5 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.625;\r\n      text.alpha = 0;\r\n      createjs.Tween.get(text).to({ alpha: 1 }, 300);\r\n      stage.addChild(text);\r\n      setTimeout(() => {\r\n        stage.removeAllChildren();\r\n        this.currentWords = [];\r\n        this.currentBoxes = [];\r\n        this.playerWords = [];\r\n        this.replayLevel();\r\n      }, 2000);\r\n    }\r\n    checkAnswers() {\r\n      return this.playerWords.every(\r\n        (value, index) => value === this.randomSentence[index]\r\n      );\r\n    }\r\n    displayCurrentLevel() {\r\n      const levelText = new createjs.Text();\r\n      levelText.text = `${gameLevel}/10`;\r\n      levelText.font = \"20px Open Sans\";\r\n      levelText.x = 10;\r\n      levelText.y = 10;\r\n      stage.addChild(levelText);\r\n    }\r\n    replayLevel() {\r\n      this.createBackground();\r\n      this.displayInstructions()\r\n      this.displayCurrentLevel();\r\n      this.createEmpytyBoxes();\r\n      this.displayLevelImage();\r\n      this.displayRandomWords();\r\n      this.buildPlayerWordsArray();\r\n      this.handleMovement();\r\n    }\r\n    displayLevelScreen() {\r\n      this.createBackground();\r\n      this.displayInstructions()\r\n      this.displayCurrentLevel();\r\n      this.selectRandomSentence();\r\n      this.displayLevelImage();\r\n      this.createEmpytyBoxes();\r\n      this.displayRandomWords();\r\n      this.buildPlayerWordsArray();\r\n      this.handleMovement();\r\n    }\r\n  }\r\n\r\n  class EndLevelScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n    }\r\n    displayText() {\r\n      const text = new createjs.Text();\r\n      text.text = \"Game complete\";\r\n      text.font = \"25px Open Sans\";\r\n      text.x = stage.canvas.width * 0.5 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.5 - text.getMeasuredHeight() / 2;\r\n\r\n      const score = new createjs.Text();\r\n      score.text = \"Score: \" + calculateError();\r\n      score.font = \"20px Open Sans\";\r\n      score.x = score.x =\r\n        stage.canvas.width * 0.5 - score.getMeasuredWidth() / 2;\r\n      score.y = stage.canvas.height * 0.6 - score.getMeasuredHeight() / 2;\r\n\r\n      const buttonContainer = new createjs.Container();\r\n      buttonContainer.x = stage.canvas.width / 2 - 75;\r\n      buttonContainer.y = stage.canvas.height * 0.7;\r\n      const buttonText = new createjs.Text();\r\n      buttonText.text = \"Play again\";\r\n      buttonText.font = \"20px Open Sans\";\r\n      buttonText.x = 150 / 2 - buttonText.getMeasuredWidth() / 2;\r\n      buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n      const buttonShape = new createjs.Shape();\r\n      buttonShape.color = buttonShape.graphics.beginFill(\"pink\").command;\r\n      buttonShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      buttonShape.graphics.drawRect(0, 0, 150, 50);\r\n      buttonContainer.addChild(buttonShape, buttonText);\r\n\r\n      buttonContainer.on(\"click\", (e) => {\r\n        addScore(calculateError(), \"Sentences\");\r\n        gameLevel = 1;\r\n        correctGuesses = 0;\r\n        incorrectGuesses = 0;\r\n        gameState = \"LOADED\";\r\n        runGameLoop();\r\n      });\r\n\r\n      stage.addChild(text, score, buttonContainer);\r\n    }\r\n    displayEndLevel() {\r\n      this.createBackground();\r\n      this.displayText();\r\n    }\r\n  }\r\n\r\n  const runGameLoop = () => {\r\n    switch (gameState) {\r\n      case \"LOADING\":\r\n        runLoadingScreen();\r\n        break;\r\n      case \"LOADED\":\r\n        runCategoriesScreen();\r\n        break;\r\n      case \"RUN_LEVEL\":\r\n        runLevelScreen();\r\n        break;\r\n      case \"RUN_END_LEVEL\":\r\n        runEndLevelScreen();\r\n        break;\r\n      default:\r\n        console.log(\"default_ran\");\r\n    }\r\n  };\r\n\r\n  // #################################### Util functions ############################################\r\n\r\n  const fadeOutChildren = (time) => {\r\n    stage.children.forEach((child) => {\r\n      child.name !== \"background\" &&\r\n        createjs.Tween.get(child).to({ alpha: 0 }, time);\r\n    });\r\n  };\r\n  const calculateError = () => {\r\n    return (correctGuesses / (correctGuesses + incorrectGuesses)) * 100;\r\n  };\r\n  const handleResize = (e) => {\r\n    window.innerWidth < 900 ? (phone = true) : (phone = false);\r\n    stage.removeAllEventListeners(\"click\");\r\n    stage.removeAllChildren();\r\n    currentBoxes = [];\r\n    currentWords = [];\r\n    resizeCanvas();\r\n    runGameLoop();\r\n  };\r\n\r\n  function resizeCanvas() {\r\n    if (window.innerWidth >= 800) {\r\n      phone = false;\r\n      canvasRef.current.width = 800;\r\n      canvasRef.current.height = 550;\r\n\r\n      let widthToHeight = 800 / 550;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    } else {\r\n      phone = true;\r\n      canvasRef.current.width = canvasRef ? 550 : null;\r\n      canvasRef.current.height = canvasRef ? 800 : null;\r\n      let widthToHeight = 550 / 800;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    init();\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  });\r\n  return (\r\n    <div ref={containerRef} className=\"canvas-holder\">\r\n      <canvas\r\n        id=\"canvas2\"\r\n        ref={canvasRef}\r\n        width=\"800px\"\r\n        height=\"550px\"\r\n      ></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, (dispatch) => ({\r\n  addScore: (score, gameName) => dispatch(addScores(score, gameName)),\r\n}))(Sentences);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addScores } from \"../../redux/API/API.actions\";\r\nimport {\r\n  calcKeyYPosition,\r\n  computerKeyboard,\r\n  phoneKeyboard,\r\n  selectRandomFromArray,\r\n} from \"./util\";\r\n\r\nconst Spelling = ({ addScore }) => {\r\n  const containerRef = React.useRef(null);\r\n  const canvasRef = React.useRef(null);\r\n  const createjs = window.createjs;\r\n  const manifest = [\r\n    {\r\n      id: \"rabbitmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/rabbitmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"bluemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/bluemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"mongoosemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/mongoosemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"redmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/redmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"redIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/redIMG.jpg\",\r\n    },\r\n    {\r\n      id: \"blueIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/blueIMG.jpg\",\r\n    },\r\n    {\r\n      id: \"audioIcon\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/audioIcon.png\",\r\n    },\r\n    {\r\n      id: \"home\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/nouns/images/n1612275.png\",\r\n    },\r\n    {\r\n      id: \"speech\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png\",\r\n    },\r\n    {\r\n      id: \"yellowIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/yellowIMG.png\",\r\n    },\r\n    {\r\n      id: \"greenIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/greenIMG.png\",\r\n    },\r\n    {\r\n      id: \"brownIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/brownIMG.png\",\r\n    },\r\n    {\r\n      id: \"greyIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/greyIMG.png\",\r\n    },\r\n    {\r\n      id: \"purpleIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/purpleIMG.png\",\r\n    },\r\n\r\n    {\r\n      id: \"pinkIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/pinkIMG.png\",\r\n    },\r\n    {\r\n      id: \"orangeIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/orangeIMG.png\",\r\n    },\r\n    {\r\n      id: \"blackIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/blackIMG.png\",\r\n    },\r\n    {\r\n      id: \"whiteIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/whiteIMG.bmp\",\r\n    },\r\n    {\r\n      id: \"yellowmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/yellowmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"greenmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/greenmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"brownmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/brownmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"greymp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/greymp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"purplemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/purplemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"pinkmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/pinkmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"orangemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/orangemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"blackmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/blackmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"whitemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/whitemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"batIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/batIMG.png\",\r\n    },\r\n    {\r\n      id: \"bearIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/bearIMG.png\",\r\n    },\r\n    {\r\n      id: \"beaverIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/beaverIMG.png\",\r\n    },\r\n    {\r\n      id: \"birdIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/birdIMG.png\",\r\n    },\r\n    {\r\n      id: \"camelIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/camelIMG.png\",\r\n    },\r\n    {\r\n      id: \"catIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/catIMG.png\",\r\n    },\r\n    {\r\n      id: \"chickenIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/chickenIMG.png\",\r\n    },\r\n    {\r\n      id: \"cowIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/cowIMG.png\",\r\n    },\r\n    {\r\n      id: \"crabIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/crabIMG.png\",\r\n    },\r\n    {\r\n      id: \"dogIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/dogIMG.png\",\r\n    },\r\n    {\r\n      id: \"elephantIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/elephantIMG.png\",\r\n    },\r\n    {\r\n      id: \"monkeyIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/monkeyIMG.jpg\",\r\n    },\r\n    {\r\n      id: \"pigIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/pigIMG.png\",\r\n    },\r\n    {\r\n      id: \"fishIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/fishIMG.png\",\r\n    },\r\n    {\r\n      id: \"lionIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/lionIMG.png\",\r\n    },\r\n    {\r\n      id: \"sheepIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/sheepIMG.png\",\r\n    },\r\n    {\r\n      id: \"whaleIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/whaleIMG.png\",\r\n    },\r\n    {\r\n      id: \"foxIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/spelling/images/foxIMG.png\",\r\n    },\r\n    {\r\n      id: \"batmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Batmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"bearmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Bearmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"beavermp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Beavermp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"birdmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Birdmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"camelmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Camelmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"catmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Catmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"chickenmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Chickenmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"cowmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Cowmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"crabmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Crabmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"dogmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Dogmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"elephantmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Elephantmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"monkeymp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Monkeymp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"pigmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Pigmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"fishmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Fishmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"lionmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Lionmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"sheepmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Sheepmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"whalemp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Whalemp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    },\r\n    {\r\n      id: \"foxmp3\",\r\n      type: createjs.Types.SOUND,\r\n      src: {\r\n        mp3: \"https://f000.backblazeb2.com/file/audio1262/spelling/sounds/Foxmp3.mp3\",\r\n        ogg: \"noExtensionOggFile\",\r\n      },\r\n    }\r\n  ];\r\n  let phone, stage, loader;\r\n  let percentLoaded = 0;\r\n  let gameState = \"LOADING\";\r\n  let categories = [\"Animals\", \"Colours\"];\r\n  let words = {\r\n    Animals: [\r\n      \"bat\",\r\n      \"bear\",\r\n      \"beaver\",\r\n      \"bird\",\r\n      \"camel\",\r\n      \"cat\",\r\n      \"chicken\",\r\n      \"cow\",\r\n      \"crab\",\r\n      \"dog\",\r\n      \"elephant\",\r\n      \"monkey\",\r\n      \"pig\",\r\n      \"fish\",\r\n      \"lion\",\r\n      \"sheep\",\r\n      \"whale\",\r\n      \"fox\",\r\n    ],\r\n    Colours: [\r\n      \"blue\",\r\n      \"red\",\r\n      \"yellow\",\r\n      \"green\",\r\n      \"brown\",\r\n      \"grey\",\r\n      \"purple\",\r\n      \"pink\",\r\n      \"orange\",\r\n      \"black\",\r\n      \"white\",\r\n    ],\r\n  };\r\n  let incorrectGuesses = 0;\r\n  let correctGuesses = 0;\r\n  let currentLevel = 9;\r\n\r\n  let selectedCategory;\r\n  const init = () => {\r\n    stage = new createjs.Stage(canvasRef.current);\r\n    stage.enableMouseOver(10);\r\n    createjs.Touch.enable(stage, false, true);\r\n    createjs.Ticker.framerate = 30;\r\n    createjs.Ticker.addEventListener(\"tick\", stage);\r\n\r\n    createjs.Sound.volume = 0.5;\r\n    loader = new createjs.LoadQueue(false, null, true);\r\n    loader.loadManifest(manifest);\r\n    loader.installPlugin(createjs.Sound);\r\n    loader.addEventListener(\"error\", function (e) {\r\n      console.log(e);\r\n    });\r\n    loader.on(\"progress\", (e) => {\r\n      let loadingProgress = Math.round(loader.progress * 100);\r\n      percentLoaded = loadingProgress;\r\n      runLoadingScreen();\r\n    });\r\n    loader.on(\"complete\", (e) => {\r\n      gameState = \"LOADED\";\r\n      runGameLoop();\r\n    });\r\n    window.addEventListener(\"resize\", handleResize);\r\n    resizeCanvas();\r\n  };\r\n\r\n  // screen functions\r\n  const runLoadingScreen = () => {\r\n    let loadingScreen = new LoadingScreen(percentLoaded);\r\n    loadingScreen.runLoadingScreen();\r\n  };\r\n  const runCategoriesScreen = () => {\r\n    let categoriesScreen = new CategoriesScreen();\r\n    categoriesScreen.runCategoriesScreen();\r\n  };\r\n  const runLevelScreen = () => {\r\n    let levelScreen = new LevelScreen();\r\n    levelScreen.runLevelScreen();\r\n  };\r\n\r\n  const runEndScreen = () => {\r\n    let endGameScreen = new EndGameScreen();\r\n    endGameScreen.runEndGame();\r\n  };\r\n\r\n  // screen classes\r\n  class Screen {\r\n    createBackground() {\r\n      let background = new createjs.Shape();\r\n      background.name = \"background\";\r\n      background.graphics\r\n        .beginLinearGradientFill(\r\n          [\"#36d1dc \", \"#5b86e5\"],\r\n          [0, 0.5, 1],\r\n          0,\r\n          200,\r\n          0,\r\n          600\r\n        )\r\n        .drawRect(0, 0, stage.canvas.width, stage.canvas.height);\r\n      stage.addChild(background);\r\n    }\r\n  }\r\n\r\n  class LoadingScreen extends Screen {\r\n    createLoadingStatusText() {\r\n      let progressContainer = new createjs.Container();\r\n      progressContainer.x = stage.canvas.width / 2 - (25 * 10.5) / 2 - 15;\r\n      progressContainer.y = stage.canvas.height / 2 - 30 / 2;\r\n      let progressBox = new createjs.Shape();\r\n      progressBox.graphics.beginFill(\"\");\r\n      progressBox.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n      progressBox.graphics.drawRect(20, 0, 25 * 10.5, 30);\r\n\r\n      progressContainer.addChild(progressBox);\r\n      let progressStage = Math.floor(percentLoaded / 10);\r\n      for (let i = 1; i <= progressStage; i++) {\r\n        let block = new createjs.Shape();\r\n        block.graphics.beginFill(\"black\").drawRect(i * 25, 5, 20, 20);\r\n        progressContainer.addChild(block);\r\n      }\r\n\r\n      let text = new createjs.Text(\r\n        `${percentLoaded}%`,\r\n        \"50px Open Sans\",\r\n        \"black\"\r\n      );\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.55;\r\n\r\n      const messageText = new createjs.Text();\r\n      messageText.text = \"Loading / 加载中\";\r\n      messageText.font = \"25px Open Sans\";\r\n      messageText.x =\r\n        stage.canvas.width / 2 - messageText.getMeasuredWidth() / 2;\r\n      messageText.y = stage.canvas.height * 0.4;\r\n      stage.addChild(text, messageText, progressContainer);\r\n    }\r\n    runLoadingScreen() {\r\n      this.createBackground();\r\n      this.createLoadingStatusText();\r\n    }\r\n  }\r\n  class CategoriesScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.categories = categories;\r\n    }\r\n    showCategories() {\r\n      let categoryContainers = [];\r\n      let categoryCoordinates = [\r\n        {\r\n          x: phone ? stage.canvas.width * 0.1 : stage.canvas.width * 0.05,\r\n          y: stage.canvas.height * 0.4,\r\n        },\r\n        {\r\n          x: phone ? stage.canvas.width * 0.55 : stage.canvas.width * 0.375,\r\n          y: stage.canvas.height * 0.4,\r\n        },\r\n        {\r\n          x: phone ? stage.canvas.width * 0.325 : stage.canvas.width * 0.7,\r\n          y: phone ? stage.canvas.height * 0.525 : stage.canvas.height * 0.4,\r\n        },\r\n      ];\r\n      for (let i = 0; i < this.categories.length; i++) {\r\n        let categoryContainer = new createjs.Container();\r\n        let categoryShape = new createjs.Shape();\r\n        let categoryText = new createjs.Text();\r\n\r\n        // Styling the text\r\n        categoryText.text = categories[i];\r\n        categoryText.font = \"27px Open Sans\";\r\n        categoryText.x = 200 / 2 - categoryText.getMeasuredWidth() / 2;\r\n        categoryText.y = 50 / 2 - categoryText.getMeasuredHeight() / 2;\r\n\r\n        // Styling the shape\r\n        categoryShape.color =\r\n          categoryShape.graphics.beginFill(\"lightblue\").command;\r\n        categoryShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n        categoryShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n        // Positioning and naming the container\r\n        categoryContainer.x = categoryCoordinates[i].x;\r\n        categoryContainer.y = categoryCoordinates[i].y;\r\n        categoryContainer.name = categories[i];\r\n        categoryContainer.alpha = 0;\r\n        createjs.Tween.get(categoryContainer).to({ alpha: 1 }, 300);\r\n\r\n        // Mouseover event listeners\r\n        categoryContainer.on(\"mouseover\", (e) => {\r\n          categoryShape.color.style = \"red\";\r\n        });\r\n\r\n        categoryContainer.on(\"mouseout\", (e) => {\r\n          categoryShape.color.style = \"lightblue\";\r\n        });\r\n\r\n        categoryContainer.on(\"click\", (e) => {\r\n          gameState = \"RUN_LEVEL\";\r\n          selectedCategory = categoryContainer.name;\r\n          fadeOutChildren(300);\r\n          setTimeout(() => {\r\n            runGameLoop();\r\n          }, 300);\r\n        });\r\n\r\n        categoryContainer.addChild(categoryShape, categoryText);\r\n        stage.addChild(categoryContainer);\r\n      }\r\n    }\r\n    showCategoriesText() {\r\n      const text = new createjs.Text();\r\n      text.text = \"Choose a category\";\r\n      text.font = \"30px Open Sans\";\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.25;\r\n\r\n      stage.addChild(text);\r\n    }\r\n    runCategoriesScreen() {\r\n      this.createBackground();\r\n      this.showCategoriesText();\r\n      this.showCategories();\r\n    }\r\n  }\r\n\r\n  class LevelScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.correctWord = selectRandomFromArray(words[selectedCategory]);\r\n      this.letterHolders = [];\r\n      this.selectedIndex = 0;\r\n      this.keyboard = phone ? phoneKeyboard : computerKeyboard;\r\n    }\r\n    displayEmptyLetters() {\r\n      for (let i = 0; i < this.correctWord.length; i++) {\r\n        const letterContainer = new createjs.Container();\r\n        letterContainer.name = this.correctWord[i];\r\n        letterContainer.y = stage.canvas.height / 2;\r\n        const letterShape = new createjs.Shape();\r\n        letterShape.stroke = letterShape.graphics\r\n          .setStrokeStyle(2)\r\n          .beginStroke(\"black\").command;\r\n        letterShape.graphics.beginStroke(\"red\");\r\n        letterShape.graphics.moveTo(0, 50);\r\n        letterShape.graphics.lineTo(30, 50);\r\n        letterContainer.addChild(letterShape);\r\n        this.letterHolders.push(letterContainer);\r\n      }\r\n      let y_co = stage.canvas.width / 2 - (this.letterHolders.length * 50) / 2;\r\n      this.letterHolders.forEach((letter) => {\r\n        letter.x = y_co;\r\n        stage.addChild(letter);\r\n        y_co += 50;\r\n      });\r\n    }\r\n    createHomeButton() {\r\n      let container = new createjs.Container();\r\n      container.x = 5;\r\n      container.y = 35;\r\n      let image = new createjs.Bitmap(loader.getResult(\"home\"));\r\n      image.scaleX = 50 / image.image.width;\r\n      image.scaleY = 50 / image.image.height;\r\n      container.addChild(image);\r\n      container.on(\"click\", (e) => {\r\n        gameState = \"LOADED\";\r\n        correctGuesses = 0;\r\n        incorrectGuesses = 0;\r\n        currentLevel = 1;\r\n        runGameLoop();\r\n      });\r\n      stage.addChild(container);\r\n    }\r\n    displayInstructions() {\r\n      if (currentLevel == 1) {\r\n        let img = new createjs.Bitmap(loader.getResult(\"speech\"));\r\n        let container = new createjs.Container();\r\n        img.scaleX = 250 / img.image.width;\r\n        img.scaleY = 120 / img.image.height;\r\n        container.x = phone\r\n          ? stage.canvas.width * 0.5 - 125\r\n          : stage.canvas.width * 0.65;\r\n        container.y = phone\r\n          ? stage.canvas.height * 0.35\r\n          : stage.canvas.height * 0.2;\r\n\r\n        let text_one = new createjs.Text();\r\n        text_one.text = \"听单词然后拼写\";\r\n        text_one.font = \"20px Open Sans\";\r\n        text_one.lineWidth = 170;\r\n        text_one.x = 60;\r\n        text_one.y = 50;\r\n        container.addChild(img, text_one);\r\n        stage.addChild(container);\r\n      }\r\n    }\r\n    displayKeyBoard() {\r\n      let y_co = phone ? 100 : 150;\r\n      for (let i = 0; i < this.keyboard.length; i++) {\r\n        const keyContainer = new createjs.Container();\r\n        keyContainer.x = y_co;\r\n        keyContainer.y = calcKeyYPosition(phone, this.keyboard[i]);\r\n        const keyShape = new createjs.Shape();\r\n        keyShape.color = keyShape.graphics.beginFill(\"lightblue\").command;\r\n        keyShape.graphics.drawRect(0, 0, 50, 50);\r\n        const keyLetter = new createjs.Text();\r\n        keyLetter.text = this.keyboard[i].key;\r\n        keyLetter.font = \"25px Open Sans\";\r\n        keyLetter.x = 50 / 2 - keyLetter.getMeasuredWidth() / 2;\r\n        keyLetter.y = 50 / 2 - keyLetter.getMeasuredHeight() / 2;\r\n        this.keyboard[i].break ? (y_co = phone ? 100 : 150) : (y_co += 55);\r\n        const tempText = new createjs.Text(\r\n          this.keyboard[i].key,\r\n          \"20px Open Sans\",\r\n          \"black\"\r\n        );\r\n        keyContainer.on(\"mouseover\", (e) => {\r\n          this.letterHolders[this.selectedIndex].addChild(tempText);\r\n        });\r\n        keyContainer.on(\"mouseout\", (e) => {\r\n          this.letterHolders[this.selectedIndex].removeChild(tempText);\r\n        });\r\n        keyContainer.on(\"click\", (e) => {\r\n          if (\r\n            this.letterHolders[this.selectedIndex].name == this.keyboard[i].key\r\n          ) {\r\n            this.displayMessage(\"correct\", 500);\r\n            const text = new createjs.Text(\r\n              this.keyboard[i].key,\r\n              \"20px Open Sans\",\r\n              \"black\"\r\n            );\r\n            this.letterHolders[this.selectedIndex].addChild(text);\r\n            if (this.selectedIndex < this.letterHolders.length - 1) {\r\n              this.selectedIndex++;\r\n              correctGuesses++;\r\n            } else {\r\n              stage.children.forEach((child) =>\r\n                child.removeAllEventListeners()\r\n              );\r\n              setTimeout(() => {\r\n                incorrectGuesses++;\r\n                this.runLevelComplete();\r\n              }, 1500);\r\n            }\r\n          } else {\r\n            this.displayMessage(\"wrong\", 300);\r\n          }\r\n        });\r\n        keyContainer.addChild(keyShape, keyLetter);\r\n        stage.addChild(keyContainer);\r\n      }\r\n    }\r\n    displayListenButton() {\r\n      const imageContainer = new createjs.Container();\r\n\r\n      const iconShape = new createjs.Shape();\r\n      iconShape.graphics.beginFill(\"lightblue\").drawRect(0, 0, 65, 65);\r\n\r\n      const image = new createjs.Bitmap(loader.getResult(\"audioIcon\"));\r\n      image.scaleX = 50 / image.image.width;\r\n      image.scaleY = 50 / image.image.height;\r\n      image.x = 65 / 2 - 25;\r\n      image.y = 65 / 2 - 25;\r\n      imageContainer.x = 60;\r\n      imageContainer.y = stage.canvas.height * 0.4;\r\n\r\n      const sound = () => {\r\n        this.playSound();\r\n        imageContainer.removeEventListener(\"click\", sound);\r\n        setTimeout(() => {\r\n          imageContainer.addEventListener(\"click\", sound);\r\n        }, 1000);\r\n      };\r\n\r\n      imageContainer.addEventListener(\"click\", sound);\r\n      imageContainer.addChild(iconShape, image);\r\n      stage.addChild(imageContainer);\r\n    }\r\n    displayMessage(messageText, time) {\r\n      const message = new createjs.Text();\r\n      message.text = messageText;\r\n      message.font = \"20px Open Sans\";\r\n      message.x = stage.canvas.width / 2 - message.getMeasuredWidth() / 2;\r\n      message.y = phone ? stage.canvas.width * 0.65 : stage.canvas.width * 0.3;\r\n      message.alpha = 0;\r\n      createjs.Tween.get(message).to({ alpha: 1 }, time);\r\n      stage.addChild(message);\r\n      setTimeout(() => {\r\n        createjs.Tween.get(message)\r\n          .to({ alpha: 0 }, time)\r\n          .call(() => stage.removeChild(message));\r\n      }, 700);\r\n    }\r\n    displayCurrentLevel() {\r\n      const levelText = new createjs.Text(\r\n        currentLevel + \"/10\",\r\n        \"25px Open Sans\",\r\n        \"black\"\r\n      );\r\n      levelText.x = 0;\r\n      levelText.y = 0;\r\n      stage.addChild(levelText);\r\n    }\r\n    runLevelComplete() {\r\n      fadeOutChildren(300);\r\n      setTimeout(() => {\r\n        stage.children.forEach(\r\n          (child) => child.name !== \"background\" && stage.removeChild(child)\r\n        );\r\n        this.playSound();\r\n        this.displayImage();\r\n        const text = new createjs.Text(\r\n          this.correctWord,\r\n          \"35px Open Sans\",\r\n          \"black\"\r\n        );\r\n        text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n        text.y = stage.canvas.height * 0.5;\r\n        text.alpha = 0;\r\n\r\n        let buttonContainer = new createjs.Container();\r\n        let buttonShape = new createjs.Shape();\r\n        let buttonText = new createjs.Text();\r\n\r\n        // Styling the text\r\n        buttonText.text = \"Next level\";\r\n        buttonText.font = \"27px Open Sans\";\r\n        buttonText.x = 200 / 2 - buttonText.getMeasuredWidth() / 2;\r\n        buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n        // Styling the shape\r\n        buttonShape.color = buttonShape.graphics.beginFill(\"lightblue\").command;\r\n        buttonShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n        // Positioning the container\r\n        buttonContainer.x = stage.canvas.width * 0.5 - 100;\r\n        buttonContainer.y = stage.canvas.height * 0.6;\r\n        buttonContainer.alpha = 0;\r\n\r\n        createjs.Tween.get(text).to({ alpha: 1 }, 300);\r\n        createjs.Tween.get(buttonContainer).to({ alpha: 1 }, 300);\r\n\r\n        buttonContainer.on(\"mouseover\", (e) => {\r\n          e.currentTarget.children[0].color.style = \"red\";\r\n        });\r\n\r\n        buttonContainer.on(\"mouseout\", (e) => {\r\n          e.currentTarget.children[0].color.style = \"lightblue\";\r\n        });\r\n\r\n        buttonContainer.on(\"click\", (e) => {\r\n          if (currentLevel === 10) {\r\n            gameState = \"RUN_END_SCREEN\";\r\n          } else {\r\n            currentLevel++;\r\n          }\r\n          runGameLoop();\r\n        });\r\n\r\n        buttonContainer.addChild(buttonShape, buttonText);\r\n\r\n        stage.addChild(text, buttonContainer);\r\n      }, 300);\r\n    }\r\n    runGameComplete() {\r\n      console.log(\"ran\");\r\n    }\r\n    playSound() {\r\n      createjs.Sound.play(this.correctWord + \"mp3\");\r\n    }\r\n    displayImage() {\r\n      const imageContainer = new createjs.Container();\r\n      console.log(this.correctWord);\r\n      const image = new createjs.Bitmap(\r\n        loader.getResult(this.correctWord + \"IMG\")\r\n      );\r\n      image.scaleX = 200 / image.image.width;\r\n      image.scaleY = 200 / image.image.height;\r\n      imageContainer.x = stage.canvas.width * 0.5 - 200 / 2;\r\n      imageContainer.y = phone ? 75 : 30;\r\n      imageContainer.addChild(image);\r\n      stage.addChild(imageContainer);\r\n    }\r\n    runLevelScreen() {\r\n      this.createBackground();\r\n      this.displayInstructions();\r\n      this.createHomeButton();\r\n      this.displayCurrentLevel();\r\n      this.displayEmptyLetters();\r\n      this.displayKeyBoard();\r\n      this.displayImage();\r\n      this.displayListenButton();\r\n      this.playSound();\r\n    }\r\n  }\r\n\r\n  class EndGameScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n    }\r\n    showScore() {\r\n      fadeOutChildren(300);\r\n      setTimeout(() => {\r\n        stage.children.forEach(\r\n          (child) => child.name !== \"background\" && stage.removeChild(child)\r\n        );\r\n        const scoreText = new createjs.Text(\r\n          \"Score: \" + calculateError() + \"%\",\r\n          \"30px Open Sans\",\r\n          \"black\"\r\n        );\r\n        scoreText.x = stage.canvas.width / 2 - scoreText.getMeasuredWidth() / 2;\r\n        scoreText.y = stage.canvas.height * 0.4;\r\n        addScore(calculateError(), \"Spelling\");\r\n        stage.addChild(scoreText);\r\n\r\n        // play again button\r\n        let buttonContainer = new createjs.Container();\r\n        let buttonShape = new createjs.Shape();\r\n        let buttonText = new createjs.Text();\r\n\r\n        // Styling the text\r\n        buttonText.text = \"Play again\";\r\n        buttonText.font = \"27px Open Sans\";\r\n        buttonText.x = 200 / 2 - buttonText.getMeasuredWidth() / 2;\r\n        buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n        // Styling the shape\r\n        buttonShape.color = buttonShape.graphics.beginFill(\"lightblue\").command;\r\n        buttonShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n        // Positioning the container\r\n        buttonContainer.x = stage.canvas.width * 0.5 - 100;\r\n        buttonContainer.y = stage.canvas.height * 0.6;\r\n\r\n        buttonContainer.addChild(buttonShape, buttonText);\r\n\r\n        buttonContainer.on(\"mouseover\", (e) => {\r\n          e.currentTarget.children[0].color.style = \"red\";\r\n        });\r\n\r\n        buttonContainer.on(\"mouseout\", (e) => {\r\n          e.currentTarget.children[0].color.style = \"lightblue\";\r\n        });\r\n\r\n        buttonContainer.on(\"click\", (e) => {\r\n          currentLevel = 1;\r\n          incorrectGuesses = 0;\r\n          correctGuesses = 0;\r\n          gameState = \"RUN_LEVEL\";\r\n          runGameLoop();\r\n        });\r\n\r\n        stage.addChild(buttonContainer);\r\n      }, 300);\r\n    }\r\n    runEndGame() {\r\n      this.showScore();\r\n    }\r\n  }\r\n\r\n  // Main game loop\r\n  const runGameLoop = () => {\r\n    switch (gameState) {\r\n      case \"LOADING\":\r\n        runLoadingScreen();\r\n        break;\r\n      case \"LOADED\":\r\n        runCategoriesScreen();\r\n        break;\r\n      case \"RUN_LEVEL\":\r\n        runLevelScreen();\r\n        break;\r\n      case \"RUN_END_SCREEN\":\r\n        runEndScreen();\r\n        break;\r\n      default:\r\n        console.log(\"default_ran\");\r\n    }\r\n  };\r\n\r\n  const calculateError = () => {\r\n    const score = (correctGuesses / (correctGuesses + incorrectGuesses)) * 100;\r\n    return Math.round(score);\r\n  };\r\n\r\n  const fadeOutChildren = (time) => {\r\n    stage.children.forEach((child) => {\r\n      child.name !== \"background\" &&\r\n        createjs.Tween.get(child).to({ alpha: 0 }, time);\r\n    });\r\n  };\r\n\r\n  const handleResize = (e) => {\r\n    window.innerWidth < 900 ? (phone = true) : (phone = false);\r\n    stage.removeAllEventListeners(\"click\");\r\n    stage.removeAllChildren();\r\n    resizeCanvas();\r\n    runGameLoop();\r\n  };\r\n\r\n  function resizeCanvas() {\r\n    if (window.innerWidth >= 800) {\r\n      phone = false;\r\n      canvasRef.current.width = 800;\r\n      canvasRef.current.height = 550;\r\n\r\n      let widthToHeight = 800 / 550;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    } else {\r\n      phone = true;\r\n      canvasRef.current.width = canvasRef ? 550 : null;\r\n      canvasRef.current.height = canvasRef ? 800 : null;\r\n      let widthToHeight = 550 / 800;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    }\r\n  }\r\n  React.useEffect(() => {\r\n    console.log(window);\r\n    init();\r\n    return () => {\r\n      createjs.Sound.removeAllSounds();\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  });\r\n  return (\r\n    <div ref={containerRef} className=\"canvas-holder\">\r\n      <canvas\r\n        id=\"canvas2\"\r\n        ref={canvasRef}\r\n        width=\"800px\"\r\n        height=\"550px\"\r\n      ></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, (dispatch) => ({\r\n  addScore: (score, gameName) => dispatch(addScores(score, gameName)),\r\n}))(Spelling);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addScores } from \"../../redux/API/API.actions\";\r\n\r\nconst Questions = ({ addScore }) => {\r\n  const containerRef = React.useRef(null);\r\n  const canvasRef = React.useRef(null);\r\n  const createjs = window.createjs;\r\n  let stage;\r\n  let loader;\r\n  let percentLoaded;\r\n  let correct = 0;\r\n  let incorrect = 0;\r\n  let phone;\r\n  let gameState = \"LOADING\";\r\n  let currentLevel = 1;\r\n  const gameData = [\r\n    {\r\n      question: \"is your name?\",\r\n      answer: \"What\",\r\n      options: [\"When\", \"Who\", \"Is\", \"What\"],\r\n      imgID: \"what_is_your_nameIMG\",\r\n    },\r\n    {\r\n      question: \"is he eating?\",\r\n      answer: \"What\",\r\n      options: [\"When\", \"What\", \"Why\", \"Where\"],\r\n      imgID: \"what_is_he_eatingIMG\",\r\n    },\r\n    {\r\n      question: \"is lunch?\",\r\n      answer: \"When\",\r\n      options: [\"When\", \"What\", \"Why\", \"Where\"],\r\n      imgID: \"when_is_lunchIMG\",\r\n    },\r\n    {\r\n      question: \"he a student?\",\r\n      answer: \"Is\",\r\n      options: [\"Are\", \"Who\", \"What\", \"Is\"],\r\n      imgID: \"is_he_a_studentIMG\",\r\n    },\r\n    {\r\n      question: \"you speak Japanese?\",\r\n      answer: \"Can\",\r\n      options: [\"Are\", \"Is\", \"Why\", \"Can\"],\r\n      imgID: \"can_you_speak_japaneseIMG\",\r\n    },\r\n    {\r\n      question: \"are you from?\",\r\n      answer: \"Where\",\r\n      options: [\"Where\", \"Who\", \"Why\", \"What\"],\r\n      imgID: \"where_are_you_fromIMG\",\r\n    },\r\n    {\r\n      question: \"old are you?\",\r\n      answer: \"How\",\r\n      options: [\"Where\", \"Are\", \"How\", \"What\"],\r\n      imgID: \"how_old_are_youIMG\",\r\n    },\r\n    {\r\n      question: \"is your favourite colour?\",\r\n      answer: \"What\",\r\n      options: [\"What\", \"How\", \"Where\", \"Are\"],\r\n      imgID: \"what_is_your_favourite_colourIMG\",\r\n    },\r\n    {\r\n      question: \"do you live?\",\r\n      answer: \"Where\",\r\n      options: [\"Why\", \"How\", \"What\", \"Where\"],\r\n      imgID: \"where_do_you_liveIMG\",\r\n    },\r\n  ];\r\n  const manifest = [\r\n    {\r\n      id: \"where_do_you_liveIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/where_do_you_liveIMG.png\",\r\n    },\r\n    {\r\n      id: \"what_is_your_favourite_colourIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/what_is_your_favourite_colourIMG.png\",\r\n    },\r\n    {\r\n      id: \"how_old_are_youIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/how_old_are_youIMG.png\",\r\n    },\r\n    {\r\n      id: \"what_is_your_nameIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/what_is_your_nameIMG.png\",\r\n    },\r\n    {\r\n      id: \"where_are_you_fromIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/where_are_you_fromIMG.png\",\r\n    },\r\n    {\r\n      id: \"can_you_speak_japaneseIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/can_you_speak_japaneseIMG.png\",\r\n    },\r\n    {\r\n      id: \"what_is_he_eatingIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/what_is_he_eatingIMG.png\",\r\n    },\r\n    {\r\n      id: \"is_he_a_studentIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/is_he_a_studentIMG.png\",\r\n    },\r\n    {\r\n      id: \"when_is_lunchIMG\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/questions/when_is_lunchIMG.png\",\r\n    },\r\n    {\r\n      id: \"speech\",\r\n      type: createjs.Types.IMAGE,\r\n      src: \"https://f000.backblazeb2.com/file/audio1262/rijKkeX7T.png\",\r\n    },\r\n  ];\r\n\r\n  const init = () => {\r\n    stage = new createjs.Stage(canvasRef.current);\r\n    stage.enableMouseOver(10);\r\n    createjs.Touch.enable(stage, false, true);\r\n    createjs.Ticker.framerate = 30;\r\n    createjs.Ticker.addEventListener(\"tick\", stage);\r\n\r\n    createjs.Sound.volume = 0.5;\r\n    loader = new createjs.LoadQueue(false, null, true);\r\n    loader.installPlugin(createjs.Sound);\r\n    loader.loadManifest(manifest);\r\n    loader.addEventListener(\"error\", function (e) {\r\n      console.log(e);\r\n    });\r\n    loader.on(\"progress\", (e) => {\r\n      let loadingProgress = Math.round(loader.progress * 100);\r\n      percentLoaded = loadingProgress;\r\n      runLoadingScreen();\r\n    });\r\n    loader.on(\"complete\", (e) => {\r\n      gameState = \"LOADED\";\r\n      runGameLoop();\r\n    });\r\n    window.addEventListener(\"resize\", handleResize);\r\n    resizeCanvas();\r\n  };\r\n\r\n  const runLoadingScreen = () => {\r\n    let loadingScreen = new LoadingScreen(percentLoaded);\r\n    loadingScreen.runLoadingScreen();\r\n  };\r\n\r\n  const runGameScreen = () => {\r\n    let gameScreen = new GameScreen();\r\n    gameScreen.runGameScreen();\r\n  };\r\n\r\n  const runEndGameScreen = () => {\r\n    const endGameScreen = new EndGameScreen();\r\n    endGameScreen.runEndGameScreen();\r\n  };\r\n\r\n  class Screen {\r\n    createBackground() {\r\n      let background = new createjs.Shape();\r\n      background.name = \"background\";\r\n      background.graphics\r\n        .beginLinearGradientFill(\r\n          [\"#36d1dc \", \"#5b86e5\"],\r\n          [0, 0.5, 1],\r\n          0,\r\n          200,\r\n          0,\r\n          600\r\n        )\r\n        .drawRect(0, 0, stage.canvas.width, stage.canvas.height);\r\n      stage.addChild(background);\r\n    }\r\n  }\r\n\r\n  class LoadingScreen extends Screen {\r\n    createLoadingStatusText() {\r\n      let progressContainer = new createjs.Container();\r\n      progressContainer.x = stage.canvas.width / 2 - (25 * 10.5) / 2 - 15;\r\n      progressContainer.y = stage.canvas.height / 2 - 30 / 2;\r\n      let progressBox = new createjs.Shape();\r\n      progressBox.graphics.beginFill(\"\");\r\n      progressBox.graphics.setStrokeStyle(5).beginStroke(\"black\");\r\n      progressBox.graphics.drawRect(20, 0, 25 * 10.5, 30);\r\n\r\n      progressContainer.addChild(progressBox);\r\n      let progressStage = Math.floor(percentLoaded / 10);\r\n      for (let i = 1; i <= progressStage; i++) {\r\n        let block = new createjs.Shape();\r\n        block.graphics.beginFill(\"black\").drawRect(i * 25, 5, 20, 20);\r\n        progressContainer.addChild(block);\r\n      }\r\n\r\n      let text = new createjs.Text(\r\n        `${percentLoaded}%`,\r\n        \"50px Open Sans\",\r\n        \"black\"\r\n      );\r\n      text.x = stage.canvas.width / 2 - text.getMeasuredWidth() / 2;\r\n      text.y = stage.canvas.height * 0.55;\r\n\r\n      const messageText = new createjs.Text();\r\n      messageText.text = \"Loading / 加载中\";\r\n      messageText.font = \"25px Open Sans\";\r\n      messageText.x =\r\n        stage.canvas.width / 2 - messageText.getMeasuredWidth() / 2;\r\n      messageText.y = stage.canvas.height * 0.4;\r\n      stage.addChild(text, messageText, progressContainer);\r\n    }\r\n    runLoadingScreen() {\r\n      this.createBackground();\r\n      this.createLoadingStatusText();\r\n    }\r\n  }\r\n\r\n  class GameScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.level = gameData[Math.floor(Math.random() * gameData.length)];\r\n      this.questionText = new createjs.Text();\r\n    }\r\n    displayImage() {\r\n      const imageContainer = new createjs.Container();\r\n      imageContainer.alpha = 0;\r\n      const image = new createjs.Bitmap(loader.getResult(this.level.imgID));\r\n      image.scaleX = 250 / image.image.width;\r\n      image.scaleY = 250 / image.image.height;\r\n      imageContainer.x = stage.canvas.width * 0.5 - 250 / 2;\r\n      imageContainer.y = phone ? 50 : 10;\r\n      imageContainer.addChild(image);\r\n      createjs.Tween.get(imageContainer).to({ alpha: 1 }, 400);\r\n      stage.addChild(imageContainer);\r\n    }\r\n    displayQuestion() {\r\n      const questionContainer = new createjs.Container();\r\n      questionContainer.alpha = 0;\r\n      questionContainer.name = this.level.question;\r\n      const questionSquare = new createjs.Shape();\r\n\r\n      this.questionText.text = \"_______ \" + this.level.question;\r\n      this.questionText.font = \"25px Open Sans\";\r\n\r\n      questionSquare.graphics.beginFill(\"white\");\r\n      questionSquare.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      questionSquare.graphics.drawRect(\r\n        0,\r\n        0,\r\n        this.questionText.getMeasuredWidth() * 1.5,\r\n        50\r\n      );\r\n\r\n      this.questionText.x =\r\n        this.questionText.getMeasuredWidth() * 1.5 -\r\n        (this.questionText.getMeasuredWidth() * 1.5) / 2 -\r\n        this.questionText.getMeasuredWidth() / 2;\r\n      this.questionText.y = 50 / 2 - this.questionText.getMeasuredHeight() / 2;\r\n\r\n      questionContainer.x =\r\n        stage.canvas.width / 2 -\r\n        (this.questionText.getMeasuredWidth() * 1.5) / 2;\r\n      questionContainer.y = stage.canvas.height / 2;\r\n\r\n      questionContainer.addChild(questionSquare, this.questionText);\r\n      createjs.Tween.get(questionContainer).to({ alpha: 1 }, 400);\r\n      stage.addChild(questionContainer);\r\n    }\r\n    displayCurrentLevel() {\r\n      const levelText = new createjs.Text(\r\n        currentLevel + \"/10\",\r\n        \"25px Open Sans\",\r\n        \"black\"\r\n      );\r\n      levelText.x = 0;\r\n      levelText.y = 0;\r\n      stage.addChild(levelText);\r\n    }\r\n    displayContinueButton() {\r\n      console.log(\"run\");\r\n      let buttonContainer = new createjs.Container();\r\n      let buttonShape = new createjs.Shape();\r\n      let buttonText = new createjs.Text();\r\n\r\n      // Styling the text\r\n      buttonText.text = \"Next level\";\r\n      buttonText.font = \"27px Open Sans\";\r\n      buttonText.x = 200 / 2 - buttonText.getMeasuredWidth() / 2;\r\n      buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n      // Styling the shape\r\n      buttonShape.color = buttonShape.graphics.beginFill(\"lightblue\").command;\r\n      buttonShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      buttonShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n      // Positioning the container\r\n      buttonContainer.x = stage.canvas.width * 0.5 - 100;\r\n      buttonContainer.y = stage.canvas.height * 0.7;\r\n      //buttonContainer.alpha = 0;\r\n\r\n      //createjs.Tween.get(buttonContainer).to({ alpha: 1 }, 300);\r\n\r\n      buttonContainer.on(\"mouseover\", (e) => {\r\n        e.currentTarget.children[0].color.style = \"red\";\r\n      });\r\n\r\n      buttonContainer.on(\"mouseout\", (e) => {\r\n        e.currentTarget.children[0].color.style = \"lightblue\";\r\n      });\r\n\r\n      buttonContainer.on(\"click\", (e) => {\r\n        if (currentLevel > 10) {\r\n          gameState = \"RUN_END_GAME\";\r\n        }\r\n        stage.removeAllChildren()\r\n        runGameLoop();\r\n      });\r\n      buttonContainer.addChild(buttonShape, buttonText);\r\n      buttonContainer.alpha = 0;\r\n      createjs.Tween.get(buttonContainer).to({ alpha: 1 }, 400);\r\n      stage.addChild(buttonContainer);\r\n    }\r\n    displayInstructions() {\r\n      if (currentLevel == 1) {\r\n        let img = new createjs.Bitmap(loader.getResult(\"speech\"));\r\n        let container = new createjs.Container();\r\n        img.scaleX = 250 / img.image.width;\r\n        img.scaleY = 120 / img.image.height;\r\n        container.x = phone\r\n          ? stage.canvas.width * 0.5 - 125\r\n          : stage.canvas.width * 0.66;\r\n        container.y = phone\r\n          ? stage.canvas.height * 0.81\r\n          : stage.canvas.height * 0.2;\r\n\r\n        let text_one = new createjs.Text();\r\n        text_one.lineWidth = 150;\r\n        text_one.text = \"拖放单词将它们按 正确的顺序排列\";\r\n        text_one.font = \"20px Open Sans\";\r\n\r\n        text_one.x = 45;\r\n        text_one.y = 40;\r\n        container.addChild(img, text_one);\r\n        stage.addChild(container);\r\n      }\r\n    }\r\n    displayOptions() {\r\n      // Option one\r\n      const option_one_container = new createjs.Container();\r\n      option_one_container.alpha = 0;\r\n      option_one_container.x = stage.canvas.width * 0.2;\r\n      option_one_container.y = stage.canvas.height * 0.65;\r\n      option_one_container.name = this.level.options[0];\r\n      const option_one_shape = new createjs.Shape();\r\n      option_one_shape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      option_one_shape.graphics.beginFill(\"white\").drawRect(0, 0, 130, 40);\r\n\r\n      const option_one_text = new createjs.Text();\r\n      option_one_text.text = this.level.options[0];\r\n      option_one_text.font = \"25px Open Sans\";\r\n      option_one_text.x = 130 / 2 - option_one_text.getMeasuredWidth() / 2;\r\n      option_one_text.y = 40 / 2 - option_one_text.getMeasuredHeight() / 2;\r\n\r\n      option_one_container.on(\"mouseover\", (e) => {\r\n        this.questionText.text =\r\n          this.level.options[0] + \" \" + this.level.question;\r\n      });\r\n\r\n      option_one_container.on(\"mouseout\", (e) => {\r\n        this.questionText.text = \"______ \" + this.level.question;\r\n      });\r\n\r\n      option_one_container.on(\"click\", (e) => {\r\n        if (option_one_container.name === this.level.answer) {\r\n          correct++;\r\n          this.questionText.text =\r\n            this.level.answer + \" \" + this.level.question;\r\n          option_one_container.removeAllEventListeners();\r\n          for (let i = stage.numChildren - 1; i >= 0; i--) {\r\n            let child = stage.getChildAt(i);\r\n            if (this.level.options.includes(child.name)) {\r\n              stage.removeChild(child);\r\n            }\r\n          }\r\n          this.displayContinueButton();\r\n          currentLevel++;\r\n        }\r\n        if (option_one_container.name !== this.level.answer) {\r\n          incorrect++;\r\n          createjs.Tween.get(option_one_container)\r\n            .to({ alpha: 0 }, 300)\r\n            .call(() => {\r\n              stage.removeChild(option_one_container);\r\n            });\r\n        }\r\n      });\r\n\r\n      option_one_container.addChild(option_one_shape, option_one_text);\r\n\r\n      // Option two\r\n      const option_two_container = new createjs.Container();\r\n      option_two_container.alpha = 0;\r\n      option_two_container.x = stage.canvas.width * 0.6;\r\n      option_two_container.y = stage.canvas.height * 0.65;\r\n      option_two_container.name = this.level.options[1];\r\n      const option_two_shape = new createjs.Shape();\r\n      option_two_shape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      option_two_shape.graphics.beginFill(\"white\").drawRect(0, 0, 130, 40);\r\n\r\n      const option_two_text = new createjs.Text();\r\n      option_two_text.text = this.level.options[1];\r\n      option_two_text.font = \"25px Open Sans\";\r\n      option_two_text.x = 130 / 2 - option_two_text.getMeasuredWidth() / 2;\r\n      option_two_text.y = 40 / 2 - option_two_text.getMeasuredHeight() / 2;\r\n\r\n      option_two_container.on(\"mouseover\", (e) => {\r\n        this.questionText.text =\r\n          this.level.options[1] + \" \" + this.level.question;\r\n      });\r\n\r\n      option_two_container.on(\"mouseout\", (e) => {\r\n        this.questionText.text = \"______ \" + this.level.question;\r\n      });\r\n\r\n      option_two_container.on(\"click\", (e) => {\r\n        if (option_two_container.name === this.level.answer) {\r\n          correct++;\r\n          this.questionText.text =\r\n            this.level.answer + \" \" + this.level.question;\r\n          option_two_container.removeAllEventListeners();\r\n          for (let i = stage.numChildren - 1; i >= 0; i--) {\r\n            let child = stage.getChildAt(i);\r\n            if (this.level.options.includes(child.name)) {\r\n              stage.removeChild(child);\r\n            }\r\n          }\r\n          this.displayContinueButton();\r\n          currentLevel++;\r\n        }\r\n        if (option_two_container.name !== this.level.answer) {\r\n          incorrect++;\r\n          createjs.Tween.get(option_two_container)\r\n            .to({ alpha: 0 }, 300)\r\n            .call(() => {\r\n              stage.removeChild(option_two_container);\r\n            });\r\n        }\r\n      });\r\n\r\n      option_two_container.addChild(option_two_shape, option_two_text);\r\n\r\n      // Option three\r\n      const option_three_container = new createjs.Container();\r\n      option_three_container.alpha = 0;\r\n      option_three_container.x = stage.canvas.width * 0.2;\r\n      option_three_container.y = stage.canvas.height * 0.75;\r\n      option_three_container.name = this.level.options[2];\r\n      const option_three_shape = new createjs.Shape();\r\n      option_three_shape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      option_three_shape.graphics.beginFill(\"white\").drawRect(0, 0, 130, 40);\r\n\r\n      const option_three_text = new createjs.Text();\r\n      option_three_text.text = this.level.options[2];\r\n      option_three_text.font = \"25px Open Sans\";\r\n      option_three_text.x = 130 / 2 - option_three_text.getMeasuredWidth() / 2;\r\n      option_three_text.y = 40 / 2 - option_three_text.getMeasuredHeight() / 2;\r\n\r\n      option_three_container.on(\"mouseover\", (e) => {\r\n        this.questionText.text =\r\n          this.level.options[2] + \" \" + this.level.question;\r\n      });\r\n\r\n      option_three_container.on(\"mouseout\", (e) => {\r\n        this.questionText.text = \"______ \" + this.level.question;\r\n      });\r\n\r\n      option_three_container.on(\"click\", (e) => {\r\n        if (option_three_container.name === this.level.answer) {\r\n          correct++;\r\n          this.questionText.text =\r\n            this.level.answer + \" \" + this.level.question;\r\n          option_three_container.removeAllEventListeners();\r\n          for (let i = stage.numChildren - 1; i >= 0; i--) {\r\n            let child = stage.getChildAt(i);\r\n            if (this.level.options.includes(child.name)) {\r\n              stage.removeChild(child);\r\n            }\r\n          }\r\n          this.displayContinueButton();\r\n          currentLevel++;\r\n        }\r\n        if (option_three_container.name !== this.level.answer) {\r\n          incorrect++;\r\n          createjs.Tween.get(option_three_container)\r\n            .to({ alpha: 0 }, 300)\r\n            .call(() => {\r\n              stage.removeChild(option_three_container);\r\n            });\r\n        }\r\n      });\r\n\r\n      option_three_container.addChild(option_three_shape, option_three_text);\r\n\r\n      // Option four\r\n      const option_four_container = new createjs.Container();\r\n      option_four_container.alpha = 0;\r\n      option_four_container.x = stage.canvas.width * 0.6;\r\n      option_four_container.y = stage.canvas.height * 0.75;\r\n      option_four_container.name = this.level.options[3];\r\n      const option_four_shape = new createjs.Shape();\r\n      option_four_shape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      option_four_shape.graphics.beginFill(\"white\").drawRect(0, 0, 130, 40);\r\n\r\n      const option_four_text = new createjs.Text();\r\n      option_four_text.text = this.level.options[3];\r\n      option_four_text.font = \"25px Open Sans\";\r\n      option_four_text.x = 130 / 2 - option_four_text.getMeasuredWidth() / 2;\r\n      option_four_text.y = 40 / 2 - option_four_text.getMeasuredHeight() / 2;\r\n\r\n      option_four_container.on(\"mouseover\", (e) => {\r\n        this.questionText.text =\r\n          this.level.options[3] + \" \" + this.level.question;\r\n      });\r\n\r\n      option_four_container.on(\"mouseout\", (e) => {\r\n        this.questionText.text = \"______ \" + this.level.question;\r\n      });\r\n\r\n      option_four_container.on(\"click\", (e) => {\r\n        if (option_four_container.name === this.level.answer) {\r\n          correct++;\r\n          option_four_container.removeAllEventListeners();\r\n          this.questionText.text =\r\n            this.level.answer + \" \" + this.level.question;\r\n          for (let i = stage.numChildren - 1; i >= 0; i--) {\r\n            let child = stage.getChildAt(i);\r\n            if (this.level.options.includes(child.name)) {\r\n              stage.removeChild(child);\r\n            }\r\n          }\r\n          this.displayContinueButton();\r\n          currentLevel++;\r\n        }\r\n        if (option_four_container.name !== this.level.answer) {\r\n          incorrect++;\r\n          createjs.Tween.get(option_four_container)\r\n            .to({ alpha: 0 }, 300)\r\n            .call(() => {\r\n              stage.removeChild(option_four_container);\r\n            });\r\n        }\r\n      });\r\n\r\n      option_four_container.addChild(option_four_shape, option_four_text);\r\n      createjs.Tween.get(option_one_container).to({ alpha: 1 }, 400);\r\n      createjs.Tween.get(option_two_container).to({ alpha: 1 }, 400);\r\n      createjs.Tween.get(option_three_container).to({ alpha: 1 }, 400);\r\n      createjs.Tween.get(option_four_container).to({ alpha: 1 }, 400);\r\n\r\n      stage.addChild(\r\n        option_one_container,\r\n        option_two_container,\r\n        option_three_container,\r\n        option_four_container\r\n      );\r\n    }\r\n    runGameScreen() {\r\n      this.createBackground();\r\n      this.displayInstructions();\r\n      this.displayCurrentLevel();\r\n      this.displayImage();\r\n      this.displayQuestion();\r\n      this.displayOptions();\r\n    }\r\n  }\r\n\r\n  class EndGameScreen extends Screen {\r\n    constructor() {\r\n      super();\r\n      this.error = calculateError();\r\n    }\r\n    displayScore() {\r\n      const scoreText = new createjs.Text(\r\n        \"Score: \" + calculateError() + \"%\",\r\n        \"30px Open Sans\",\r\n        \"black\"\r\n      );\r\n      scoreText.x = stage.canvas.width / 2 - scoreText.getMeasuredWidth() / 2;\r\n      scoreText.y = stage.canvas.height * 0.4;\r\n      stage.addChild(scoreText);\r\n    }\r\n    displayButton() {\r\n      // play again button\r\n      let buttonContainer = new createjs.Container();\r\n      let buttonShape = new createjs.Shape();\r\n      let buttonText = new createjs.Text();\r\n\r\n      // Styling the text\r\n      buttonText.text = \"Play again\";\r\n      buttonText.font = \"27px Open Sans\";\r\n      buttonText.x = 200 / 2 - buttonText.getMeasuredWidth() / 2;\r\n      buttonText.y = 50 / 2 - buttonText.getMeasuredHeight() / 2;\r\n\r\n      // Styling the shape\r\n      buttonShape.color = buttonShape.graphics.beginFill(\"lightblue\").command;\r\n      buttonShape.graphics.setStrokeStyle(3).beginStroke(\"black\");\r\n      buttonShape.graphics.drawRect(0, 0, 200, 50);\r\n\r\n      // Positioning the container\r\n      buttonContainer.x = stage.canvas.width * 0.5 - 100;\r\n      buttonContainer.y = stage.canvas.height * 0.6;\r\n\r\n      buttonContainer.addChild(buttonShape, buttonText);\r\n\r\n      buttonContainer.on(\"mouseover\", (e) => {\r\n        e.currentTarget.children[0].color.style = \"red\";\r\n      });\r\n\r\n      buttonContainer.on(\"mouseout\", (e) => {\r\n        e.currentTarget.children[0].color.style = \"lightblue\";\r\n      });\r\n      buttonContainer.on(\"click\", (e) => {\r\n        currentLevel = 1;\r\n        incorrect = 0;\r\n        correct = 0;\r\n        gameState = \"LOADED\";\r\n        runGameLoop();\r\n      });\r\n      stage.addChild(buttonContainer);\r\n    }\r\n    pushScores() {\r\n      addScore(this.error, \"Questions\");\r\n    }\r\n    runEndGameScreen() {\r\n      this.createBackground();\r\n      this.displayScore();\r\n      this.displayButton();\r\n      this.pushScores();\r\n    }\r\n  }\r\n\r\n  const handleResize = (e) => {\r\n    window.innerWidth < 900 ? (phone = true) : (phone = false);\r\n    stage.removeAllEventListeners(\"click\");\r\n    stage.removeAllChildren();\r\n    resizeCanvas();\r\n    runGameLoop();\r\n  };\r\n\r\n  const calculateError = () => {\r\n    const score = (correct / (correct + incorrect)) * 100;\r\n    return Math.round(score);\r\n  };\r\n\r\n  function resizeCanvas() {\r\n    if (window.innerWidth >= 800) {\r\n      phone = false;\r\n      canvasRef.current.width = 800;\r\n      canvasRef.current.height = 550;\r\n\r\n      let widthToHeight = 800 / 550;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    } else {\r\n      phone = true;\r\n      canvasRef.current.width = canvasRef ? 550 : null;\r\n      canvasRef.current.height = canvasRef ? 800 : null;\r\n      let widthToHeight = 550 / 800;\r\n      let newWidth = window.innerWidth;\r\n      let newHeight = window.innerHeight - 200;\r\n      let newWidthToHeight = newWidth / newHeight;\r\n      if (newWidthToHeight > widthToHeight) {\r\n        newWidth = newHeight * widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      } else {\r\n        newHeight = newWidth / widthToHeight;\r\n        containerRef.current.style.height = newHeight + \"px\";\r\n        containerRef.current.style.width = newWidth + \"px\";\r\n      }\r\n    }\r\n  }\r\n\r\n  const runGameLoop = () => {\r\n    switch (gameState) {\r\n      case \"LOADING\":\r\n        runLoadingScreen();\r\n        break;\r\n      case \"LOADED\":\r\n        runGameScreen();\r\n        break;\r\n      case \"RUN_END_GAME\":\r\n        runEndGameScreen();\r\n        break;\r\n      default:\r\n        console.log(\"default_ran\");\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    init();\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  });\r\n  return (\r\n    <div ref={containerRef} className=\"canvas-holder\">\r\n      <canvas\r\n        id=\"canvas2\"\r\n        ref={canvasRef}\r\n        width=\"800px\"\r\n        height=\"550px\"\r\n      ></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, (dispatch) => ({\r\n  addScore: (score, gameName) => dispatch(addScores(score, gameName)),\r\n}))(Questions);\r\n","import React from \"react\";\r\nimport NounsGame from \"./NounsGame\";\r\nimport { Container, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { capitalize } from \"@material-ui/core\";\r\nimport \"./gameStyles.css\";\r\nimport Sentences from \"./Sentences\";\r\nimport Spelling from \"./Spelling\";\r\nimport Questions from \"./Questions\";\r\n\r\nconst useStyles = makeStyles({\r\n  flexbox: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nconst Game = ({ name }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Container>\r\n        <Typography variant=\"h2\" align=\"center\">\r\n          {capitalize(name)}\r\n        </Typography>\r\n      </Container>\r\n      <Container className={classes.flexbox}>\r\n        {name === \"nouns\" ? (\r\n          <NounsGame />\r\n        ) : name === \"sentences\" ? (\r\n          <Sentences />\r\n        ) : name === \"spelling\" ? (\r\n          <Spelling />\r\n        ) : name === \"questions\" ? (\r\n          <Questions />\r\n        ) : (\r\n          <Typography align=\"center\">\r\n            Sorry, there is no game available under this name!\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\nimport Game from \"../components/game/Game\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nconst GameScreen = () => {\r\n  const { name } = useParams();\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Container style={{ paddingBottom: \"20px\" }}>\r\n        <Game name={name} />\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameScreen;\r\n","import { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Homepage from \"./screens/Homepage\";\nimport Signup from \"./screens/Signup\";\nimport Login from \"./screens/Login\";\nimport Profile from \"./screens/Profile\";\nimport \"./index.css\";\nimport {\n  createMuiTheme,\n  ThemeProvider,\n  CircularProgress,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useCookies } from \"react-cookie\";\nimport { purple } from \"@material-ui/core/colors\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { setUserState } from \"./redux/user/user.actions\";\nimport { useEffect } from \"react\";\nimport GameScreen from \"./screens/GameScreen\";\nimport Footer from \"./components/Footer\";\nconst useStyles = makeStyles((theme) => {\n  return {\n    loading: {\n      height: \"100vh\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  };\n});\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#EDC7B7\",\n    },\n    secondary: {\n      main: \"#EEE2DC\",\n    },\n  },\n  typography: {\n    fontFamily: \"Quicksand\",\n    h3: {\n      fontSize: \"1.6rem\",\n      \"@media (min-width:600px)\": {\n        fontSize: \"2.5rem\",\n      },\n    },\n  },\n});\n\nfunction App({ state, setUserState }) {\n  const [cookies, setCookies] = useCookies([\"authorization\"]);\n  const classes = useStyles();\n\n  useEffect(() => {\n    setUserState();\n  }, []);\n\n  if (state.user.loading) {\n    return (\n      <div className={classes.loading}>\n        <h2>Loading</h2>\n        <CircularProgress />\n      </div>\n    );\n  } else {\n    return (\n      <ThemeProvider theme={theme}>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Homepage} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/profile\" component={Profile} />\n            <Route path=\"/game/:name\" component={GameScreen} />\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({ state: state }),\n  (dispatch) => ({\n    setUserState: () => dispatch(setUserState()),\n  })\n)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n","export const REQUEST_PROFILE_API = \"REQUEST_PROFILE_API\";\r\nexport const REQUEST_PROFILE_API_SUCCESS = \"REQUEST_PROFILE_API_SUCCESS\";\r\nexport const REQUEST_PROFILE_API_FAIL = \"REQUEST_PROFILE_API_FAIL\";\r\nexport const ADD_CHILD = \"ADD_CHILD\";\r\nexport const ADD_CHILD_REQUEST = \"ADD_CHILD_REQUEST\";\r\nexport const ADD_CHILD_REQUEST_FAIL = \"ADD_CHILD_REQUEST\";\r\nexport const REMOVE_CHILD = \"REMOVE_CHILD\";","const capitalize = (string) => {\r\n    return string[0].toUpperCase() + string.slice(1)\r\n} \r\n\r\nmodule.exports = {\r\n    capitalize\r\n}"],"sourceRoot":""}